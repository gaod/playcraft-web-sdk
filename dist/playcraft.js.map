{"version":3,"file":"playcraft.js","sources":["../src/config/index.js","../src/util/index.js","../src/playerCore/drm.js","../node_modules/object-assign/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/checkPropTypes.js","../node_modules/prop-types/factoryWithTypeCheckers.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../src/playerCore/adaptation.js","../src/config/lang/index.js","../src/Enum.js","../src/Types.js","../src/playerCore/events.js","../src/playerCore/getErrorInfo.js","../src/player/store/action/index.js","../src/player/store/action/UI.js","../src/Hooks.js","../src/util/events.js","../src/playerCore/playlog.js","../src/player/createSession.js","../src/player/playerContext.js","../src/player/store/index.jsx","../src/util/loadScript.js","../src/cast/framework.js","../src/cast/context.js","../src/util/mediaSource.js","../src/player/store/action/Player.js","../src/player/store/middleware/localStorage.js","../src/player/store/action/API.js","../src/player/store/operator.js","../src/player/store/adapter/Cast.jsx","../node_modules/uuid/lib/rng.js","../node_modules/uuid/lib/bytesToUuid.js","../node_modules/uuid/v1.js","../node_modules/uuid/v4.js","../node_modules/uuid/index.js","../src/player/store/adapter/LimitOnePlayback.jsx","../src/player/store/adapter/LocalStorage.jsx","../src/util/parseThumbnails.js","../src/player/store/adapter/API/Service/Resource.js","../src/player/store/adapter/API/Service/Session.js","../src/player/store/adapter/API/Service/index.jsx","../src/player/store/adapter/Event.jsx","../src/player/store/adapter/Agent.jsx","../src/util/environment.js","../src/player/store/adapter/EnvironmentValidator.jsx","../src/player/store/adapter/MobileSafariPlugin.jsx","../src/player/store/adapter/OTP_1878.jsx","../src/context/I18n/Provider.jsx","../src/context/I18n/Message.jsx","../src/context/I18n/index.js","../src/component/DeviceDetecter/index.jsx","../src/playerCore/blurPause.js","../src/style/index.js","../src/player/safari.js","../src/player/BitmovinPlayer.jsx","../src/player/PlayerVideo.js","../src/player/store/useStore.js","../src/util/formattedTime.js","../src/player/store/getPlaybackInfo.js","../src/player/store/useUiActions.js","../src/player/container/CoverImageWrap.js","../src/player/store/getPlaybackState.js","../src/style/icon.js","../src/component/Tooltip.jsx","../src/player/container/ControlsTooltip.js","../src/player/store/action/playAction.js","../src/component/Button/SquareButton.jsx","../src/component/Icon.jsx","../src/player/container/Button/IconButton.jsx","../src/player/container/Button/PlayButton.jsx","../src/component/SimpleSlider.jsx","../src/component/VideoThumbnail.jsx","../src/player/store/useThumbnail.js","../src/player/container/Seekbar.js","../src/player/container/LiveSeekbar.jsx","../src/player/container/Button/RewindButton.jsx","../src/player/container/Button/ForwardButton.jsx","../src/component/VolumeControl.js","../src/player/store/usePlayerVolume.js","../src/player/container/VolumeControl.js","../src/player/store/middleware/logger.js","../src/player/store/middleware/thunk.js","../src/player/store/middleware/createGate.js","../src/player/store/reducer/API.js","../src/player/store/reducer/Player.js","../src/player/store/reducer/UI.js","../src/player/store/reducer/LocalStorage.js","../src/player/store/reducer/index.js","../src/player/store/createStore.js","../src/player/Hooks.js","../src/player/settings.js","../src/player/container/Button/SettingButton.jsx","../src/component/Button/CastButton.jsx","../src/player/container/Button/CastButton.jsx","../src/player/container/FunctionButtons.js","../src/player/container/Button/FullScreenButton.jsx","../src/player/container/Button/PreEpisodeButton.jsx","../src/player/container/Button/NextEpisodeButton.jsx","../src/player/container/Button/BackButton.jsx","../src/component/ErrorMessage.jsx","../src/component/Button/TextButton.jsx","../src/component/Mask/Error.jsx","../src/component/Mask/Loading.jsx","../src/component/Panel/PlayPanel.jsx","../src/component/Button/Link.jsx","../src/component/Mask/LinearEnd.jsx","../src/component/Mask/Cast.jsx","../src/component/Button/SkipButton.js","../src/player/getComponents.js","../src/playerUi/DefaultLayout.js","../src/component/Panel/RecommendationPanel.jsx","../src/playerUi/BottomPanels.js","../src/playerUi/Subtitles.js","../src/playerUi/index.js","../src/component/PlayDialog.jsx","../src/player/container/AutoplayDialog.jsx","../src/player/container/PlayerSettings.js","../src/player/container/PlayerUi.js","../src/player/linear.js","../src/player/vod.js","../src/player/index.jsx","../src/enterprise.js","../src/playerCore/fetchManifests.js","../src/ad/impression.js","../src/ad/vast.js","../src/ad/seekingHandler.js","../src/plugins/MediaTailor.js","../src/component/Panel/FunctionBar.jsx","../src/component/FormattedTime.jsx","../src/cast/container/Seekbar.jsx","../src/cast/container/IconButton.jsx","../src/cast/container/PlayButton.jsx","../src/cast/container/RewindButton.jsx","../src/cast/container/ForwardButton.jsx","../src/cast/container/PreEpisodeButton.jsx","../src/cast/container/NextVideoButton.jsx","../src/cast/container/MiniControl.jsx","../src/cast/index.js","../src/player/handleIOSHeadphonesDisconnection.js","../src/index.js"],"sourcesContent":["import BitmovinConfig from './BitmovinConfig.json'\nimport desktop from './env/desktop.json'\nimport mobile from './env/mobile.json'\n\nexport default {\n  BitmovinConfig,\n  SupportEnvironment: {\n    desktop,\n    mobile,\n  },\n}\n","import _get from 'dlv'\n\nexport const combineReducer = structure => {\n  const props = Object.keys(structure)\n  return (state, action) => {\n    const newState = props.reduce((res, name) => {\n      res[name] = structure[name](state[name], action)\n      return res\n    }, {})\n    const isChange = props.some(name => state[name] !== newState[name])\n    return isChange ? newState : state\n  }\n}\n\nconst queryString = object =>\n  object &&\n  typeof object === 'object' &&\n  Object.getOwnPropertyNames(object)\n    .map(name => `${name}=${encodeURIComponent(object[name])}`)\n    .join('&')\n\nexport const convertToSearch = query =>\n  Object.entries(query)\n    .map(([key, value]) => {\n      const jsonString = JSON.stringify(value)\n      const encodedValue = ['string'].includes(typeof value)\n        ? encodeURIComponent(jsonString)\n        : jsonString\n      return [encodeURIComponent(key), encodedValue]\n    })\n    .reduce((res, [key, value]) => `${res}${key}=${value}&`, '?')\n    .slice(0, -1)\n\nconst toKeyValuePair = (object = {}) =>\n  Object.entries(object)\n    .map(([key, value]) => `${key}: ${value}`)\n    .join('\\n')\n\nexport const mapPlayerOptions = values => ({\n  ...values,\n  contentOther: toKeyValuePair(values.contentOther),\n  langCustomCode: toKeyValuePair(values.langCustomCode),\n  customHeader: toKeyValuePair(values.customHeader),\n  ampProps: toKeyValuePair(values.ampProps),\n  supportEnvironmentList: JSON.stringify(values.supportEnvironmentList),\n})\n\nexport const catchBy = error => func => (...args) => {\n  try {\n    return func.apply(this, args)\n  } catch (e) {\n    return error(e)\n  }\n}\n\nexport function scope(min, value, max) {\n  if (min > value) return min\n  if (max < value) return max\n  return value\n}\n\nexport const getLiveTime = detail => {\n  const startTime = _get(detail, 'start_time') || _get(detail, 'startTime') || 0\n  const endTime = _get(detail, 'end_time') || _get(detail, 'endTime') || 0\n  const duration = endTime - startTime\n  const nowSecond = Math.floor(Date.now() / 1000)\n\n  return {\n    currentTime: scope(0, nowSecond - startTime, duration),\n    duration,\n  }\n}\n\nexport function convertToTimeString(date, fmt) {\n  return fmt\n    .replace(/YYYY/g, `0000${date.getFullYear()}`.slice(-4))\n    .replace(/MM/g, `00${date.getMonth() + 1}`.slice(-2))\n    .replace(/DD/g, `00${date.getDate()}`.slice(-2))\n    .replace(/HH/g, `00${date.getHours()}`.slice(-2))\n    .replace(/mm/g, `00${date.getMinutes()}`.slice(-2))\n    .replace(/SS/g, `00${date.getSeconds()}`.slice(-2))\n}\n\nexport function convertToSeconds(timeString) {\n  const [hours, minutes, seconds] = timeString.split(':').map(parseFloat)\n  return hours * 3600 + minutes * 60 + seconds\n}\n\nexport function isInScope(min, value, max) {\n  return min <= value && value <= max\n}\n\nexport function getVersion() {\n  try {\n    // eslint-disable-next-line no-undef\n    return process.env.VERSION\n  } catch (e) {\n    return undefined\n  }\n}\n\nexport function getPopoverPosition(rect, target, boundary) {\n  const rectX = rect.x || rect.left\n  const boundaryX = boundary.x || boundary.left\n  const maxLeft = boundary.width - rect.width\n  const targetCenter = (target.left + target.right) / 2 - boundaryX\n  const center = rectX + rect.width / 2 - boundaryX\n  const alignLeft = rectX + (targetCenter - center) - boundaryX\n  return {\n    left: Math.max(0, Math.min(alignLeft, maxLeft)),\n    top: target.top - rect.height,\n  }\n}\n\n// eslint-disable-next-line consistent-return\nexport const safeExec = (func, args = []) => {\n  try {\n    return func && func(...args)\n  } catch (e) {\n    console.warn(e)\n  }\n}\n\nexport const debounce = (callback, ms) => {\n  let lastTouchEnd = 0\n  return event => {\n    const now = new Date().getTime()\n    if (now - lastTouchEnd <= ms) {\n      event.preventDefault()\n    } else {\n      callback(event)\n      lastTouchEnd = now\n    }\n  }\n}\n\nexport {queryString, queryString as convertObjectToQueryString}\n","/* eslint-disable indent */\nimport {queryString} from 'util/index'\n\nconst FairplayKeySystem = {\n  prepareContentId: contentUri => {\n    const uriParts = contentUri.split('://')\n    const contentId = uriParts[1] || ''\n    return uriParts[0].slice(-3).toLowerCase() === 'skd' ? contentId : ''\n  },\n  prepareCertificate: cert => new Uint8Array(cert),\n  prepareMessage: (keyMessageEvent, keySession) => {\n    const spc = encodeURIComponent(keyMessageEvent.messageBase64Encoded)\n    const assetId = encodeURIComponent(keySession.contentId)\n\n    return `spc=${spc}&asset_id=${assetId}`\n  },\n  prepareLicense: license => {\n    if (license.substr(0, 5) === '<ckc>' && license.substr(-6) === '</ckc>') {\n      return license.slice(5, -6)\n    }\n\n    return license\n  },\n}\n\n/**\n * @typedef {'HW_SECURE_ALL'|'HW_SECURE_DECODE'|'HW_SECURE_CRYPTO'|'SW_SECURE_DECODE'|'SW_SECURE_CRYPTO'|''} WidevineLevels\n * @description Check if device supports hardware widevine (Level 1)\n * @param {object}\n * @returns {Promise<WidevineLevels>}\n */\nconst getWidevineLevel = async () => {\n  const levels = [\n    'HW_SECURE_ALL',\n    'HW_SECURE_DECODE',\n    'HW_SECURE_CRYPTO',\n    'SW_SECURE_DECODE',\n    'SW_SECURE_CRYPTO',\n  ]\n\n  try {\n    const keySystem = await navigator.requestMediaKeySystemAccess(\n      'com.widevine.alpha',\n      levels.map(robustness => ({\n        videoCapabilities: [\n          {\n            contentType: 'video/mp4;codecs=\"avc1.4d401e\"',\n            robustness,\n          },\n        ],\n      }))\n    )\n    return keySystem.getConfiguration()?.videoCapabilities[0].robustness || ''\n  } catch (e) {\n    return ''\n  }\n}\n\nconst getDeviceLevel = level => (level?.startsWith?.('HW') ? 1 : 3)\n\nconst getRobustness = widevine => {\n  const deviceLevel = getDeviceLevel(widevine.level)\n  const policy = widevine.policy || 'device'\n  const blocked = (widevine.blockedDevices || []).some(name =>\n    navigator.userAgent.includes(name)\n  )\n  return policy === 'force-l3'\n    ? 'SW_SECURE_DECODE'\n    : policy === 'auto'\n    ? undefined\n    : policy === 'force-l1'\n    ? deviceLevel === 1\n      ? widevine.level\n      : 'HW_SECURE_DECODE'\n    : blocked\n    ? 'SW_SECURE_DECODE'\n    : widevine.level\n}\n\nconst getDrmConfig = (config, {host, widevine = {}, fairplay = {}}) => {\n  const videoRobustness = getRobustness(widevine)\n  const widevineHeaders = {\n    ...config.headers,\n    ...widevine?.headers,\n  }\n  const fairplayHeaders = {\n    ...config.headers,\n    ...fairplay?.headers,\n  }\n\n  return {\n    widevine: {\n      LA_URL: host.widevine,\n      ...config,\n      headers: widevineHeaders,\n      ...(videoRobustness && {videoRobustness}),\n    },\n    fairplay: {\n      LA_URL: host.fairplay,\n      ...config,\n      headers: fairplayHeaders,\n      certificateURL: `${host.fairplay.replace(/\\/$/, '')}/fairplay_cert`,\n      certificateHeaders: fairplay.certificateHeaders,\n      ...FairplayKeySystem,\n    },\n    playready: {\n      LA_URL: host.playready,\n      ...config,\n    },\n  }\n}\n\n/**\n * @param {object}\n * @param {object} .host\n * @param {string} .host.widevine\n * @param {string} .host.fairplay\n * @param {string} .host.playready\n * @param {string} .token\n * @param {object} .headers\n * @param {object} .widevine\n * @param {WidevineLevels} .widevine.level\n * @param {string[]} .widevine.blockedDevices Some devices doesn't play well\n * with hardware based Widevine, so don't enforce it\n */\nconst getEnterpriseDrmConfig = ({host, token, headers = {}, widevine = {}}) => {\n  const config = {\n    withCredentials: false,\n    headers: {\n      'X-Custom-Data': `token_type=playback&token_value=${token}`,\n      'X-Custom-Header': queryString(headers),\n    },\n  }\n  const deviceLevel = getDeviceLevel(widevine?.level)\n\n  return getDrmConfig(config, {\n    host,\n    widevine: {\n      ...widevine,\n      headers: {\n        'X-Custom-Header': queryString({\n          ...headers,\n          widevine_security_level: `L${deviceLevel}`,\n        }),\n      },\n    },\n  })\n}\n\nconst getDefaultDrmConfig = ({host, token, widevine = {}}) => {\n  const config = {\n    withCredentials: false,\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  }\n  const fairplay = {\n    headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n    certificateHeaders: {Authorization: `Bearer ${token}`},\n  }\n\n  return getDrmConfig(config, {host, widevine, fairplay})\n}\n\nexport {getEnterpriseDrmConfig, getDefaultDrmConfig, getWidevineLevel}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","const getTargetQuality = (items, suggested) => {\n  const sorted = items.sort((a, b) => b - a)\n  if (!suggested) {\n    return sorted[0]\n  }\n  return sorted.find(value => value <= suggested) || sorted.slice(-1)[0]\n}\n\nconst filterHlsManifestQualities = (data, {sourceUrl, maxHeight}) => {\n  if (RegExp(`RESOLUTION=\\\\d+x${maxHeight}\\\\W`).test(data)) {\n    return data\n      .replace(\n        /(#EXT-X-STREAM-INF:.*RESOLUTION=\\d+x)(\\d+)(.*\\n)(.*)(\\n)/g,\n        (match, part1, height, part2, fileName, line) =>\n          height <= maxHeight\n            ? [part1, height, part2, new URL(fileName, sourceUrl), line].join(\n                ''\n              )\n            : ''\n      )\n      .replace(\n        /(#EXT-X-MEDIA:.*URI=\")(.*)(\")/g,\n        (match, part, fileName, line) =>\n          [part, new URL(fileName, sourceUrl), line].join('')\n      )\n  }\n}\n\nconst matchAll = (input, pattern) => {\n  const flags = [\n    pattern.global && 'g',\n    pattern.ignoreCase && 'i',\n    pattern.multiline && 'm',\n  ]\n    .filter(Boolean)\n    .join('')\n  const clone = new RegExp(pattern, flags)\n\n  return Array.from(\n    (function* () {\n      let matched = true\n      while (1) {\n        matched = clone.exec(input)\n        if (!matched) {\n          return\n        }\n        yield matched\n      }\n    })()\n  )\n}\n\nconst rewriteHlsUrls = (manifest, sourceUrl) =>\n  manifest.replace(\n    /((#EXT-X-MEDIA:.*URI=\")([^\"]*))|((#EXT-X-STREAM-INF.*\\n)(.*)(?=\\n))/g,\n    (...matches) =>\n      [matches[2], matches[5], new URL(matches[3] || matches[6], sourceUrl)]\n        .filter(Boolean)\n        .join('')\n  )\n\nconst rewriteHlsQualities = (manifest, {sourceUrl, filter}) => {\n  if (!filter) {\n    return\n  }\n  const files = matchAll(\n    manifest,\n    /RESOLUTION=(\\d+)x(\\d+)/g\n  ).map(([, width, height]) => ({width: +width, height: +height}))\n  const profiles = filter(files) || files\n  if (profiles.length === 0) {\n    return\n  }\n  const filtered = manifest.replace(\n    /#EXT-X-STREAM-INF.*RESOLUTION=(\\d+)x(\\d+).*\\n.*\\n/g,\n    (item, width, height) =>\n      profiles.some(p => p.width === +width && p.height === +height) ? item : ''\n  )\n  if (filtered === manifest) {\n    return\n  }\n  return rewriteHlsUrls(filtered, sourceUrl)\n}\n\nconst compareQuality = (a, b) => a.height - b.height\n\nconst filterHigherQualites = ({qualities, targetQuality}) => {\n  if (qualities.some(quality => compareQuality(quality, targetQuality) <= 0)) {\n    return qualities.filter(\n      quality => compareQuality(quality, targetQuality) <= 0\n    )\n  }\n  return [qualities.reduce((a, b) => (compareQuality(a, b) <= 0 ? a : b))]\n}\n\nexport {getTargetQuality, filterHlsManifestQualities}\nexport {rewriteHlsQualities, filterHigherQualites}\n","import en from './en.json'\nimport ja from './ja.json'\nimport zhTW from './zh-TW.json'\n\nexport default {\n  en,\n  ja,\n  'zh-tw': zhTW,\n}\n","export const LanguageCode = {\n  EN: 'en',\n  JA: 'ja',\n  ZHTW: 'zh-TW',\n}\nexport const ModuleState = {\n  UNINITIALIZATION: 0,\n  INITIALIZING: 1,\n  INITIALIZED: 2,\n  LOADING_CONTENT: 3,\n  LOADING: 3.1,\n  READY: 4,\n  ERROR: Infinity,\n}\nexport const StorageKey = {\n  VOLUME: 'KKSPlayback-volume',\n  LIMIT_ONE_PLAYBACK: 'KKSPlayback-limitOnePlayback',\n}\nexport const PlayerState = {\n  UNMOUNTED: 0,\n  MOUNTING: 1,\n  MOUNTED: 2,\n  LOADING: 3,\n  LOADED: 4,\n  READY: 5,\n  STALLING: 5.1,\n  PLAYING: 6,\n  PAUSED: 7,\n  ENDED: 8,\n}\nexport const PlayerViewMode = {\n  FULLSCREEN: 'fullscreen',\n  INLINE: 'inline',\n  PICTURE_IN_PICTURE: 'pictureinpicture',\n}\nexport const APIState = {\n  DISABLE: 0,\n  ENABLE: 1,\n  LOADING: 2,\n  READY: 3,\n}\n\nexport const AgentCommand = {\n  AUTO: 'AUTO',\n  PLAY: 'PLAY',\n  PAUSE: 'PAUSE',\n  UNMOUNT: 'UNMOUNT',\n}\nexport const EnvironmentErrorName = {\n  NOT_SUPPORT_DEVICE: 'KKS.ERROR.DEVICE_IS_NOT_SUPPORTED',\n  NOT_SUPPORT_OS: 'KKS.ERROR.OS_IS_NOT_SUPPORTED',\n  NOT_SUPPORT_OS_VERSION: 'KKS.ERROR.PLEASE_UPGRADE_OS',\n  NOT_SUPPORT_BROWSER: 'KKS.ERROR.BROWSER_IS_NOT_SUPPORTED',\n  NOT_SUPPORT_BROWSER_VERSION: 'KKS.ERROR.PLEASE_UPGRADE_BROWSER',\n}\nexport const SeekOrigin = {\n  START: 'START',\n  CURRENT: 'CURRENT',\n}\nexport const CastState = {\n  NO_DEVICES_AVAILABLE: 'NO_DEVICES_AVAILABLE',\n  CONNECTED: 'CONNECTED',\n  CONNECTING: 'CONNECTING',\n  NOT_CONNECTED: 'NOT_CONNECTED',\n}\nexport const ItemType = {\n  VIDEOS: 'videos',\n  LIVES: 'lives',\n}\n","import PropTypes from 'prop-types'\nimport lang from 'config/lang'\nimport {\n  LanguageCode as LanguageCodeEnum,\n  PlayerState as PlayerStateEnum,\n  AgentCommand as AgentCommandEnum,\n  ItemType as ItemTypeEnum,\n} from './Enum'\n\nconst ID = PropTypes.oneOfType([PropTypes.number, PropTypes.string])\nconst LanguageCode = PropTypes.oneOf(Object.values(LanguageCodeEnum))\nconst SupportEnvironmentItem = PropTypes.shape({\n  device: PropTypes.shape({type: PropTypes.string}),\n  os: PropTypes.shape({name: PropTypes.string, version: PropTypes.string}),\n  browser: PropTypes.shape({name: PropTypes.string, version: PropTypes.string}),\n})\nconst ItemType = PropTypes.oneOf(Object.values(ItemTypeEnum))\nconst VideoInfo = PropTypes.shape({\n  contentId: ID,\n  contentType: ItemType,\n  licenseId: ID,\n})\nconst PlayerState = PropTypes.oneOf(Object.values(PlayerStateEnum))\nconst TextCode = PropTypes.oneOf(\n  Array.from(\n    new Set(\n      Object.entries(lang).reduce(\n        (res, langItem) => res.concat(Object.keys(langItem[1])),\n        []\n      )\n    )\n  )\n)\nconst AgentCommand = PropTypes.oneOf(Object.values(AgentCommandEnum))\n\nexport default {\n  ID,\n  LanguageCode,\n  SupportEnvironmentItem,\n  VideoInfo,\n  PlayerState,\n  TextCode,\n  AgentCommand,\n  ItemType,\n}\n","const pipeEvents = (source, target, types) => {\n  const registered = types.map(name => {\n    const pipe = event => target.emit(name, event)\n    source.addEventListener(name, pipe)\n    return () => source.removeEventListener(name, pipe)\n  })\n\n  return () =>\n    [].concat(...registered).forEach(removeListener => removeListener())\n}\n\nconst linkPluginEvents = (plugins, handlers) => {\n  const registered = plugins.map(plugin =>\n    Object.entries(handlers).map(([eventName, handler]) =>\n      plugin.on?.(eventName, event => handler(event, plugin))\n    )\n  )\n\n  return () =>\n    [].concat(...registered).forEach(removeListener => removeListener?.())\n}\n\nexport {linkPluginEvents, pipeEvents}\n","const getPlaycraftErrorMessage = code => {\n  switch (+code) {\n    // HTTP errors\n    case 401: // please login\n      return 'KKS.ERROR.PLAYCRAFT.401'\n\n    case 404: // not found\n      return 'KKS.ERROR.PLAYCRAFT.404'\n\n    case 429: // too many requests in a given amount of time\n      return 'KKS.ERROR.PLAYCRAFT.429'\n\n    case 503: // system is in maintenance\n      return 'KKS.ERROR.PLAYCRAFT.429'\n\n    // 403 Forbidden sub types\n    case 1000: // permission required to play\n      return 'KKS.ERROR.PLAYCRAFT.1000'\n\n    case 1003: // can't play in current location\n      return 'KKS.ERROR.PLAYCRAFT.1003'\n\n    case 1002: // playing on other devices, concurrent streaming device limit exceeded\n    case 10021: // playing on other browser tab\n      return 'KKS.ERROR.PLAYCRAFT.1002'\n\n    case 1004: // delete downloaded video in another device to play\n      return 'KKS.ERROR.PLAYCRAFT.1004'\n\n    // web player doesn't have download feature. TODO: confirm is this safe to remove\n    case 1001: // permission required to download\n      return 'KKS.ERROR.PLAYCRAFT.1001'\n\n    // bugs\n    case 400: // check API request data\n    case 403: // below are server bugs\n    case 500:\n    case 501:\n    default:\n      return 'KKS.ERROR'\n  }\n}\n\nconst getErrorInfo = (error = {}) => {\n  if (\n    /network/i.test(error.name + error.message) ||\n    /ECONN/.test(error.name + error.code)\n  ) {\n    const code = [2, error.code].filter(Boolean).join('/')\n    return {code, message: 'KKS.ERROR.NETWORK_ERROR'}\n  }\n  if (error.code) {\n    return {...error, message: getPlaycraftErrorMessage(error.code)}\n  }\n  const data = error.response?.data?.error\n  if (data?.code) {\n    return {...data, message: getPlaycraftErrorMessage(data.code)}\n  }\n  const httpStatus = error.response?.status\n  if (httpStatus) {\n    return {code: httpStatus, message: `KKS.ERROR.PLAYCRAFT.${httpStatus}`}\n  }\n\n  return {code: '1', message: 'KKS.ERROR'}\n}\n\nexport default getErrorInfo\n","import getErrorInfo from 'playerCore/getErrorInfo'\n\nexport const type = {\n  INITIALIZE: 'INITIALIZE',\n  INITIALIZED: 'INITIALIZED',\n  LOAD_CONTENT: 'LOAD_CONTENT',\n  READY_TO_PLAY: 'READY_TO_PLAY',\n  BACK: 'BACK',\n  CAST_STATE_CHAGNE: 'CAST_STATE_CHAGNE',\n  REPLAY: 'REPLAY',\n\n  ERROR: 'ERROR',\n}\nexport default {\n  initialize: () => ({type: type.INITIALIZE}),\n  initialized: () => ({type: type.INITIALIZED}),\n  loadContent: () => ({type: type.LOAD_CONTENT}),\n  readyToPlay: () => ({type: type.READY_TO_PLAY}),\n  back: () => ({type: type.BACK}),\n  castStateChange: castState => ({type: type.CAST_STATE_CHAGNE, castState}),\n  replay: () => ({type: type.REPLAY}),\n\n  error: (from, error) => {\n    console.error(error)\n    return {type: type.ERROR, from, error: getErrorInfo(error || undefined)}\n  },\n}\n","import Action from './index'\n\nexport const type = {\n  CHANGE_NEXT_EPISODE: 'UI_CHANGE_NEXT_EPISODE',\n  CHANGE_PREVIOUS_EPISODE: 'UI_CHANGE_PREVIOUS_EPISODE',\n  SELECT_QUALITY: 'UI_SELECT_QUALITY',\n  SET_QUALITY_ITEMS: 'UI_SET_QUALITY_ITEMS',\n  SELECT_MEDIA_SOURCE: 'UI_SELECT_MEDIA_SOURCE',\n  SET_MEDIA_SOURCES: 'UI_SET_MEDIA_SOURCES',\n  CHANGE_THUMBNAIL_SEEKING: 'CHANGE_THUMBNAIL_SEEKING',\n  CHANGE_RECOMMENDATION_PANEL: 'CHANGE_RECOMMENDATION_PANEL',\n  TOGGLE_RECOMMENDATION_PANEL: 'TOGGLE_RECOMMENDATION_PANEL',\n  OPEN_PANEL: 'OPEN_PANEL',\n  HIDE_PANEL: 'HIDE_PANEL',\n  OFFER_AUTOPLAY: 'OFFER_AUTOPLAY',\n  DISMISS_AUTOPLAY: 'DISMISS_AUTOPLAY',\n  SHOW_MENU: 'UI_SHOW_MENU',\n  HIDE_MENU: 'UI_HIDE_MENU',\n  CHANGE_SETTINGS: 'UI_CHANGE_SETTINGS',\n  ERROR: 'UI_ERROR',\n  DRAG: 'UI_DRAG',\n  DROP: 'UI_DROP',\n  FOCUS_SEEK_BAR: 'UI_FOCUS_SEEK_BAR',\n  DRAG_SEEK_BAR: 'UI_DRAG_SEEK_BAR',\n  DROP_SEEK_BAR: 'UI_DROP_SEEK_BAR',\n  LEAVE_SEEK_BAR: 'UI_LEAVE_SEEK_BAR',\n  SET_AUTO_PLAY: 'UI_SET_AUTO_PLAY',\n  RESET_END_ROLL: 'RESET_END_ROLL',\n  STREAM_EVENTS_CHANGED: 'STREAM_EVENTS_CHANGED',\n  AD_BREAK_STARTED: 'AD_BREAK_STARTED',\n  AD_BREAK_ENDED: 'AD_BREAK_ENDED',\n  VISIBILITY_CHANGE: 'VISIBILITY_CHANGE',\n  UPDATE_SUBTITLES_CONTENT: 'UPDATE_SUBTITLES_CONTENT',\n}\nexport default {\n  changeNextEpisode: videoId => ({type: type.CHANGE_NEXT_EPISODE, videoId}),\n  changePreviousEpisode: videoId => ({\n    type: type.CHANGE_PREVIOUS_EPISODE,\n    videoId,\n  }),\n  selectQuality: (to, from) => ({type: type.SELECT_QUALITY, to, from}),\n  setQualityItems: items => ({type: type.SET_QUALITY_ITEMS, items}),\n  selectMediaSource: mediaSource => ({\n    type: type.SELECT_MEDIA_SOURCE,\n    mediaSource,\n  }),\n  setMediaSources: (items = []) => ({type: type.SET_MEDIA_SOURCES, items}),\n  enableRecommendationPanel: () => ({\n    type: type.CHANGE_RECOMMENDATION_PANEL,\n    enabled: true,\n  }),\n  disableRecommendationPanel: () => ({\n    type: type.CHANGE_RECOMMENDATION_PANEL,\n    enabled: false,\n  }),\n  toggleRecommendationPanel: () => ({type: type.TOGGLE_RECOMMENDATION_PANEL}),\n  openPanel: panel => ({type: type.OPEN_PANEL, panel}),\n  hidePanel: () => ({type: type.HIDE_PANEL}),\n  enableThumbnailSeeking: () => ({\n    type: type.CHANGE_THUMBNAIL_SEEKING,\n    enabled: true,\n  }),\n  disableThumbnailSeeking: () => ({\n    type: type.CHANGE_THUMBNAIL_SEEKING,\n    enabled: false,\n  }),\n  offerAutoplay: () => ({type: type.OFFER_AUTOPLAY}),\n  dismissAutoplay: () => ({type: type.DISMISS_AUTOPLAY}),\n  showTooltip: (id, border, message) => ({\n    type: type.SHOW_TOOLTIP,\n    message,\n    border,\n    id,\n  }),\n  updateTooltip: (id, message) => ({type: type.UPDATE_TOOLTIP, message, id}),\n  showMenu: () => ({type: type.SHOW_MENU}),\n  hideMenu: id => ({type: type.HIDE_MENU, id}),\n  changeSettings: ({id, section, value}) => ({\n    type: type.CHANGE_SETTINGS,\n    section,\n    value,\n    id,\n  }),\n  showThumbnail: (id, border, thumbnailTime) => ({\n    type: type.SHOW_THUMBNAIL,\n    thumbnailTime,\n    border,\n    id,\n  }),\n  focusSeekBar: seekTime => ({type: type.FOCUS_SEEK_BAR, seekTime}),\n  dragSeekBar: () => ({type: type.DRAG_SEEK_BAR}),\n  dropSeekBar: () => ({type: type.DROP_SEEK_BAR}),\n  leaveSeekBar: () => ({type: type.LEAVE_SEEK_BAR}),\n  drag: () => ({type: type.DRAG}),\n  drop: () => ({type: type.DROP}),\n  setAutoPlay: value => ({type: type.SET_AUTO_PLAY, autoPlay: value}),\n  resetEndRoll: value => ({type: type.RESET_END_ROLL, autoPlay: value}),\n  streamEventsChanged: (streamEvents, playbackStatus) => ({\n    type: type.STREAM_EVENTS_CHANGED,\n    streamEvents,\n    playbackStatus,\n  }),\n  adBreakStarted: (adProgressData, skipTimeOffset) => ({\n    type: type.AD_BREAK_STARTED,\n    adProgressData,\n    skipTimeOffset,\n  }),\n  adBreakEnded: () => ({type: type.AD_BREAK_ENDED}),\n  visibilityChange: () => ({type: type.VISIBILITY_CHANGE}),\n  updateSubtitlesContent: value => ({\n    type: type.UPDATE_SUBTITLES_CONTENT,\n    content: value,\n  }),\n  error: error => Action.error('UI', error),\n}\n","import {useState, useEffect, useRef, useMemo} from 'react'\nimport shallowCompare from 'zustand/shallow'\n\nexport const useTimeout = () => {\n  const timer = useRef({})\n  useEffect(() => () => clearTimeout(timer.current.id), [])\n  return [\n    (callback, ms) => {\n      clearTimeout(timer.current.id)\n      timer.current.id = setTimeout(callback, ms)\n    },\n    () => clearTimeout(timer.current.id),\n  ]\n}\n\nexport const useInterval = () => {\n  const timer = useRef({})\n  useEffect(() => () => clearInterval(timer.current.id), [])\n  return [\n    (callback, ms) => {\n      clearInterval(timer.current.id)\n      timer.current.id = setInterval(callback, ms)\n    },\n    () => clearInterval(timer.current.id),\n  ]\n}\n\nexport const useCache = newState => {\n  const [state, setState] = useState()\n  useEffect(() => {\n    if (!shallowCompare(state, newState)) setState(newState)\n  })\n  return shallowCompare(state, newState) ? state : newState\n}\n\nexport const useMemoizedRef = init => {\n  const value = useMemo(init, [])\n  return useRef(value)\n}\n\nconst useDebounce = ({value, delay}) => {\n  const [state, dispatch] = useState(value)\n  const waiting = useRef()\n\n  useEffect(() => {\n    if (waiting.current) {\n      waiting.current.value = value\n    } else {\n      waiting.current = {}\n      setTimeout(() => {\n        if ('value' in waiting.current) {\n          dispatch(waiting.current.value)\n        }\n        waiting.current = undefined\n      }, delay)\n      dispatch(value)\n    }\n  }, [value])\n\n  return state\n}\n\nconst useAutoHide = ({hideTimeMs = 3000, pinned, tapToHide, onHide} = {}) => {\n  const timer = useRef()\n  const [mode, setMode] = useState('hidden')\n\n  const interact = () => {\n    if (mode !== 'shown') {\n      setMode('shown')\n    }\n    clearTimeout(timer.current)\n    timer.current = setTimeout(() => setMode('hidden'), hideTimeMs)\n  }\n  const hide = () => {\n    clearTimeout(timer.current)\n    setMode('hidden')\n    onHide?.()\n  }\n\n  useEffect(() => {\n    if (mode === 'shown') {\n      interact()\n    }\n  }, [hideTimeMs])\n\n  useEffect(() => {\n    if (pinned) {\n      clearTimeout(timer.current)\n    } else {\n      interact()\n    }\n  }, [pinned])\n\n  useEffect(() => () => clearTimeout(timer.current), [])\n\n  return {\n    mode: pinned ? 'shown' : mode,\n    show: interact,\n    hide,\n    onClick: event => {\n      if (mode === 'hidden') {\n        interact()\n      } else if (tapToHide && event.target.tagName !== 'BUTTON') {\n        // hide if tapping on elsewhere\n        hide()\n      }\n    },\n    onMouseMove: () => {\n      // In mobile web, emulated clicks generate extra mouse move events\n      if (!('ontouchstart' in window)) {\n        interact()\n      }\n    },\n  }\n}\n\nexport {useAutoHide, useDebounce}\n","const on = (target, name, handler) => {\n  target.addEventListener(name, handler)\n  return () => target.removeEventListener(name, handler)\n}\n\nconst once = (target, name, handler) => {\n  const oneTime = (...args) => {\n    handler(...args)\n    target.removeEventListener(name, oneTime)\n  }\n  target.addEventListener(name, oneTime)\n  return () => target.removeEventListener(name, oneTime)\n}\n\nexport {on, once}\n","/* eslint-disable no-bitwise */\nimport mitt from 'mitt'\nimport {on, once} from 'util/events'\n\nconst uuidv4 = () => {\n  const crypto = window.crypto || window.msCrypto\n  return '10000000-1000-4000-8000-100000000000'.replace(/[018]/g, c =>\n    (\n      c ^\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n    ).toString(16)\n  )\n}\n\nconst modes = {videos: 'video', lives: 'live'}\n\nconst mapLogEvents = ({\n  session,\n  video,\n  version,\n  playerName,\n  getPlaybackStatus = () => video,\n}) => {\n  const emitter = mitt()\n  const state = {\n    status: 'init',\n    seeking: false,\n    playerStartTime: Date.now(),\n    moduleStartTime: Date.now(),\n    content: session.getContent(),\n  }\n  const commonPropties = () => ({\n    player_name: playerName,\n    playback_module_version: version,\n    playback_mode: modes[state.content.type],\n    playback_session_id: state.sessionId,\n    id: state.content.id,\n    name: state.content.title,\n    ...(state.content.type === 'videos' && {\n      current_position: state.currentTime,\n      video_total_duration: state.duration,\n    }),\n    ...(state.content.type === 'lives' && {\n      section_id: state.content.section_id,\n      name_2: state.content.channelName,\n    }),\n    SSAI: state.ssaiProvider || 'None',\n  })\n  const dispatchStart = () => {\n    if (state.status === 'started') {\n      return\n    }\n    state.status = 'started'\n    state.lastStartTime = Date.now()\n    const eventName = state.isPlayingAd\n      ? 'adPlaybackStarted'\n      : 'playbackStarted'\n    emitter.emit(eventName, commonPropties())\n  }\n  const dispatchStop = () => {\n    if (state.status !== 'started') {\n      return\n    }\n    state.status = 'stopped'\n    const played = (Date.now() - state.lastStartTime) / 1000\n    if (state.isPlayingAd) {\n      state.adPlayedDuration += played\n    } else {\n      state.playedDuration += played\n    }\n    const eventName = state.isPlayingAd\n      ? 'adPlaybackStopped'\n      : 'playbackStopped'\n    emitter.emit(eventName, {\n      ...commonPropties(),\n      ...(state.isPlayingAd && {ad_played_duration: played}),\n    })\n  }\n  const registered = [\n    on(session, 'error', error => {\n      emitter.emit('playbackError', {\n        module_error_code: error.code,\n        ...commonPropties(),\n      })\n    }),\n    once(session, 'playerStarted', () => {\n      state.playerStartTime = Date.now()\n    }),\n    once(session, 'playbackBegan', event => {\n      state.sessionId = uuidv4()\n      state.playedDuration = 0\n      state.content = session.getContent()\n      state.ssaiProvider = event.data?.ssaiProvider\n      state.adPlayedDuration = 0\n    }),\n    on(video, 'durationchange', () => {\n      // duration may change when playing an ad stitched stream, take only initial value\n      if (!state.duration) {\n        state.duration = getPlaybackStatus().duration\n      }\n    }),\n    once(video, 'canplay', () => {\n      state.status = 'began'\n      emitter.emit('playbackBegan', {\n        player_startup_time:\n          (state.playerStartTime - state.moduleStartTime) / 1000,\n        video_startup_time: (Date.now() - state.moduleStartTime) / 1000,\n        ...commonPropties(),\n      })\n    }),\n    on(video, 'playing', dispatchStart),\n    on(video, 'timeupdate', () => {\n      state.currentTime = getPlaybackStatus().currentTime\n    }),\n    on(video, 'pause', dispatchStop),\n    on(video, 'seeking', () => {\n      state.seekingFrom = state.currentTime\n    }),\n    on(session, 'userSeeking', () => {\n      state.seeking = true\n    }),\n    on(video, 'seeked', () => {\n      if (state.seeking) {\n        emitter.emit('seeked', {\n          seeking_from: state.seekingFrom,\n          seeking_to: video.currentTime,\n          ...commonPropties(),\n        })\n      }\n      state.seeking = false\n    }),\n    on(session, 'sectionChange', () => {\n      dispatchStop()\n      state.content = session.getContent()\n      dispatchStart()\n    }),\n    once(session, 'playbackEnded', () => {\n      if (state.status === 'started') {\n        dispatchStop()\n      }\n      state.status = 'init'\n      emitter.emit('playbackEnded', {\n        video_playback_ended_at_percentage: state.currentTime / state.duration,\n        video_total_played_duration: state.playedDuration,\n        ...(state.ssaiProvider && {\n          ad_total_played_duration: state.adPlayedDuration,\n        }),\n        ...commonPropties(),\n      })\n    }),\n    on(session, 'adBreakStarted', () => {\n      dispatchStop()\n      state.isPlayingAd = true\n      if (!state.seeking) {\n        dispatchStart()\n      }\n    }),\n    on(session, 'adBreakEnded', () => {\n      dispatchStop()\n      state.isPlayingAd = false\n      if (!state.seeking) {\n        dispatchStart()\n      }\n    }),\n  ]\n\n  return {\n    addEventListener: (name, handler) => emitter.on(name, handler),\n    all: handler => emitter.on('*', handler),\n    reset: () => registered.forEach(off => off()),\n  }\n}\n\nexport {mapLogEvents}\n","import mitt from 'mitt'\n\n// mocking new playback session interface from original store\nconst createSession = () => {\n  const state = {content: {}}\n  const emitter = mitt()\n\n  return {\n    addEventListener: (name, handler) => emitter.on(name, handler),\n    removeEventListener: (name, handler) => emitter.off(name, handler),\n    dispatchEvent: event => {\n      if (event.data?.content) {\n        state.content = {\n          type: event.data.content.contentType,\n          id: event.data.content.id,\n          title: event.data.content.title,\n        }\n      }\n      emitter.emit(event.type, event)\n    },\n    getContent: () => state.content,\n    end: () => {\n      emitter.emit('playbackEnded')\n    },\n  }\n}\n\nexport default createSession\n","import {createContext, useContext, useEffect, useRef} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {mapLogEvents} from 'playerCore/playlog'\nimport createSession from './createSession'\n\nconst playerContext = createContext({})\n\nconst getPlaybackStatus = (video, plugins) =>\n  Object.assign(\n    {\n      currentTime: video.currentTime,\n      duration: video.duration,\n    },\n    ...plugins.map(plugin => plugin.getPlaybackStatus?.())\n  )\n\nconst logEventNames = {\n  playbackBegan: 'video_playback_began',\n  playbackStarted: 'video_playback_started',\n  playbackStopped: 'video_playback_stopped',\n  playbackEnded: 'video_playback_ended',\n  seeked: 'video_seeking_ended',\n  error: 'video_playback_error_occurred',\n  adPlaybackStarted: 'ad_playback_started',\n  adPlaybackStopped: 'ad_playback_stopped',\n}\n\nconst PlayerProvider = ({\n  options,\n  content,\n  videoRef,\n  uiRef,\n  children,\n  sendLog,\n}) => {\n  const instance = useRef({})\n  instance.current.videoRef = videoRef\n  instance.current.uiRef = uiRef\n  instance.current.options = options\n\n  useEffect(() => {\n    instance.current.session = createSession()\n    const logTarget = mapLogEvents({\n      session: instance.current.session,\n      playerName: 'bitmovin',\n      version: process.env.VERSION,\n      video: videoRef.current,\n      getPlaybackStatus: () =>\n        getPlaybackStatus(videoRef.current, options.plugins),\n    })\n    if (typeof sendLog === 'function') {\n      logTarget.all((type, data) => sendLog(logEventNames[type], data))\n    }\n\n    return () => {\n      instance.current.session.end()\n      logTarget.reset()\n    }\n  }, [content.contentType, content.contentId])\n\n  return (\n    <playerContext.Provider value={instance.current}>\n      {children}\n    </playerContext.Provider>\n  )\n}\n\nPlayerProvider.propTypes = {\n  options: PropTypes.object,\n  content: PropTypes.object,\n  videoRef: PropTypes.object,\n  uiRef: PropTypes.object,\n  sendLog: PropTypes.func,\n  children: PropTypes.node,\n}\n\nconst useSetPlayer = () => {\n  const ref = useContext(playerContext)\n  return player => {\n    ref.player = player\n  }\n}\n\nconst usePlayer = () => {\n  const ref = useContext(playerContext)\n  return ref.player\n}\n\nconst useUiContainer = () => {\n  const ref = useContext(playerContext)\n  return ref.uiRef?.current\n}\n\nconst useUiRef = () => {\n  const ref = useContext(playerContext)\n  return ref.uiRef\n}\n\nconst useVideoRef = () => {\n  const ref = useContext(playerContext)\n  return ref.videoRef\n}\n\nconst useOptions = () => useContext(playerContext).options\n\nconst useDispatchSessionEvent = () => {\n  const ref = useContext(playerContext)\n  return (type, data) => ref.session.dispatchEvent({type, data})\n}\n\nexport {\n  PlayerProvider,\n  useSetPlayer,\n  usePlayer,\n  useVideoRef,\n  useUiRef,\n  useUiContainer,\n  useOptions,\n  useDispatchSessionEvent,\n}\n","import React, {useEffect, useState} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {linkPluginEvents} from 'playerCore/events'\nimport uiAction from './action/UI'\nimport {useCache} from 'Hooks'\nimport {useDispatchSessionEvent} from 'player/playerContext'\n\nexport const Context = {\n  Adapter: React.createContext(),\n  Full: React.createContext(),\n  Module: React.createContext(),\n  LocalStorage: React.createContext(),\n  Player: React.createContext(),\n  PlayerState: React.createContext(),\n  PlayerViewMode: React.createContext(),\n  PlayerProgress: React.createContext(),\n  PlayerVolume: React.createContext(),\n  API: React.createContext(),\n  UI: React.createContext(),\n}\n\nconst StoreProvider = ({store, options = {}, children = ''}) => {\n  const [state, setState] = useState(() => {\n    store.addChangedListener(store => setState(store.getState()))\n    return store.getState()\n  })\n  const dispatch = store.dispatch\n  const dispatchSessionEvent = useDispatchSessionEvent()\n\n  useEffect(() => {\n    const handleStart = event => {\n      dispatchSessionEvent('adBreakStarted')\n      store.dispatch(\n        uiAction.adBreakStarted(\n          event.getStreamData().adProgressData,\n          event.getAd()?.getSkipTimeOffset()\n        )\n      )\n    }\n\n    return linkPluginEvents(options.plugins, {\n      cuepointsChanged: (event, plugin) =>\n        store.dispatch(\n          uiAction.streamEventsChanged(\n            event.getStreamData().cuepoints,\n            plugin.getPlaybackStatus()\n          )\n        ),\n      adBreakStarted: handleStart,\n      adProgress: handleStart,\n      adBreakEnded: () => {\n        dispatchSessionEvent('adBreakEnded')\n        store.dispatch(uiAction.adBreakEnded())\n      },\n    })\n  }, [])\n\n  return (\n    <React.Fragment>\n      <Context.Adapter.Provider value={store}>\n        <Context.Full.Provider value={useCache({state, dispatch})}>\n          <Context.Module.Provider\n            value={useCache({state: state.Module, options, dispatch})}\n          >\n            <Context.UI.Provider value={useCache({state: state.UI, dispatch})}>\n              <Context.API.Provider\n                value={useCache({state: state.API, dispatch})}\n              >\n                <Context.Player.Provider\n                  value={useCache({state: state.Player, dispatch})}\n                >\n                  <Context.PlayerState.Provider\n                    value={useCache({\n                      state: state.Player.playerState,\n                      dispatch,\n                    })}\n                  >\n                    <Context.PlayerViewMode.Provider\n                      value={useCache({state: state.Player.viewMode, dispatch})}\n                    >\n                      <Context.PlayerProgress.Provider\n                        value={useCache({\n                          state: state.Player.progress,\n                          dispatch,\n                        })}\n                      >\n                        <Context.PlayerVolume.Provider\n                          value={useCache({\n                            state: state.Player.volume,\n                            dispatch,\n                          })}\n                        >\n                          {children}\n                        </Context.PlayerVolume.Provider>\n                      </Context.PlayerProgress.Provider>\n                    </Context.PlayerViewMode.Provider>\n                  </Context.PlayerState.Provider>\n                </Context.Player.Provider>\n              </Context.API.Provider>\n            </Context.UI.Provider>\n          </Context.Module.Provider>\n        </Context.Full.Provider>\n      </Context.Adapter.Provider>\n    </React.Fragment>\n  )\n}\n\nStoreProvider.propTypes = {\n  store: PropTypes.object,\n  options: PropTypes.object,\n  plugins: PropTypes.array,\n  children: PropTypes.node,\n}\n\nexport default StoreProvider\n","const loadScript = url =>\n  new Promise(resolve => {\n    const script = Object.assign(document.createElement('script'), {\n      async: true,\n      src: url,\n    })\n    script.addEventListener('load', resolve)\n    document.body.appendChild(script)\n  })\n\nexport default loadScript\n","import loadScript from 'util/loadScript'\n\nconst SENDER_URL =\n  'https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1'\n\nconst getContext = () => cast.framework.CastContext.getInstance()\n\n/* global chrome, cast */\nconst ensureSenderFramework = () =>\n  new Promise((resolve, reject) => {\n    if (window.cast && cast.framework && window.chrome && chrome.cast) {\n      resolve(getContext())\n    } else {\n      // eslint-disable-next-line no-underscore-dangle\n      window.__onGCastApiAvailable = isAvailable => {\n        isAvailable ? resolve(getContext()) : reject()\n      }\n      loadScript(SENDER_URL)\n    }\n  })\n\nconst getMediaSession = () => {\n  const context = getContext()\n  const currentSession = context.getCurrentSession()\n  return currentSession && currentSession.getMediaSession()\n}\n\nconst ensureSession = () => {\n  const context = getContext()\n  const currentSession = context.getCurrentSession()\n  if (currentSession) {\n    return Promise.resolve(currentSession)\n  }\n  return context.requestSession().then(() => context.getCurrentSession())\n}\n\nconst requestLoad = (currentSession, {id, mediaInfo, currentTime}) => {\n  const request = new chrome.cast.media.LoadRequest(\n    Object.assign(new chrome.cast.media.MediaInfo(id), {\n      ...mediaInfo,\n      metadata: new chrome.cast.media.GenericMediaMetadata(),\n    })\n  )\n  if (typeof currentTime === 'number') {\n    request.currentTime = currentTime\n  }\n  return currentSession.loadMedia(request)\n}\n\nexport {\n  ensureSenderFramework,\n  ensureSession,\n  requestLoad,\n  getContext,\n  getMediaSession,\n}\n","import {useEffect, useState, useRef, createContext, useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport Types from 'Types'\nimport {SeekOrigin} from 'Enum'\nimport {\n  ensureSenderFramework,\n  ensureSession,\n  getMediaSession,\n  requestLoad,\n} from './framework'\n\nconst castContext = createContext()\n\nconst initState = {\n  castState: null,\n  playerState: null,\n  castingMedia: null,\n  deviceName: null,\n  mediaTitle: null,\n  duration: 0,\n  progressTime: 0,\n  customData: {},\n  volume: 100,\n  muted: false,\n  streamType: null,\n}\n\nconst defaultCastContext = {\n  state: {},\n  actions: {\n    hasPrevious: () => false,\n    hasNext: () => false,\n  },\n}\n\n/* global chrome, cast */\nconst CastProvider = ({\n  appId,\n  host,\n  accessToken,\n  deviceId,\n  customHeader,\n  lang,\n  onConnected,\n  onCasting,\n  onError,\n  children,\n}) => {\n  const actions = useRef(defaultCastContext.actions)\n  const [state, setState] = useState(initState)\n  const config = useRef()\n  config.current = {\n    appId,\n    host,\n    accessToken,\n    deviceId,\n    customHeaders: customHeader,\n    lang,\n  }\n\n  useEffect(() => {\n    const setCastState = value => setState(current => ({...current, ...value}))\n    ensureSenderFramework()\n      .then(context => {\n        context.setOptions({\n          receiverApplicationId: appId,\n          resumeSavedSession: true,\n          autoJoinPolicy: chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,\n        })\n        context.addEventListener(\n          cast.framework.CastContextEventType.CAST_STATE_CHANGED,\n          ({castState}) => {\n            const currentSession = context.getCurrentSession()\n            const current = {\n              castState,\n              deviceName:\n                castState === 'CONNECTED' &&\n                currentSession.getCastDevice().friendlyName,\n              ...(currentSession && {\n                volume: currentSession.getVolume(),\n                muted: currentSession.isMute(),\n              }),\n            }\n            if (castState === 'CONNECTED') {\n              if (typeof onConnected === 'function') onConnected(current)\n            }\n\n            setCastState(current)\n          }\n        )\n\n        const player = new cast.framework.RemotePlayer()\n        const controller = new cast.framework.RemotePlayerController(player)\n\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,\n          ({value}) =>\n            setCastState({\n              playerState: value,\n              castingMedia: value !== 'IDLE' ? getMediaSession().media : null,\n            })\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.TITLE_CHANGED,\n          ({value}) => setCastState({mediaTitle: value})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,\n          ({value}) =>\n            setCastState({\n              castingMedia: value,\n              // After playing a while, media info is updated without customData\n              // It's likely receiver app bug\n              ...(value\n                ? value.customData && {customData: value.customData}\n                : {customData: {}}),\n            })\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.DURATION_CHANGED,\n          ({value}) => setCastState({duration: value})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,\n          ({value}) => setCastState({progressTime: value})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,\n          ({value}) => setCastState({volume: value})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,\n          ({value}) => setCastState({muted: value})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,\n          ({value}) => setCastState({streamType: value && value.streamType})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.IS_PLAYING_BREAK_CHANGED,\n          ({value}) => setCastState({isPlayingBreak: value})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.BREAK_CLIP_ID_CHANGED,\n          ({value}) =>\n            setCastState({\n              breakClipId: value,\n              clickThroughUrl: (getMediaSession().media?.breakClips || []).find(\n                item => item.id === value\n              )?.clickThroughUrl,\n            })\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.CURRENT_BREAK_TIME_CHANGED,\n          ({value}) => {\n            setCastState({\n              currentBreakTime: value,\n              whenSkippable: player.whenSkippable,\n            })\n          }\n        )\n\n        const getItem = (media, index) => {\n          const items = media.items || []\n          return items[(items.length + index) % items.length] || {}\n        }\n\n        return {\n          connect: () => ensureSession(),\n          loadContent: ({\n            contentId,\n            contentType,\n            licenseId,\n            mediaSource,\n            customQuery,\n            startTime,\n          }) =>\n            ensureSession()\n              .then(currentSession =>\n                requestLoad(currentSession, {\n                  id: contentId,\n                  mediaInfo: {\n                    contentId,\n                    contentID: contentId,\n                    customData: {\n                      ...config.current,\n                      itemType: contentType,\n                      licenseId,\n                      mediaSource,\n                      customQuery,\n                    },\n                  },\n                  currentTime: startTime,\n                })\n              )\n              .then(() => {\n                typeof onCasting === 'function' && onCasting()\n              })\n              .catch(error => {\n                typeof onError === 'function' && onError(error)\n                return Promise.reject(error)\n              }),\n          stopCasting: () => context.endCurrentSession(true),\n          play: () =>\n            getMediaSession().play(new chrome.cast.media.PlayRequest()),\n          pause: () =>\n            getMediaSession().pause(new chrome.cast.media.PauseRequest()),\n          seek: ({origin, seconds}) => {\n            const media = getMediaSession()\n            const currentTime =\n              seconds +\n              (origin === SeekOrigin.CURRENT ? media.getEstimatedTime() : 0)\n            media.seek(\n              Object.assign(new chrome.cast.media.SeekRequest(), {currentTime})\n            )\n          },\n          skipAd: () => controller.skipAd(),\n          hasPrevious: () => {\n            const media = getMediaSession() || {}\n            return media.currentItemId !== getItem(media, 0).itemId\n          },\n          hasNext: () => {\n            const media = getMediaSession() || {}\n            return media.currentItemId !== getItem(media, -1).itemId\n          },\n          changePreviousEpisode: () =>\n            new Promise((resolve, reject) =>\n              getMediaSession().queuePrev(resolve, reject)\n            ),\n          changeNextEpisode: () =>\n            new Promise((resolve, reject) =>\n              getMediaSession().queueNext(resolve, reject)\n            ),\n          setVolume: volume => context.getCurrentSession().setVolume(volume),\n          setMute: mute => context.getCurrentSession().setMute(mute),\n        }\n      })\n      .then(result => {\n        actions.current = result\n      })\n      .catch(error => typeof onError === 'function' && onError(error))\n  }, [])\n\n  return (\n    <castContext.Provider value={{state, actions: actions.current}}>\n      {children}\n    </castContext.Provider>\n  )\n}\n\nCastProvider.propTypes = {\n  appId: PropTypes.string,\n  host: PropTypes.string,\n  accessToken: PropTypes.string,\n  deviceId: PropTypes.string,\n  customHeader: PropTypes.object,\n  lang: Types.LanguageCode,\n  children: PropTypes.node,\n  onConnected: PropTypes.func,\n  onCasting: PropTypes.func,\n  onError: PropTypes.func,\n}\n\nconst useCastContext = () => useContext(castContext) || defaultCastContext\n\nconst CastConsumer = castContext.Consumer\n\nconst useCastVolume = () => {\n  const {\n    state: {volume, muted},\n    actions: {setVolume, setMute},\n  } = useCastContext()\n\n  return {\n    volume,\n    muted,\n    changeVolume: setVolume,\n    toggleMuted: () => setMute(!muted),\n  }\n}\n\nexport {castContext, useCastContext, useCastVolume, CastProvider, CastConsumer}\n","const getMediaSource = (state, defaultMediaSource) => {\n  const {\n    UI: {selectedMediaSource, mediaSourcePrecedence},\n  } = state\n  return mediaSourcePrecedence === 'application'\n    ? defaultMediaSource\n    : selectedMediaSource\n}\n\nexport {getMediaSource}\n","import Action from './index'\n\nexport const type = {\n  MOUNT: 'PLAYER_MOUNT',\n  MOUNTED: 'PLAYER_MOUNTED',\n  LOAD: 'PLAYER_LOAD',\n  LOADED: 'PLAYER_LOADED',\n  UNLOAD: 'PLAYER_UNLOAD',\n  UNLOADED: 'PLAYER_UNLOADED',\n  READY: 'PLAYER_READY',\n  FETCH_STATE: 'PLAYER_FETCH_STATE',\n  SET_STATE: 'PLAYER_SET_STATE',\n  UNMOUNT: 'PLAYER_UNMOUNT',\n\n  PLAY: 'PLAYER_PLAY',\n  PLAYING: 'PLAYER_PLAYING',\n  PAUSE: 'PLAYER_PAUSE',\n  PAUSED: 'PLAYER_PAUSED',\n  ENDED: 'PLAYER_ENDED',\n  UPDATE_CURRENT_TIME: 'PLAYER_UPDATE_CURRENT_TIME',\n  SEEK: 'PLAYER_SEEK',\n  SEEKED: 'PLAYER_SEEKED',\n  UPDATE_VOLUME: 'PLAYER_UPDATE_VOLUME',\n  SET_VOLUME: 'PLAYER_SET_VOLUME',\n  MUTE: 'PLAYER_MUTE',\n  MUTED: 'PLAYER_MUTED',\n  UNMUTE: 'PLAYER_UNMUTE',\n  UNMUTED: 'PLAYER_UNMUTED',\n  ENTER_FULL_SCREEN: 'PLAYER_ENTER_FULL_SCREEN',\n  LEAVE_FULL_SCREEN: 'PLAYER_LEAVE_FULL_SCREEN',\n  UPDATE_VIEW_MODE: 'PLAYER_UPDATE_VIEW_MODE',\n  UPDATE_BUFFER_TIME: 'PLAYER_UPDATE_BUFFER_TIME',\n  STALLING: 'PLAYER_STALLING',\n  STALLED: 'PLAYER_STALLED',\n  CHANGE_DASH_QUALITY: 'PLAYER_CHANGE_DASH_QUALITY',\n}\nexport default {\n  mount: () => ({type: type.MOUNT}),\n  mounted: () => ({type: type.MOUNTED}),\n  load: () => ({type: type.LOAD}),\n  loaded: payload => ({type: type.LOADED, payload}),\n  unload: () => ({type: type.UNLOAD}),\n  unloaded: () => ({type: type.UNLOADED}),\n  ready: () => ({type: type.READY}),\n  fetchState: () => ({type: type.FETCH_STATE}),\n  setState: state => ({type: type.SET_STATE, state}),\n  unmount: () => ({type: type.UNMOUNT}),\n\n  play: () => ({type: type.PLAY}),\n  playing: () => ({type: type.PLAYING}),\n  pause: () => ({type: type.PAUSE}),\n  paused: () => ({type: type.PAUSED}),\n  ended: () => ({type: type.ENDED}),\n  updateCurrentTime: ({currentTime: time, adRemainingTime}) => ({\n    type: type.UPDATE_CURRENT_TIME,\n    time,\n    adRemainingTime,\n  }),\n  seek: time => ({type: type.SEEK, time}),\n  seeked: time => ({type: type.SEEKED, time}),\n  setVolume: volume => ({type: type.SET_VOLUME, volume}),\n  updateVolume: volume => ({type: type.UPDATE_VOLUME, volume}),\n  mute: () => ({type: type.MUTE}),\n  muted: () => ({type: type.MUTED}),\n  unmute: () => ({type: type.UNMUTE}),\n  unmuted: () => ({type: type.UNMUTED}),\n  enterFullScreen: () => ({type: type.ENTER_FULL_SCREEN}),\n  leaveFullScreen: () => ({type: type.LEAVE_FULL_SCREEN}),\n  updateViewMode: mode => ({type: type.UPDATE_VIEW_MODE, mode}),\n  updateBufferTime: time => ({type: type.UPDATE_BUFFER_TIME, time}),\n  stalling: () => ({type: type.STALLING}),\n  stalled: () => ({type: type.STALLED}),\n  changeDashQuality: () => ({type: type.CHANGE_DASH_QUALITY}),\n\n  error: error => Action.error('Player', error),\n}\n","export const type = {\n  LOAD: 'LOCAL_STORAGE_LOAD',\n  SAVE: 'LOCAL_STORAGE_SAVE',\n}\n\nexport const action = {\n  load: key => ({type: type.LOAD, key}),\n  save: (key, value) => ({type: type.SAVE, key, value}),\n}\n\nconst getLocalStorageValue = (key, defaultValue) => {\n  try {\n    const source = localStorage.getItem(key)\n    if (typeof source === 'string') {\n      return JSON.parse(source)\n    }\n    // eslint-disable-next-line no-empty\n  } catch (error) {}\n  return defaultValue\n}\n\nconst setLocalStorageValue = (key, value) => {\n  localStorage.setItem(key, JSON.stringify(value))\n}\n\nconst _localStorage = () => next => action => {\n  switch (action.type) {\n    case type.LOAD:\n      action.value = getLocalStorageValue(action.key)\n      break\n    case type.SAVE:\n      setLocalStorageValue(action.key, action.value)\n      break\n  }\n\n  return next(action)\n}\n\nexport default _localStorage\n","import Action from './index'\n\nexport const type = {\n  CLEAN: 'API_CLEAN',\n  DISABLE: 'API_DISABLE',\n  ENABLE: 'API_ENABLE',\n  PREVIEW_CONTENT: 'API_PREVIEW_CONTENT',\n  PREPARE_PLAYBACK: 'API_PREPARE_PLAYBACK',\n  PREPARE_THUMBNAIL: 'API_PREPARE_THUMBNAIL',\n  SET_PLAYBACK: 'API_SET_PLAYBACK',\n  SET_THUMBNAILS: 'API_SET_THUMBNAILS',\n  READY: 'API_READY',\n  REFRESH_PLAYBACK_TOKEN: 'API_REFRESH_PLAYBACK_TOKEN',\n  UPDATE_LAST_PLAYED_TIME: 'API_UPDATE_LAST_PLAYED_TIME',\n  UPDATE_PLAYED_END: 'API_UPDATE_PLAYED_END',\n  REFRESH_CONTENT: 'API_REFRESH_CONTENT',\n  SET_CONTENT: 'API_SET_CONTENT',\n  END_PROGRAM: 'API_END_PROGRAM',\n  CHANGE_PROGRAM: 'API_CHANGE_PROGRAM',\n  END_SECTION: 'API_END_SECTION',\n  CHANGE_SECTION: 'API_CHANGE_SECTION',\n  CONTENT_CHANGE: 'API_CONTENT_CHANGE',\n  END_LIVE_TYPE: 'API_END_LIVE_TYPE',\n}\nexport default {\n  contentChange: () => ({type: type.CONTENT_CHANGE}),\n  clean: () => ({type: type.CLEAN}),\n  disable: () => ({type: type.DISABLE}),\n  enable: (content, customHeader) => ({\n    type: type.ENABLE,\n    content,\n    customHeader,\n  }),\n  previewContent: () => ({type: type.PREVIEW_CONTENT}),\n  preparePlayback: () => ({type: type.PREPARE_PLAYBACK}),\n  prepareThumbnail: () => ({type: type.PREPARE_THUMBNAIL}),\n  setPlayback: playbackInfo => ({type: type.SET_PLAYBACK, playbackInfo}),\n  setThumbnails: thumbnails => ({type: type.SET_THUMBNAILS, thumbnails}),\n  ready: () => ({type: type.READY}),\n  refreshPlaybackToken: sessionData => ({\n    type: type.REFRESH_PLAYBACK_TOKEN,\n    sessionData,\n  }),\n  updateLastPlayedTime: time => ({type: type.UPDATE_LAST_PLAYED_TIME, time}),\n  updatePlayedEnd: () => ({type: type.UPDATE_PLAYED_END}),\n  refreshContent: () => ({type: type.REFRESH_CONTENT}),\n  setContent: content => ({type: type.SET_CONTENT, content}),\n  endProgram: () => ({type: type.END_PROGRAM}),\n  changeProgram: (oldId, newId) => ({type: type.CHANGE_PROGRAM, oldId, newId}),\n  endSection: () => ({type: type.END_SECTION}),\n  changeSection: (oldId, newId) => ({type: type.CHANGE_SECTION, oldId, newId}),\n  endLiveType: () => ({type: type.END_LIVE_TYPE}),\n\n  error: error => Action.error('API', error),\n}\n","import _get from 'dlv'\nimport Action from './action'\nimport {action as LocalStorageAction} from './middleware/localStorage'\nimport APIAction, {type as APIType} from './action/API'\nimport PlayerAction, {type as PlayerType} from './action/Player'\nimport UIAction from './action/UI'\n\nimport {ModuleState, PlayerState, CastState, APIState, StorageKey} from 'Enum'\nimport {isInScope} from 'util/index'\n\nexport const waitStateChange = (store, check) => {\n  return new Promise(res => {\n    if (check(store.getState())) return res()\n    const removeListener = store.addChangedListener(store => {\n      const state = store.getState()\n      if (check(state)) {\n        removeListener()\n        res()\n      }\n    })\n  })\n}\n\nexport const waitActionDispatch = (store, check) => {\n  return new Promise(res => {\n    const removeListener = store.addDispatchedListener((store, action) => {\n      if (check(action)) {\n        removeListener()\n        res()\n      }\n    })\n  })\n}\n\nconst waitChainReaction = async (trigger, result) => {\n  let _result = result()\n  await trigger()\n  await _result\n}\n\nconst operator = {\n  error: async store => {\n    await operator.unload(store)\n  },\n  initialize: async store => {\n    const {dispatch} = store\n    dispatch(Action.initialize())\n    Object.values(StorageKey).forEach(key =>\n      dispatch(LocalStorageAction.load(key))\n    )\n    await waitChainReaction(\n      () => dispatch(PlayerAction.mount()),\n      () =>\n        waitStateChange(\n          store,\n          ({Player: {playerState}}) => playerState === PlayerState.MOUNTED\n        )\n    )\n    await waitChainReaction(\n      () => dispatch(PlayerAction.fetchState()),\n      () => waitActionDispatch(store, ({type}) => type === PlayerType.SET_STATE)\n    )\n    dispatch(Action.initialized())\n  },\n  loadContent: async store => {\n    const {dispatch, getState} = store\n    const getModuleState = () => getState().Module.state\n    if (\n      isInScope(ModuleState.INITIALIZED, getModuleState(), ModuleState.READY)\n    ) {\n      await waitStateChange(\n        store,\n        ({API: {apiState}}) => apiState !== APIState.DISABLE\n      )\n      dispatch(Action.loadContent())\n      await waitChainReaction(\n        () => dispatch(APIAction.previewContent()),\n        () =>\n          waitActionDispatch(store, ({type}) => type === APIType.SET_CONTENT)\n      )\n      await waitChainReaction(\n        () => dispatch(APIAction.preparePlayback()),\n        () =>\n          waitActionDispatch(store, ({type}) => type === APIType.SET_PLAYBACK)\n      )\n      await waitChainReaction(\n        () => dispatch(APIAction.prepareThumbnail()),\n        () => waitActionDispatch(store, ({type}) => type === APIType.READY)\n      )\n      if (getState().Module.castState === CastState.CONNECTED) {\n        // if connected to Cast, abort loading\n        return operator.unload(store)\n      }\n      if (!_get(getState(), 'API.content.end')) {\n        await waitChainReaction(\n          () => dispatch(PlayerAction.load()),\n          () => waitActionDispatch(store, ({type}) => type === PlayerType.READY)\n        )\n        const {\n          Player: {streamType},\n          API: {manifests, availableSources},\n        } = getState()\n        dispatch(\n          UIAction.setQualityItems(\n            manifests[streamType].resolutions.map(item => ({\n              ...item,\n              value: `${item.height}p`,\n            }))\n          )\n        )\n        dispatch(UIAction.setMediaSources(availableSources))\n      }\n      dispatch(Action.readyToPlay())\n    } else {\n      throw Error('The current state does not allow this action')\n    }\n  },\n  changeQuality: (to, from) => async store => {\n    const {dispatch, getState} = store\n    const {\n      Player: {playerState, streamType},\n    } = getState()\n    dispatch(UIAction.selectQuality(to, from))\n    if (playerState !== PlayerState.ENDED) {\n      if (streamType !== 'hls') {\n        dispatch(PlayerAction.changeDashQuality())\n        dispatch(PlayerAction.play())\n      }\n\n      waitActionDispatch(\n        store,\n        ({type}) => type === PlayerType.READY\n      ).then(() => dispatch(PlayerAction.play()))\n    }\n  },\n  changeMediaSource: mediaSource => async store => {\n    const {dispatch, getState} = store\n    const {\n      API: {content, customHeader},\n      Player: {\n        playerState,\n        progress: {progressTime},\n      },\n    } = getState()\n\n    dispatch(APIAction.updateLastPlayedTime(progressTime))\n    dispatch(UIAction.selectMediaSource(mediaSource))\n    await waitChainReaction(\n      // this will trigger loading selected media source\n      () => dispatch(APIAction.enable(content, customHeader)),\n      () => waitActionDispatch(store, ({type}) => type === PlayerType.READY)\n    )\n    if (playerState === PlayerState.ENDED) await operator.replay(store)\n    else dispatch(PlayerAction.play())\n  },\n  replay: async store => {\n    await operator.unload(store)\n    await operator.loadContent(store)\n    store.dispatch(PlayerAction.play())\n    store.dispatch(Action.replay())\n  },\n  retry: async store => {\n    await operator.unload(store)\n    await operator.loadContent(store)\n  },\n  unload: async store => {\n    const dispatch = store.dispatch\n    dispatch(APIAction.clean())\n    await waitChainReaction(\n      () => dispatch(PlayerAction.unload()),\n      () => waitActionDispatch(store, ({type}) => type === PlayerType.UNLOADED)\n    )\n  },\n  prepareCast: async store => {\n    const playerState = store.getState().Player.playerState\n    // player mounting can't be cancelled\n    if (playerState === PlayerState.MOUNTING) {\n      await waitStateChange(\n        store,\n        ({Player: {playerState}}) => playerState === PlayerState.MOUNTED\n      )\n    }\n    // mounted state is not playing video\n    if (\n      playerState !== PlayerState.MOUNTED &&\n      playerState !== PlayerState.UNMOUNTED\n    ) {\n      await operator.unload(store)\n    } else {\n      store.dispatch(PlayerAction.unloaded())\n    }\n  },\n  seek: time => async store => {\n    if (_get(store.getState(), 'Player.playerState') === PlayerState.ENDED) {\n      await operator.replay(store)\n    } else {\n      store.dispatch(PlayerAction.play())\n    }\n    //Player ignores seeking if target is too close to current position,\n    //subsequent events won't fire, so don't seek to avoid gliches.\n    if (Math.abs(time - store.getState().Player.progress.progressTime) > 1) {\n      store.dispatch(PlayerAction.seek(time))\n    }\n  },\n}\n\nexport default operator\n","import _get from 'dlv'\nimport {useState, useEffect, useContext, useRef} from 'react'\nimport PropTypes from 'prop-types'\nimport Types from 'Types'\nimport {useCastContext} from 'cast/context'\nimport {CastState} from 'Enum'\nimport {getMediaSource} from 'util/mediaSource'\nimport Action from 'player/store/action'\nimport {Context} from 'player/store'\nimport {type as PlayerType} from 'player/store/action/Player'\nimport operator, {waitActionDispatch} from 'player/store/operator'\n\nconst contentEqual = (\n  {contentType, contentId, licenseId, mediaSource},\n  state\n) =>\n  _get(state, 'castingMedia.contentId') === contentId &&\n  _get(state, 'customData.itemType') === contentType &&\n  _get(state, 'customData.licenseId') === licenseId &&\n  _get(state, 'customData.mediaSource') === mediaSource\n\nconst useDebounced = (value, {timeMs = 500} = {}) => {\n  const [state, setState] = useState(value)\n  const timer = useRef({})\n\n  useEffect(() => {\n    timer.current = setTimeout(() => setState(value), timeMs)\n    return () => clearTimeout(timer.current)\n  }, [value])\n\n  return state\n}\n\nconst CastAdapter = ({\n  content = {},\n  mediaSource: defaultMediaSource,\n  customQuery,\n}) => {\n  const store = useContext(Context.Adapter)\n  const {\n    state,\n    actions: {loadContent},\n  } = useCastContext()\n  const lastState = useRef()\n  const [\n    castState,\n    contentType,\n    contentId,\n    mediaSource,\n    licenseId,\n  ] = useDebounced([\n    state.castState,\n    content.contentType,\n    content.contentId,\n    getMediaSource(store.getState(), defaultMediaSource),\n    content.licenseId,\n  ])\n\n  useEffect(() => {\n    store.dispatch(Action.castStateChange(castState))\n  }, [castState])\n\n  useEffect(() => {\n    const contentIsLoaded = contentEqual(\n      {contentId, contentType, licenseId, mediaSource},\n      state\n    )\n\n    switch (castState) {\n      case CastState.CONNECTED:\n        waitActionDispatch(store, ({type}) => {\n          return type === PlayerType.UNLOADED\n        }).then(() => {\n          if (!contentIsLoaded) {\n            // id, and mediaSource changes are dispatched separately\n            // this means to batch these changes\n            loadContent({\n              contentId,\n              mediaSource,\n              customQuery,\n              licenseId,\n              contentType,\n            })\n          }\n        })\n        store.dispatch(operator.prepareCast)\n        lastState.current = castState\n        return\n      case CastState.NOT_CONNECTED:\n        if (lastState.current === CastState.CONNECTED) {\n          store.dispatch(Action.initialized())\n        }\n        lastState.current = castState\n        return\n    }\n  }, [castState, contentId, contentType, mediaSource, licenseId])\n\n  return null\n}\n\nCastAdapter.propTypes = {\n  content: Types.VideoInfo,\n  mediaSource: PropTypes.string,\n  customQuery: PropTypes.object,\n}\nCastAdapter.defaultProps = {\n  content: null,\n  mediaSource: null,\n  customQuery: {},\n}\n\nexport default CastAdapter\n","// Unique ID creation requires a high quality random # generator.  In node.js\n// this is pretty straight-forward - we use the crypto API.\n\nvar crypto = require('crypto');\n\nmodule.exports = function nodeRNG() {\n  return crypto.randomBytes(16);\n};\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","import {useRef, useEffect, useContext} from 'react'\nimport uuid from 'uuid'\n\nimport {StorageKey, ModuleState} from 'Enum'\nimport {useInterval} from 'Hooks'\nimport {Context} from '../index'\nimport Action from '../action'\nimport {action as LocalStorageAction} from '../middleware/localStorage'\n\nconst LIMIT_INFO_LIFE_MS = 10000\nconst CHECK_INTERVAL_MS = 3000\n\nconst getSavedAuthId = state => {\n  const limitInfo = state.LocalStorage[StorageKey.LIMIT_ONE_PLAYBACK] || {}\n  const {expiresAt} = limitInfo\n  if (limitInfo.authId && /^\\d+$/.test(expiresAt) && Date.now() <= expiresAt) {\n    return limitInfo.authId\n  }\n}\nconst LimitOnePlayback = ({enabled}) => {\n  const authRef = useRef()\n  const {\n    state: {state: moduleState},\n  } = useContext(Context.Module)\n  const store = useContext(Context.Adapter)\n  const [startInterval, stopInterval] = useInterval()\n\n  const checkOnePlayback = () => {\n    store.dispatch(LocalStorageAction.load(StorageKey.LIMIT_ONE_PLAYBACK))\n    const savedAuthId = getSavedAuthId(store.getState())\n    if (!savedAuthId || savedAuthId === authRef.current) {\n      store.dispatch(\n        LocalStorageAction.save(StorageKey.LIMIT_ONE_PLAYBACK, {\n          authId: authRef.current,\n          expiresAt: Date.now() + LIMIT_INFO_LIFE_MS,\n        })\n      )\n    } else {\n      store.dispatch(Action.error('API', {code: 10021}))\n    }\n  }\n\n  const clearKey = () => {\n    const savedAuthId = getSavedAuthId(store.getState())\n    if (savedAuthId === authRef.current)\n      store.dispatch(LocalStorageAction.save(StorageKey.LIMIT_ONE_PLAYBACK, {}))\n  }\n\n  const addUnloadListeners = () => {\n    window.addEventListener('beforeunload', clearKey)\n    window.addEventListener('unload', clearKey)\n  }\n\n  const removeUnloadListeners = () => {\n    window.removeEventListener('beforeunload', clearKey)\n    window.removeEventListener('unload', clearKey)\n  }\n\n  useEffect(() => {\n    authRef.current = uuid.v4()\n    if (enabled && moduleState !== ModuleState.ERROR) {\n      checkOnePlayback()\n      startInterval(() => checkOnePlayback(), CHECK_INTERVAL_MS)\n      addUnloadListeners()\n      return () => {\n        stopInterval()\n        removeUnloadListeners()\n        clearKey()\n      }\n    }\n  }, [enabled, moduleState !== ModuleState.ERROR])\n  return null\n}\n\nexport default LimitOnePlayback\n","import {useEffect, useContext} from 'react'\n\nimport {StorageKey} from 'Enum'\nimport {Context} from '../index'\nimport {type as PlayerType} from '../action/Player'\nimport {action as LocalStorageAction} from '../middleware/localStorage'\n\nconst LocalStorage = () => {\n  const store = useContext(Context.Adapter)\n  useEffect(() => {\n    return store.addDispatchedListener((store, action) => {\n      switch (action.type) {\n        case PlayerType.UPDATE_VOLUME:\n          return store.dispatch(\n            LocalStorageAction.save(StorageKey.VOLUME, {\n              ...store.getState().Player.volume,\n              volume: action.volume,\n            })\n          )\n        case PlayerType.MUTED:\n          return store.dispatch(\n            LocalStorageAction.save(StorageKey.VOLUME, {\n              ...store.getState().Player.volume,\n              muted: true,\n            })\n          )\n        case PlayerType.UNMUTED:\n          return store.dispatch(\n            LocalStorageAction.save(StorageKey.VOLUME, {\n              ...store.getState().Player.volume,\n              muted: false,\n            })\n          )\n      }\n    })\n  }, [])\n  return null\n}\n\nexport default LocalStorage\n","import axios from 'axios'\nimport {convertToSeconds} from 'util/index'\n\nconst parseVTT = data => {\n  const lines = data.split(/\\n\\n/g).slice(1)\n\n  return Promise.resolve(\n    lines.map(line => {\n      const [time, text] = line.split('\\n')\n      const [startTime, endTime] = time.split('-->').map(convertToSeconds)\n\n      return {startTime, endTime, text}\n    })\n  )\n}\n\nconst replaceLast = (url, path) => url.replace(/\\/[^/]+$/, `/${path}`)\n\nconst parseThumbnails = (data, url) =>\n  parseVTT(data)\n    .then(items =>\n      items.map(item => {\n        const [imagePath, , x, y, width, height] = item.text.split(/[#=,]/g)\n\n        return {\n          startTime: item.startTime,\n          endTime: item.endTime,\n          image: replaceLast(url, imagePath),\n          position: {\n            x: parseFloat(x),\n            y: parseFloat(y),\n            width: parseFloat(width),\n            height: parseFloat(height),\n          },\n        }\n      })\n    )\n    .then(items =>\n      Promise.all([\n        items,\n        ...Object.entries(\n          items.reduce(\n            (res, {image}) => ({\n              ...res,\n              // TODO it's not necessary to block for downloading all images\n              // replace commit a356628e with better preload approach\n              [image]: res[image] || axios.get(image, {responseType: 'blob'}),\n            }),\n            {}\n          )\n        ).map(([key, req]) =>\n          req.then(resp => [key, URL.createObjectURL(resp.data)])\n        ),\n      ])\n    )\n    .then(([items, ...blobUrls]) => {\n      const mapSrcToBlobUrl = blobUrls.reduce(\n        (res, [key, blobUrl]) => ({\n          ...res,\n          [key]: blobUrl,\n        }),\n        {}\n      )\n      return items.map(item => ({\n        ...item,\n        image: mapSrcToBlobUrl[item.image],\n      }))\n    })\n\nexport default parseThumbnails\n","import axios from 'axios'\n\nfunction getHeader({accessToken, deviceId, customHeader}) {\n  return {\n    'Cache-Control': 'no-cache',\n    Authorization: accessToken || '',\n    'X-Device-ID': deviceId || '',\n    'Content-type': 'application/json',\n    ...customHeader,\n  }\n}\n\nconst retry3 = (callback, time) => {\n  const delay = time => new Promise(res => setTimeout(res, time))\n  const PromiseRejectFilter = condition => callback => error =>\n    condition(error) ? callback(error) : Promise.reject(error)\n  const filterNetworkError = PromiseRejectFilter(\n    ({message}) => message === 'Network Error'\n  )\n  return callback()\n    .catch(filterNetworkError(() => delay(time).then(callback)))\n    .catch(filterNetworkError(() => delay(time).then(callback)))\n}\n\nexport default ({host, accessToken, deviceId, customHeader, customQuery}) => {\n  const headers = getHeader({accessToken, deviceId, customHeader})\n  const request = (method, url, query = {}) =>\n    retry3(\n      () =>\n        axios(url, {method, headers, params: {...customQuery, ...query}}).then(\n          ({data}) => data\n        ),\n      3000\n    )\n  const sessionPath = (id, type) =>\n    `${host}/sessions/${type}/${id}/playback/${deviceId}`\n  return {\n    videos: ({id, query}) =>\n      request('GET', `${host}/videos/${id}`, query).then(data => ({\n        id: data.id,\n        title: data.title,\n        time: {\n          last_played: data.time.last_position,\n          endStart: data.time.end_start_position,\n        },\n        recommend: {\n          previous: data.prev_video && {\n            ...data.prev_video,\n            images: [{url: data.prev_video.image_url}],\n          },\n          next: data.next_video && {\n            ...data.next_video,\n            images: [{url: data.next_video.image_url}],\n          },\n        },\n      })),\n    lives: ({id, query}) => request('GET', `${host}/lives/${id}`, query),\n    playbackStart: ({id, type, query}) =>\n      request('POST', `${sessionPath(id, type)}/start`, query),\n    playbackInfo: ({id, type, query, token}) =>\n      request('GET', `${sessionPath(id, type)}/info`, {\n        ...query,\n        playback_token: token,\n      }),\n    heartbeat: ({id, type, query, token}) =>\n      request('POST', `${sessionPath(id, type)}/heartbeat`, {\n        ...query,\n        playback_token: token,\n      }),\n    playbackEnd: ({id, type, query, token}) =>\n      request('POST', `${sessionPath(id, type)}/end`, {\n        ...query,\n        playback_token: token,\n      }),\n    updateLastPlayedTime: ({id, type, position, token, query}) =>\n      request(\n        'POST',\n        `${sessionPath(id, type)}/position/${Math.floor(position)}`,\n        {...query, playback_token: token}\n      ),\n    playbackTokenInfo: ({token, query}) =>\n      request('POST', `${host}/playback/tokens/${token}`, query),\n  }\n}\n","export default class Session {\n  constructor(resource, id, type, query) {\n    this.resource = resource\n    this.id = id\n    this.type = type\n    this.query = query\n    this.resourceInfo = {\n      id: this.id,\n      type: this.type,\n      query: {...this.query, type: this.type},\n    }\n    this.playbackToken = null\n    this._startPromise = null\n    this._endPromise = {}\n  }\n\n  start() {\n    if (this._startPromise === null) {\n      this._startPromise = this.resource\n        .playbackStart(this.resourceInfo)\n        .then(tokenInfo => {\n          this.playbackToken = tokenInfo\n          this._startPromise = null\n          return tokenInfo\n        })\n    }\n\n    return this._startPromise\n  }\n\n  info() {\n    return (\n      this.playbackToken &&\n      this.resource.playbackInfo({\n        ...this.resourceInfo,\n        token: this.playbackToken.token,\n      })\n    )\n  }\n\n  heartbeat() {\n    return (\n      this.playbackToken &&\n      this.resource.heartbeat({\n        ...this.resourceInfo,\n        token: this.playbackToken.token,\n      })\n    )\n  }\n\n  end() {\n    const token = this.playbackToken && this.playbackToken.token\n    if (token && !this._endPromise[token]) {\n      this._endPromise[token] = this.resource\n        .playbackEnd({...this.resourceInfo, token})\n        // token might be already expired\n        .catch(() => {})\n        .then(() => {\n          this._endPromise[token] = null\n        })\n      if (this.playbackToken.token === token) {\n        this.playbackToken = null\n      }\n    }\n\n    return this._endPromise[token]\n  }\n\n  async restart() {\n    await this.end()\n    return this.start()\n  }\n\n  updateLastPlayedTime(time) {\n    return (\n      this.playbackToken &&\n      this.resource.updateLastPlayedTime({\n        ...this.resourceInfo,\n        token: this.playbackToken.token,\n        position: Math.floor(time),\n      })\n    )\n  }\n}\n","import {useEffect, useContext, useRef} from 'react'\nimport PropTypes from 'prop-types'\nimport _get from 'dlv'\nimport axios from 'axios'\n\nimport {useDispatchSessionEvent} from 'player/playerContext'\nimport Types from 'Types'\nimport {ItemType} from 'Enum'\nimport parseThumbnails from 'util/parseThumbnails'\nimport {useInterval} from 'Hooks'\nimport {Context} from 'player/store/index'\nimport Action, {type} from 'player/store/action/API'\nimport {getMediaSource} from 'util/mediaSource'\nimport Resource from './Resource'\nimport Session from './Session'\n\nconst HEARTBEAT_INTERVAL = 10000\n\nconst API = ({\n  host,\n  accessToken,\n  deviceId,\n  content,\n  customHeader,\n  customQuery,\n  preferredConfig: {preferredMediaSource},\n}) => {\n  const session = useRef(null)\n  const dispatchSessionEvent = useDispatchSessionEvent()\n  const [setInterval, clearInterval] = useInterval()\n  const store = useContext(Context.Adapter)\n  const isActivatable =\n    host &&\n    content &&\n    content.contentId !== undefined &&\n    content.contentType !== undefined\n  useEffect(() => {\n    if (isActivatable) {\n      store.dispatch(Action.enable(content, customHeader))\n    } else {\n      store.dispatch(Action.disable())\n    }\n\n    if (session.current) {\n      dispatchSessionEvent('playbackEnded')\n      session.current.end()\n    }\n    session.current = null\n  }, [host, content.contentId, content.contentType])\n  useEffect(() => {\n    const {contentId, contentType, ...query} = content\n    const resource = Resource({\n      host,\n      accessToken,\n      deviceId,\n      customHeader,\n      customQuery,\n    })\n    session.current = new Session(resource, contentId, contentType, query)\n    const fetchContent = () =>\n      ItemType.LIVES === contentType\n        ? resource.lives({id: contentId, query: {...query, contentType}})\n        : resource.videos({id: contentId, query: {...query, contentType}})\n    const fetchFullPlayback = async () => {\n      const state = store.getState()\n      const targetSourceType = getMediaSource(state, preferredMediaSource)\n      const [playbackToken, contentInfo] = await Promise.all([\n        session.current.start(),\n        fetchContent(),\n      ])\n      const playbackInfo = await session.current.info()\n      const source =\n        playbackInfo.sources.find(source => source.type === targetSourceType) ||\n        playbackInfo.sources[0]\n\n      return {\n        drm: {\n          drm__fairplay: {url: playbackToken.drm_portal_url},\n          drm__playready: {url: playbackToken.drm_portal_url},\n          drm__widevine: {url: playbackToken.drm_portal_url},\n        },\n        playingSourceType: source.type,\n        availableSources: playbackInfo.sources.map(source => source.type),\n        manifests: source.manifests,\n        playbackToken,\n        customHeader,\n        thumbnailSeekingsURL: source.thumbnail_seeking_url,\n        ...contentInfo,\n      }\n    }\n    const removeListener = store.addDispatchedListener(\n      async (store, action) => {\n        if (action && isActivatable) {\n          try {\n            switch (action.type) {\n              case type.CLEAN:\n              case type.DISABLE: {\n                clearInterval()\n                break\n              }\n              case type.PREVIEW_CONTENT: {\n                const data = await fetchContent()\n                store.dispatch(Action.setContent(data))\n                break\n              }\n              case type.PREPARE_PLAYBACK: {\n                const data = await fetchFullPlayback()\n                store.dispatch(Action.setPlayback(data))\n                break\n              }\n              case type.PREPARE_THUMBNAIL: {\n                const thumbnailUrl = _get(\n                  store.getState(),\n                  'API.content.thumbnailSeekingsURL'\n                )\n                if (thumbnailUrl) {\n                  await axios\n                    .get(thumbnailUrl)\n                    .then(result => parseThumbnails(result.data, thumbnailUrl))\n                    .then(thumbnails =>\n                      store.dispatch(Action.setThumbnails(thumbnails))\n                    )\n                    .catch(() => {})\n                }\n                store.dispatch(Action.ready())\n                break\n              }\n              case type.READY: {\n                if (\n                  accessToken &&\n                  _get(store.getState(), 'API.playback.heartbeat', false)\n                ) {\n                  clearInterval()\n                  setInterval(() => {\n                    if (session.current.heartbeatInProgress) {\n                      return\n                    }\n                    session.current.heartbeatInProgress = true\n                    session.current\n                      .heartbeat()\n                      .catch(async error => {\n                        if (error?.response.status === 400) {\n                          const sessionData = await session.current.start()\n                          store.dispatch(\n                            Action.refreshPlaybackToken(sessionData)\n                          )\n                        } else {\n                          clearInterval()\n                          store.dispatch(Action.error(error))\n                        }\n                      })\n                      .then(() => {\n                        session.current.heartbeatInProgress = false\n                      })\n                  }, HEARTBEAT_INTERVAL)\n                }\n                break\n              }\n              case type.UPDATE_LAST_PLAYED_TIME: {\n                // ignore updatePlaybackTime api error\n                session.current.updateLastPlayedTime(action.time)\n                break\n              }\n              case type.UPDATE_PLAYED_END: {\n                clearInterval()\n                await session.current.updateLastPlayedTime(0)\n                dispatchSessionEvent('playbackEnded')\n                await session.current.end()\n                break\n              }\n              case type.REFRESH_CONTENT: {\n                const newContent = await fetchContent()\n                const oldSectionId = _get(\n                  store.getState(),\n                  'API.content.section_id'\n                )\n                const newSectionId = newContent.section_id\n                if (\n                  oldSectionId !== undefined &&\n                  oldSectionId !== newSectionId\n                ) {\n                  store.dispatch(Action.endSection())\n                  store.dispatch(Action.setContent(newContent))\n                  dispatchSessionEvent('sectionChange')\n                  store.dispatch(\n                    Action.changeSection(oldSectionId, newSectionId)\n                  )\n                } else {\n                  store.dispatch(Action.setContent(newContent))\n                }\n\n                if (_get(store.getState(), 'API.content.end')) {\n                  store.dispatch(Action.endLiveType())\n                }\n                break\n              }\n            }\n          } catch (error) {\n            store.dispatch(Action.error(error))\n          }\n        }\n      }\n    )\n    return () => {\n      if (session.current && session.current.playbackToken) {\n        dispatchSessionEvent('playbackEnded')\n        session.current.end()\n      }\n      removeListener()\n      clearInterval()\n    }\n  }, [host, accessToken, content.contentId, content.contentType])\n  return null\n}\n\nAPI.propTypes = {\n  host: PropTypes.string,\n  accessToken: PropTypes.string,\n  deviceId: PropTypes.string,\n  content: Types.VideoInfo,\n  customHeader: PropTypes.object,\n  customQuery: PropTypes.object,\n  preferredConfig: PropTypes.shape({\n    preferredMediaSource: PropTypes.string,\n  }),\n}\n\nAPI.defaultProps = {\n  host: null,\n  accessToken: null,\n  deviceId: null,\n  content: {},\n  customHeader: {},\n  customQuery: {},\n  preferredConfig: {\n    preferredMediaSource: null,\n  },\n}\n\nexport default API\n","import {useContext, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport _get from 'dlv'\n\nimport {useDispatchSessionEvent} from 'player/playerContext'\nimport {type} from '../action'\nimport APIAction, {type as APIType} from 'player/store/action/API'\nimport {type as UIType} from '../action/UI'\nimport {Context} from '../index'\n\nconst Event = ({\n  content = {},\n  onBack,\n  onReplay,\n  onError,\n  onMediaSourceChanged,\n  onChangeVideo,\n  onChangeToNextVideo,\n  onChangeToPreviousVideo,\n  onSectionChange,\n}) => {\n  const store = useContext(Context.Adapter)\n  const dispatchSessionEvent = useDispatchSessionEvent()\n\n  useEffect(() => {\n    if (content.contentId && content.contentType) {\n      store.dispatch(APIAction.contentChange())\n    }\n  }, [content.contentId, content.contentType])\n\n  useEffect(\n    () =>\n      store.addDispatchedListener((store, action) => {\n        const state = store.getState()\n        switch (action.type) {\n          case type.BACK:\n            return onBack(_get(state, 'API.content.contentId'))\n          case type.REPLAY:\n            return onReplay()\n          case type.ERROR:\n            dispatchSessionEvent('error', action.error)\n            return onError({...action, content: _get(state, 'API.content')})\n          case UIType.SELECT_MEDIA_SOURCE:\n            return onMediaSourceChanged(action.mediaSource)\n          case UIType.CHANGE_NEXT_EPISODE:\n            onChangeVideo(action)\n            onChangeToNextVideo(action)\n            break\n          case UIType.CHANGE_PREVIOUS_EPISODE:\n            onChangeVideo(action)\n            onChangeToPreviousVideo(action)\n            break\n          case APIType.CHANGE_SECTION:\n            onSectionChange(action)\n            break\n        }\n      }),\n    []\n  )\n  return null\n}\n\nEvent.propTypes = {\n  onBack: PropTypes.func,\n  onReplay: PropTypes.func,\n  onError: PropTypes.func,\n  onChangeVideo: PropTypes.func,\n  onChangeToNextVideo: PropTypes.func,\n  onChangeToPreviousVideo: PropTypes.func,\n  onSectionChange: PropTypes.func,\n}\nEvent.defaultProps = {\n  onBack: () => {},\n  onReplay: () => {},\n  onError: () => {},\n  onMediaSourceChanged: () => {},\n  onChangeVideo: () => {},\n  onChangeToNextVideo: () => {},\n  onChangeToPreviousVideo: () => {},\n  onSectionChange: () => {},\n}\n\nexport default Event\n","import {useContext, useEffect, useImperativeHandle} from 'react'\n\nimport Types from 'Types'\nimport {AgentCommand} from 'Enum'\nimport {type} from '../action'\nimport PlayerAction from '../action/Player'\nimport {type as APIType} from '../action/API'\nimport UIAction, {type as UIType} from '../action/UI'\nimport {Context} from '../index'\nimport operator from '../operator'\n\nconst Agent = ({command, preload = 'auto', playerRef}) => {\n  const store = useContext(Context.Adapter)\n  useEffect(() => {\n    store.dispatch(operator.initialize)\n  }, [])\n\n  useImperativeHandle(playerRef, () => ({\n    load: () => store.dispatch(operator.loadContent),\n  }))\n\n  useEffect(() => {\n    if (command === AgentCommand.AUTO)\n      return store.addDispatchedListener((store, action) => {\n        switch (action.type) {\n          case type.ERROR:\n            store.dispatch(operator.error)\n            break\n          case type.INITIALIZED:\n            if (preload === 'auto') {\n              store.dispatch(operator.loadContent)\n            }\n            break\n          case APIType.CLEAN:\n            store.dispatch(UIAction.resetEndRoll())\n            break\n          case APIType.ENABLE:\n            store.dispatch(UIAction.resetEndRoll())\n            store.dispatch(operator.retry)\n            break\n          case UIType.CHANGE_NEXT_EPISODE:\n          case UIType.CHANGE_PREVIOUS_EPISODE:\n            store.dispatch(UIAction.setAutoPlay(true))\n            break\n          case type.READY_TO_PLAY:\n            if (store.getState().UI.autoPlayByUI) {\n              store.dispatch(UIAction.setAutoPlay(false))\n              store.dispatch(PlayerAction.play())\n            }\n        }\n      })\n  }, [])\n  return null\n}\n\nAgent.propTypes = {\n  command: Types.AgentCommand,\n}\n\nAgent.defaultProps = {\n  command: AgentCommand.AUTO,\n}\n\nexport default Agent\n","/* eslint-disable no-plusplus */\nimport UAParser from 'ua-parser-js'\nimport {EnvironmentErrorName} from 'Enum'\n\nconst parser = new UAParser()\n\nexport function getOS() {\n  return parser.getOS()\n}\n\nexport function getDevice() {\n  const device = parser.getDevice()\n  const osName = getOS().name\n  if (device.type === undefined && osName === 'Android') device.type = 'tablet'\n  return device\n}\n\nexport function getBrowser() {\n  return parser.getBrowser()\n}\n\nconst isDesktop = () => !getDevice().type\n\nexport function compareVersion(v1, v2) {\n  if (!/\\d+(\\.\\d+)*/.test(v1)) throw Error(`the version format ${v1} is wrong`)\n  if (!/\\d+(\\.\\d+)*/.test(v2)) throw Error(`the version format ${v2} is wrong`)\n\n  const v1parts = v1.split('.').map(p => Number(p))\n  const v2parts = v2.split('.').map(p => Number(p))\n  for (let i = 0, I = Math.max(v1parts.length, v2parts.length); i < I; i++) {\n    if (v1parts[i] !== v2parts[i]) {\n      return (v1parts[i] || 0) - (v2parts[i] || 0)\n    }\n  }\n\n  return 0\n}\n\nexport const checkEnvironment = supportEnvironmentList => {\n  if (!supportEnvironmentList) {\n    return true\n  }\n  const device = getDevice()\n  const os = getOS()\n  const browser = getBrowser()\n  const toUnique = list => Array.from(new Set(list))\n  const validators = [\n    {\n      filter: ({device: {name, type}}) =>\n        name === '*' ||\n        (type === 'desktop' && device.type === undefined) ||\n        type === device.type,\n      errorName: EnvironmentErrorName.NOT_SUPPORT_DEVICE,\n      getErrorProps: list => ({\n        allowDevices: toUnique(list.map(env => env.device.type)),\n      }),\n    },\n    {\n      filter: ({os: {name}}) => name === '*' || name === os.name,\n      errorName: EnvironmentErrorName.NOT_SUPPORT_OS,\n      getErrorProps: list => ({\n        allowOSs: toUnique(list.map(env => env.os.name)),\n      }),\n    },\n    {\n      filter: ({os: {version}}) =>\n        version === '*' || compareVersion(os.version, version) >= 0,\n      errorName: EnvironmentErrorName.NOT_SUPPORT_OS_VERSION,\n      getErrorProps: list => ({\n        minVersion: list[0].os.version,\n      }),\n    },\n    {\n      filter: ({browser: {name}}) => name === browser.name,\n      errorName: EnvironmentErrorName.NOT_SUPPORT_BROWSER,\n      getErrorProps: list => ({\n        allowBrowsers: toUnique(list.map(env => env.browser.name)),\n      }),\n    },\n    {\n      filter: ({browser: {version}}) =>\n        compareVersion(browser.version, version) >= 0,\n      errorName: EnvironmentErrorName.NOT_SUPPORT_BROWSER_VERSION,\n      getErrorProps: list => ({\n        minVersion: list[0].browser.version,\n      }),\n    },\n  ]\n  let scopes = supportEnvironmentList\n  for (let i = 0; i < validators.length; i++) {\n    const validator = validators[i]\n    const newScopes = scopes.filter(validator.filter)\n    if (newScopes.length === 0) {\n      // eslint-disable-next-line no-throw-literal\n      throw {\n        name: validator.errorName,\n        ...validator.getErrorProps(scopes),\n      }\n    }\n    scopes = newScopes\n  }\n\n  return true\n}\n\n// IE doesn't support pointer query, assume it always have pointer\nconst havePointerQuery =\n  '(pointer: fine), screen and (-ms-high-contrast: active), (-ms-high-contrast: none)'\n\nexport {isDesktop, isDesktop as isPC, havePointerQuery}\n","// eslint-disable-next-line no-unused-vars\nimport React, {useContext, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport Types from 'Types'\nimport {ModuleState} from 'Enum'\nimport {Context} from '../index'\nimport Action from '../action/UI'\nimport {checkEnvironment} from 'util/environment'\n\nconst EnvironmentValidator = ({supportEnvironmentList}) => {\n  const {\n    state: {state: moduleState},\n    dispatch,\n  } = useContext(Context.Module)\n  useEffect(() => {\n    if (moduleState !== ModuleState.ERROR) {\n      try {\n        checkEnvironment(supportEnvironmentList)\n      } catch (error) {\n        dispatch(Action.error(error))\n      }\n    }\n  }, [moduleState !== ModuleState.ERROR])\n  return null\n}\n\nEnvironmentValidator.propTypes = {\n  supportEnvironmentList: PropTypes.arrayOf(Types.SupportEnvironmentItem),\n}\n\nexport default EnvironmentValidator\n","// eslint-disable-next-line no-unused-vars\nimport React, {useEffect, useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport {PlayerViewMode, PlayerState} from 'Enum'\nimport PlayerAction, {type as PlayerType} from '../action/Player'\n\nimport {Context} from '../index'\nimport {debounce} from 'util/index'\n\nconst MobileSafariPlugin = ({\n  containerRef,\n  onViewModeChange,\n  onEnterFullscreen,\n  onExitFullscreen,\n}) => {\n  const store = useContext(Context.Adapter)\n  const {state: playerState, dispatch} = useContext(Context.PlayerState)\n  useEffect(() => {\n    if (playerState >= PlayerState.LOADED) {\n      const videoEle = containerRef.current.querySelector('video')\n      const syncToStore = ({target: {webkitPresentationMode}}) => {\n        dispatch(PlayerAction.updateViewMode(webkitPresentationMode))\n        onViewModeChange({to: webkitPresentationMode})\n        if (webkitPresentationMode === PlayerViewMode.FULLSCREEN)\n          onEnterFullscreen()\n        else onExitFullscreen()\n      }\n      videoEle.addEventListener('webkitpresentationmodechanged', syncToStore)\n      return () =>\n        videoEle.removeEventListener(\n          'webkitpresentationmodechanged',\n          syncToStore\n        )\n    }\n  }, [playerState >= PlayerState.LOADED])\n  useEffect(\n    () =>\n      store.addDispatchedListener((store, action) => {\n        switch (action.type) {\n          case PlayerType.LEAVE_FULL_SCREEN:\n            if (\n              store.getState().Player.viewMode === PlayerViewMode.FULLSCREEN\n            ) {\n              containerRef.current.querySelector('video').webkitExitFullScreen()\n            }\n            break\n        }\n      }),\n    []\n  )\n  useEffect(() => {\n    const abortMultiTouch = debounce(() => {}, 300)\n    containerRef.current.addEventListener('touchend', abortMultiTouch)\n    return () =>\n      containerRef.current &&\n      containerRef.current.removeEventListener('touchend', abortMultiTouch)\n  }, [])\n  return null\n}\nMobileSafariPlugin.propTypes = {\n  containerRef: PropTypes.element.isRequired,\n  onViewModeChange: PropTypes.func,\n  onEnterFullscreen: PropTypes.func,\n  onExitFullscreen: PropTypes.func,\n}\nMobileSafariPlugin.defaultProps = {\n  onViewModeChange: () => {},\n  onEnterFullscreen: () => {},\n  onExitFullscreen: () => {},\n}\n\nexport default MobileSafariPlugin\n","// eslint-disable-next-line no-unused-vars\nimport React, {useContext, useEffect} from 'react'\nimport _get from 'dlv'\nimport PlayerAction, {type as PlayerType} from '../action/Player'\n\nimport {Context} from '../index'\n\nconst OTP_1878 = () => {\n  const store = useContext(Context.Adapter)\n  useEffect(() => {\n    return store.addDispatchedListener((store, action) => {\n      const isMuted = _get(store.getState(), 'Player.volume.muted', false)\n      switch (action.type) {\n        case PlayerType.SET_VOLUME:\n          if (action.volume === 0 && !isMuted) {\n            store.dispatch(PlayerAction.mute())\n          } else if (action.volume !== 0 && isMuted) {\n            store.dispatch(PlayerAction.unmute())\n          }\n          break\n      }\n    })\n  }, [])\n  return null\n}\n\nexport default OTP_1878\n","import PropTypes from 'prop-types'\nimport _get from 'dlv'\nimport {LanguageCode} from 'Enum'\nimport Types from 'Types'\nimport LANGS from 'config/lang'\nimport {context} from './index'\n\nconst Provider = ({lang, langCustomCode, children}) => {\n  const translations = Object.assign(\n    {},\n    LANGS[lang.toLowerCase()],\n    langCustomCode\n  )\n  const getMessage = (code, property) => {\n    return (\n      translations[code] &&\n      translations[code].replace(/{(\\S+?)}/gi, (substring, name) => {\n        const res = _get(property, name) || substring\n        return res instanceof Array ? res.join(', ') : res\n      })\n    )\n  }\n  const translate = (code, property) => {\n    return translations[code] ? getMessage(code, property) : code\n  }\n  return (\n    <context.Provider value={{translations, getMessage, translate}}>\n      {children}\n    </context.Provider>\n  )\n}\n\nProvider.propTypes = {\n  lang: Types.LanguageCode,\n  langCustomCode: PropTypes.object,\n  children: PropTypes.node,\n}\nProvider.defaultProps = {\n  lang: LanguageCode.EN,\n  langCustomCode: {},\n}\n\nexport default Provider\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport Types from 'Types'\nimport {context} from './index'\n\nconst Message = ({code, property, defaultValue, wrap: Wrap = 'span'}) => {\n  const {getMessage, translate} = useContext(context)\n  const message = getMessage(code, property) || translate(defaultValue)\n\n  return Wrap ? <Wrap>{message}</Wrap> : message\n}\n\nMessage.propTypes = {\n  code: Types.TextCode,\n  property: PropTypes.object,\n  defaultValue: Types.TextCode,\n  wrap: PropTypes.elementType,\n}\n\nexport default Message\n","import React, {useContext} from 'react'\nimport Provider from './Provider'\nimport Message from './Message'\n\nexport const context = React.createContext()\n\nconst useTranslations = () => useContext(context).translations\n\nconst translate = (translations, {id, values, getDefault}) => {\n  if (id in translations) {\n    return translations[id].replace(/{(\\S+?)}/gi, (_, key) => {\n      const res = values[key] || ''\n      return res?.join(', ') || res\n    })\n  }\n  return getDefault?.() || id\n}\n\nconst FormattedMessage = ({id, values, getDefault}) => {\n  const translations = useTranslations()\n  return translate(translations, {id, values, getDefault})\n}\n\nexport default {\n  Context: context,\n  Provider,\n  Message,\n}\n\nexport {useTranslations, translate, FormattedMessage}\n","import {useState, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport {getBrowser, getOS, getDevice} from 'util/environment'\n\nconst DeviceDetector = ({children}) => {\n  const [device, setDevice] = useState()\n  useEffect(() => {\n    setDevice({\n      browser: getBrowser(),\n      os: getOS(),\n      device: getDevice(),\n      touchable: 'ontouchstart' in window,\n    })\n  }, [])\n  return device ? children(device) : ''\n}\n\nDeviceDetector.propTypes = {\n  children: PropTypes.func,\n}\nDeviceDetector.defaultProps = {\n  children: ({browser, os, device}) => [browser, os, device],\n}\n\nexport default DeviceDetector\n","const blurPause = ({player}) => {\n  const pause = async () => {\n    let shouldPause = true\n    player.pause()\n    setTimeout(() => {\n      shouldPause = false\n    }, 50)\n    player.getVideoElement().addEventListener(\n      'play',\n      () => {\n        if (shouldPause) {\n          player.pause()\n        }\n      },\n      {once: true}\n    )\n  }\n  document.addEventListener('visibilitychange', pause)\n  return () => document.removeEventListener('visibilitychange', pause)\n}\n\nexport default blurPause\n","export const layer = {\n  position: 'absolute',\n  display: 'block',\n  width: '100%',\n  height: '100%',\n  top: 0,\n  left: 0,\n}\n\nexport const center = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n}\n\nexport const mask = {\n  ...layer,\n  ...center,\n  backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  flexDirection: 'column',\n  whiteSpace: 'pre-wrap',\n  textAlign: 'center',\n  color: 'white',\n  userSelect: 'text',\n}\n\nconst button = {\n  border: 'none',\n  outline: 'none',\n  cursor: 'pointer',\n  padding: 0,\n  flexShrink: 0,\n  width: 36,\n  height: 36,\n  backgroundColor: 'transparent',\n  userSelect: 'none',\n  '*': {\n    pointerEvents: 'none',\n    touchAction: 'none',\n  },\n}\n\nexport {button}\n","/* eslint-disable consistent-return */\n/* eslint-disable no-use-before-define */\nconst activationTriggeringEvents = [\n  'touchstart',\n  'click',\n  'dblclick',\n  'mousedown',\n  'mouseup',\n  'keydown',\n  'keypress',\n  'keyup',\n]\n\n/** @param {HTMLVideoElement} videoElement */\nconst isSafariVideo = videoElement =>\n  videoElement?.canPlayType('video/mp4; codecs=\"hvc1\"')\n\nconst addEventListener = (element, eventNames, handler, options) => {\n  eventNames.forEach(name => element.addEventListener(name, handler, options))\n\n  return () =>\n    eventNames.forEach(name =>\n      element.removeEventListener(name, handler, options)\n    )\n}\n\n// Workaround: Try to pass autoplay gate in Safari\n// https://kkvideo.atlassian.net/l/c/k1UBH0ij\nconst autoUnlockAutoplay = () => {\n  const videoElement = document.querySelector('video')\n  if (!isSafariVideo(videoElement)) {\n    return\n  }\n  const state = {\n    /** @type {'gated'|'working'|'not gated'} */\n    status: 'gated',\n  }\n  const unlock = event =>\n    Promise.resolve()\n      .then(() => {\n        if (state.status === 'gated') {\n          state.status = 'working'\n          return videoElement.play().then(() => {\n            setUnlocked()\n            videoElement.pause()\n          })\n        }\n      })\n      .catch(() => {\n        state.status = 'gated'\n        console.error('Unable to unlock autoplay with', event.type)\n      })\n\n  const cleanup = [\n    addEventListener(window, activationTriggeringEvents, unlock, {\n      capture: true,\n    }),\n    addEventListener(videoElement, ['play'], () => {\n      if (state.status !== 'gated') {\n        return\n      }\n      state.status = 'working'\n      // Call play again to ensure unlocked\n      videoElement\n        .play()\n        .then(setUnlocked)\n        .catch(e => {\n          console.log(e)\n          state.status = 'gated'\n        })\n    }),\n  ]\n\n  const setUnlocked = () => {\n    cleanup.forEach(removeListeners => removeListeners())\n    state.status = 'not gated'\n  }\n}\n\nconst preventLeaveFullscreenPause = () => {\n  const videoElement = document.querySelector('video')\n  if (!isSafariVideo(videoElement)) {\n    return\n  }\n  const state = {lastLeave: 0}\n  const minInteractionDelay = 700\n  const resumeSystemPause = () => {\n    if (Math.abs(state.lastPause - state.lastLeave) <= minInteractionDelay) {\n      videoElement.play()\n    }\n  }\n  videoElement.addEventListener('pause', () => {\n    state.lastPause = Date.now()\n    resumeSystemPause()\n  })\n  videoElement.addEventListener('webkitpresentationmodechanged', event => {\n    if (event.target.webkitPresentationMode !== 'fullscreen') {\n      state.lastLeave = Date.now()\n      resumeSystemPause()\n    }\n  })\n\n  return function setUserPause() {\n    state.lastLeave = 0\n  }\n}\n\nexport {autoUnlockAutoplay, preventLeaveFullscreenPause}\n","/* @jsxImportSource @emotion/react */\nimport {Component, createRef} from 'react'\nimport PropTypes from 'prop-types'\nimport axios from 'axios'\nimport _get from 'dlv'\n\nimport blurPause from 'playerCore/blurPause'\nimport config from 'config'\nimport {PlayerViewMode, StorageKey} from 'Enum'\nimport {isDesktop} from 'util/environment'\nimport {catchBy} from 'util/index'\nimport {layer} from 'style'\nimport {rewriteHlsQualities} from 'playerCore/adaptation'\nimport PlayerAction, {type} from './store/action/Player'\nimport UIAction, {type as UIType} from './store/action/UI'\nimport {type as ApiType} from './store/action/API'\nimport {autoUnlockAutoplay, preventLeaveFullscreenPause} from 'player/safari'\nimport {getDefaultDrmConfig, getWidevineLevel} from 'playerCore/drm'\n\nconst ISSUER = 'kks-adapter'\n\nconst getMaxQuality = (state, {manifestType = 'hls', quality = ''}) => {\n  const {\n    UI: {selectedQualityName, qualityItems, qualityPrecedence},\n    API: {manifests},\n  } = state\n  const {resolutions = []} = manifests[manifestType]\n  const allQualities = quality?.getQualityOptions?.(resolutions) || qualityItems\n  const selected =\n    qualityPrecedence === 'application'\n      ? {height: quality.default || quality}\n      : allQualities.find(item => item.height === selectedQualityName) ||\n        qualityItems.find(item => item.value === selectedQualityName) ||\n        qualityItems[0]\n\n  return (\n    allQualities.find(\n      item =>\n        item.height === selected.height ||\n        item.height === parseInt(selected.height, 10)\n    ) ||\n    resolutions[0] ||\n    {}\n  )\n}\n\nconst getLoadOptions = (\n  state,\n  {startTime, widevine: {policy, mostRobustLevel}, drm}\n) => {\n  const {\n    manifests,\n    drm: drmHost,\n    playbackToken,\n    customHeader: headers,\n  } = state.API\n  const getDrmConfig = drm ? drm : getDefaultDrmConfig\n  return {\n    dash: manifests.dash.url,\n    hls: manifests.hls.url,\n    drm: getDrmConfig({\n      host: drmHost,\n      token: playbackToken.token,\n      headers,\n      widevine: {\n        policy,\n        level: mostRobustLevel,\n        blockedDevices: state.API.playbackToken.widevine_blacklist,\n      },\n    }),\n    options: {\n      startTime: startTime || _get(state, 'API.playback.updateTime') || 0,\n    },\n  }\n}\n\nconst applyLoadPlugins = (plugins = [], manifest, options) =>\n  plugins.reduce(async (last, plugin) => {\n    const result = await last\n    return {\n      ...result,\n      ...(await plugin.load?.(result, options)),\n    }\n  }, Promise.resolve(manifest))\n\nconst handleSeek = (player, plugins, position) => {\n  const seekHandler = plugins.find(\n    plugin => typeof plugin.handleSeek === 'function'\n  )\n  if (seekHandler) {\n    seekHandler.handleSeek(position, realPosition =>\n      player.seek(realPosition, ISSUER)\n    )\n    return true\n  }\n}\n\nconst getPlaybackStatus = (player, plugins) =>\n  Object.assign(\n    {\n      currentTime: player.getCurrentTime(),\n      duration: player.getDuration(),\n    },\n    ...plugins.map(plugin => plugin.getPlaybackStatus?.())\n  )\n\nconst loadStream = async (player, store, props, self) => {\n  const state = store.getState()\n  const preferredManifestFormat = player.getSupportedTech()[0].streaming\n  const baseOptions = getLoadOptions(state, {\n    ...(state.API.contentChangedTimes <= 1 && {startTime: props.startTime}),\n    widevine: {\n      policy: props.widevine,\n      mostRobustLevel: await getWidevineLevel(),\n    },\n    drm: props.drm,\n  })\n  const {\n    url: manifestUrl,\n    startTime = baseOptions.startTime,\n    ...streamInfo\n  } = await applyLoadPlugins(\n    props.plugins,\n    {\n      ...state.API.manifests[preferredManifestFormat],\n      url: baseOptions[preferredManifestFormat],\n      startTime: baseOptions.options.startTime,\n    },\n    {\n      player,\n      video: props.videoRef.current,\n      adContainer: props.adContainerRef.current,\n    }\n  )\n  self.streamInfo = streamInfo\n  let loadOptions = {\n    ...baseOptions,\n    [preferredManifestFormat]: manifestUrl,\n    options: {startTime},\n  }\n\n  if (preferredManifestFormat === 'hls') {\n    const {data: manifest} = await axios.get(manifestUrl).catch(() => {\n      store.dispatch(PlayerAction.error())\n    })\n    const getFilteredManifest = () => {\n      const maxQuality = getMaxQuality(store.getState(), {\n        quality: props.quality,\n      })\n      const filtered = rewriteHlsQualities(manifest, {\n        sourceUrl: manifestUrl,\n        filter: qualities =>\n          props.onVideoQualityChanged({\n            targetQuality: maxQuality,\n            qualities,\n          }),\n      })\n      return filtered\n        ? URL.createObjectURL(\n            new Blob([filtered], {type: 'application/x-mpegURL'})\n          )\n        : manifestUrl\n    }\n    self.changeQuality = async () => {\n      const startTime = player.getCurrentTime()\n      await player.unload()\n      return player.load({\n        ...loadOptions,\n        hls: getFilteredManifest(),\n        options: {startTime},\n      })\n    }\n    loadOptions = {\n      ...loadOptions,\n      hls: getFilteredManifest(),\n    }\n  }\n\n  return player.load(loadOptions)\n}\n\nconst handleSafariStalledTooLong = (player, store, PlayerAction) => {\n  if (player.getStreamType() !== 'hls') {\n    return\n  }\n\n  setTimeout(async () => {\n    if (player.isStalled()) {\n      const {url} = store.getState().API.manifests.hls\n      await axios.get(url, {timeout: 5000}).catch(() => {\n        store.dispatch(PlayerAction.error())\n      })\n    }\n  }, 10000)\n}\n\nconst handleSelectQuality = ({\n  player,\n  targetQuality,\n  onVideoQualityChanged,\n}) => {\n  const availableQualities = player.getAvailableVideoQualities()\n  const selected =\n    onVideoQualityChanged?.({qualities: availableQualities, targetQuality}) ||\n    availableQualities\n  return availableQualities.length <= 1 ? availableQualities : selected\n}\n\nclass BitmovinPlayer extends Component {\n  static propTypes = {\n    licenseKey: PropTypes.string.isRequired,\n    config: PropTypes.object,\n    autoPlay: PropTypes.bool,\n    quality: PropTypes.number,\n    containerRef: PropTypes.object,\n    store: PropTypes.object.isRequired,\n    plugins: PropTypes.array,\n    videoRef: PropTypes.object,\n\n    dispatchSessionEvent: PropTypes.func,\n    setPlayer: PropTypes.func,\n    onSourceLoaded: PropTypes.func,\n    onReady: PropTypes.func,\n    onPlay: PropTypes.func,\n    onPlaying: PropTypes.func,\n    onPaused: PropTypes.func,\n    onEnded: PropTypes.func,\n    onError: PropTypes.func,\n    onTimeChanged: PropTypes.func,\n    onSeek: PropTypes.func,\n    onSeeked: PropTypes.func,\n    onVolumeChanged: PropTypes.func,\n    onMuted: PropTypes.func,\n    onUnmuted: PropTypes.func,\n    onViewModeChange: PropTypes.func,\n    onEnterFullscreen: PropTypes.func,\n    onExitFullscreen: PropTypes.func,\n    onVideoQualityChanged: PropTypes.func,\n    onStallStarted: PropTypes.func,\n    onStallEnded: PropTypes.func,\n  }\n\n  static defaultProps = {\n    config: config.BitmovinConfig,\n    autoPlay: false,\n\n    onSourceLoaded: () => {},\n    onReady: () => {},\n    onPlay: () => {},\n    onPlaying: () => {},\n    onPaused: () => {},\n    onEnded: () => {},\n    onError: () => {},\n    onTimeChanged: () => {},\n    onSeek: () => {},\n    onSeeked: () => {},\n    onVolumeChanged: () => {},\n    onMuted: () => {},\n    onUnmuted: () => {},\n    onViewModeChange: () => {},\n    onEnterFullscreen: () => {},\n    onExitFullscreen: () => {},\n    onStallStarted: () => {},\n    onStallEnded: () => {},\n  }\n\n  player = null\n  preferredStreaming = null\n  playingQuality = null\n  videoRef = createRef()\n\n  removeListener = () => {}\n\n  componentDidMount() {\n    autoUnlockAutoplay()\n    this.setUserPause = preventLeaveFullscreenPause()\n    this.removeListener = this.props.store.addDispatchedListener(\n      async (store, action) => {\n        try {\n          const container = this.props.containerRef.current\n          switch (action.type) {\n            case type.MOUNT:\n              return await this.mount().then(() =>\n                store.dispatch(PlayerAction.mounted())\n              )\n            case type.FETCH_STATE:\n              return store.dispatch(\n                PlayerAction.setState(this.convertToPlayerState(this.player))\n              )\n            case type.LOAD:\n              return loadStream(this.player, store, this.props, this)\n            case ApiType.REFRESH_PLAYBACK_TOKEN:\n              this.player.unload()\n              await loadStream(this.player, store, this.props, this)\n              this.player.pause()\n              return\n            case type.UNLOAD:\n              this.changeQuality = undefined\n              this.props.plugins.forEach(plugin => plugin.reset?.())\n              return (\n                this.player &&\n                this.player\n                  .unload()\n                  .then(() => store.dispatch(PlayerAction.unloaded()))\n              )\n            case type.PLAY:\n              //play might fail if autoplay is still gated, source is still loading\n              //In Safari, some failed play calls does not pops immediately, rejection will happen\n              //while garbage collection of <video>, like changing video\n              //TODO: check if this still necessary after playback flow is refined\n              return this.player\n                .play(ISSUER)\n                .catch(e => console.log('videoElement.play() failed', e))\n            case type.PAUSE:\n              this.setUserPause?.()\n              return this.player.pause(ISSUER)\n            case type.SEEK:\n              //can't seek when video is ended, but doing this will trigger a reload, so no need to check\n              return (\n                handleSeek(this.player, this.props.plugins, action.time) ||\n                this.player.seek(Math.max(0, action.time), ISSUER)\n              )\n            case type.SET_VOLUME:\n              this.player.setVolume(action.volume)\n              if (action.volume > 0 && this.player.isMuted()) {\n                this.player.unmute()\n              }\n              return\n            case type.MUTE:\n              return this.player.mute()\n            case type.UNMUTE:\n              return this.player.unmute()\n            case type.ENTER_FULL_SCREEN:\n              if (container.requestFullscreen)\n                container.requestFullscreen({navigationUI: 'hide'})\n              return this.player.setViewMode(PlayerViewMode.FULLSCREEN, {\n                fullscreenElement: container,\n              })\n            case type.LEAVE_FULL_SCREEN:\n              return this.player.setViewMode(PlayerViewMode.INLINE, {\n                fullscreenElement: container,\n              })\n            case UIType.SELECT_QUALITY:\n              if (!this.player.hasEnded()) {\n                this.changeQuality?.()\n              }\n              this.selectedQualities = handleSelectQuality({\n                player: this.player,\n                targetQuality: getMaxQuality(store.getState(), {\n                  quality: this.props.quality,\n                }),\n                onVideoQualityChanged: this.props.onVideoQualityChanged,\n              })\n              return\n          }\n        } catch (error) {\n          // wait for bitmovin error event to fire first\n          await new Promise(resolve => setTimeout(resolve, 50))\n          store.dispatch(PlayerAction.error(error))\n        }\n      }\n    )\n  }\n\n  componentWillUnmount() {\n    this.removeBlurListener?.()\n    this.removeListener()\n    const store = this.props.store\n    store.dispatch(PlayerAction.unmount())\n\n    try {\n      this.player.destroy()\n    } catch (error) {\n      store.dispatch(PlayerAction.error(error))\n    }\n  }\n\n  mount() {\n    return import('bitmovin-player').then(\n      ({default: {Player, PlayerEvent}}) => {\n        const store = this.props.store\n        const config = {\n          key: this.props.licenseKey,\n          ...this.props.config,\n          playback: {\n            autoplay: this.props.autoPlay,\n            ...store.getState().LocalStorage[StorageKey.VOLUME],\n            ...this.props.config.playback,\n          },\n          tweaks: {\n            stop_download_on_pause: true,\n            native_hls_parsing: true,\n          },\n          adaptation: {\n            onVideoAdaptation: data => {\n              if (\n                !this.selectedQualities ||\n                this.selectedQualities.length < 1 ||\n                this.selectedQualities.some(\n                  quality => quality.id === data.suggested\n                )\n              ) {\n                return data\n              }\n              const targetBitrate = this.player\n                .getAvailableVideoQualities()\n                .find(quality => quality.id === data.suggested)\n              return (\n                this.selectedQualities.reduce((a, b) => {\n                  Math.abs(a.bitrate - targetBitrate) <=\n                  Math.abs(b.bitrate - targetBitrate)\n                    ? a\n                    : b\n                }).id || data\n              )\n            },\n          },\n        }\n        const player = new Player(this.videoRef.current, config)\n        if (!isDesktop()) {\n          this.removeBlurListener = blurPause({player})\n        }\n        this.props.setPlayer(player)\n        player.setVideoElement(this.props.videoRef.current)\n        this.preferredStreaming = player.getSupportedTech()[0].streaming\n        const withErrorHandling = catchBy(error =>\n          store.dispatch(PlayerAction.error(error))\n        )\n        player.on(\n          PlayerEvent.SourceLoaded,\n          withErrorHandling(() => {\n            player\n              .getVideoElement()\n              .setAttribute('disablePictureInPicture', true)\n            this.workaround_ST_3009({PlayerEvent, player})\n            this.workaround_ST_4489({PlayerEvent, player})\n            this.selectedQualities = handleSelectQuality({\n              player: this.player,\n              targetQuality: getMaxQuality(store.getState(), {\n                quality: this.props.quality,\n              }),\n              onVideoQualityChanged: this.props.onVideoQualityChanged,\n            })\n            store.dispatch(\n              PlayerAction.setState(this.convertToPlayerState(this.player))\n            )\n            store.dispatch(PlayerAction.loaded())\n            this.props.dispatchSessionEvent('playbackBegan', {\n              ...store.getState().API,\n              ...this.streamInfo,\n            })\n            if (player.isLive()) store.dispatch(PlayerAction.ready())\n            this.props.onSourceLoaded()\n          })\n        )\n        player.on(\n          PlayerEvent.Ready,\n          withErrorHandling(() => {\n            store.dispatch(\n              PlayerAction.setState(this.convertToPlayerState(this.player))\n            )\n            store.dispatch(PlayerAction.ready())\n            this.props.onReady()\n          })\n        )\n        player.on(\n          PlayerEvent.Play,\n          withErrorHandling(() => {\n            this.props.onPlay()\n          })\n        )\n        player.on(\n          PlayerEvent.Playing,\n          withErrorHandling(() => {\n            store.dispatch(PlayerAction.playing())\n            this.props.onPlaying()\n          })\n        )\n        player.on(\n          PlayerEvent.Paused,\n          withErrorHandling(() => {\n            store.dispatch(PlayerAction.paused())\n            this.props.onPaused()\n          })\n        )\n        player.on(\n          PlayerEvent.PlaybackFinished,\n          withErrorHandling(() => {\n            store.dispatch(PlayerAction.ended())\n            this.props.onEnded()\n          })\n        )\n        player.on(\n          PlayerEvent.TimeChanged,\n          withErrorHandling(() => {\n            this.workaround_OTP_1783({PlayerEvent, player})\n            const {currentTime, adRemainingTime} = getPlaybackStatus(\n              player,\n              this.props.plugins\n            )\n            store.dispatch(\n              PlayerAction.updateCurrentTime({currentTime, adRemainingTime})\n            )\n            this.props.onTimeChanged(currentTime)\n          })\n        )\n        let lastSeekEventIssuer\n        player.on(\n          PlayerEvent.Seek,\n          withErrorHandling(({seekTarget, position, issuer}) => {\n            this.props.dispatchSessionEvent('userSeeking')\n            lastSeekEventIssuer = issuer\n            if (issuer === ISSUER || issuer === 'internal') {\n              this.props.onSeek(seekTarget, position)\n            }\n          })\n        )\n        player.on(\n          PlayerEvent.Seeked,\n          withErrorHandling(() => {\n            if (\n              lastSeekEventIssuer === ISSUER ||\n              lastSeekEventIssuer === 'internal'\n            ) {\n              const {currentTime} = getPlaybackStatus(\n                player,\n                this.props.plugins\n              )\n              store.dispatch(PlayerAction.seeked(currentTime))\n              this.props.onSeeked(currentTime)\n            }\n          })\n        )\n        player.on(\n          PlayerEvent.VolumeChanged,\n          withErrorHandling(({targetVolume, sourceVolume}) => {\n            store.dispatch(PlayerAction.updateVolume(targetVolume))\n            this.props.onVolumeChanged(targetVolume, sourceVolume)\n          })\n        )\n        player.on(\n          PlayerEvent.Muted,\n          withErrorHandling(() => {\n            store.dispatch(PlayerAction.muted())\n            this.props.onMuted()\n          })\n        )\n        player.on(\n          PlayerEvent.Unmuted,\n          withErrorHandling(() => {\n            store.dispatch(PlayerAction.unmuted())\n            this.props.onUnmuted()\n          })\n        )\n        player.on(PlayerEvent.ViewModeChanged, viewModeEvent => {\n          store.dispatch(PlayerAction.updateViewMode(viewModeEvent.to))\n          this.props.onViewModeChange(viewModeEvent)\n          if (viewModeEvent.to === 'fullscreen') {\n            this.props.onEnterFullscreen()\n            player.getContainer().setAttribute('data-fullscreen', false)\n          } else if (viewModeEvent.from === 'fullscreen') {\n            this.props.onExitFullscreen()\n          }\n        })\n        player.on(PlayerEvent.SegmentRequestFinished, () => {\n          const getBufferLength = () =>\n            Math.min(\n              player.getVideoBufferLength() || 0,\n              player.getAudioBufferLength() || 0\n            )\n          store.dispatch(PlayerAction.updateBufferTime(getBufferLength()))\n        })\n        player.on(PlayerEvent.StallStarted, () => {\n          this.props.onStallStarted()\n          store.dispatch(PlayerAction.stalling())\n          handleSafariStalledTooLong(player, store, PlayerAction)\n        })\n        player.on(PlayerEvent.StallEnded, () => {\n          this.props.onStallEnded()\n          store.dispatch(PlayerAction.stalled())\n        })\n        player.on(PlayerEvent.CueEnter, event => {\n          const {text, start, end} = event\n          store.dispatch(UIAction.updateSubtitlesContent({text, start, end}))\n        })\n        player.on(PlayerEvent.CueExit, () =>\n          store.dispatch(UIAction.updateSubtitlesContent({}))\n        )\n        player.on(PlayerEvent.Error, error =>\n          store.dispatch(PlayerAction.error(error))\n        )\n        this.props.dispatchSessionEvent('playerStarted')\n        return (this.player = player)\n      }\n    )\n  }\n\n  convertToPlayerState(player) {\n    const {currentTime, duration} = getPlaybackStatus(\n      player,\n      this.props.plugins\n    )\n    return {\n      viewMode: player.getViewMode(),\n      streamType: player.getStreamType(),\n      progress: {\n        progressTime: currentTime,\n        duration: isFinite(duration) && duration > 0 ? duration : 0,\n        bufferTime: Math.min(\n          player.getVideoBufferLength() || 0,\n          player.getAudioBufferLength() || 0\n        ),\n      },\n      volume: {\n        volume: player.getVolume(),\n        muted: player.isMuted(),\n      },\n      source: player.getSource(),\n    }\n  }\n\n  // https://kkvideo.atlassian.net/browse/ST-3009\n  workaround_ST_3009({PlayerEvent, player}) {\n    if (player.getStreamType() === 'dash') {\n      let timerId\n      let lastTime\n      const startDetect = () => {\n        if (player.isPlaying()) {\n          stopDetect()\n          timerId = setInterval(() => {\n            const currentTime = player.getCurrentTime() * 1000\n            if (player.isPlaying()) {\n              if (currentTime - lastTime === 0) {\n                player.pause()\n                player.play()\n              }\n            }\n            lastTime = currentTime\n          }, 4000)\n        }\n      }\n      const stopDetect = () => {\n        clearInterval(timerId)\n        lastTime = 0\n      }\n      player.on(PlayerEvent.Playing, startDetect)\n      player.on(PlayerEvent.Seeked, startDetect)\n      player.on(PlayerEvent.StallEnded, startDetect)\n      player.on(PlayerEvent.Paused, stopDetect)\n      player.on(PlayerEvent.Seek, stopDetect)\n      player.on(PlayerEvent.StallStarted, stopDetect)\n      player.on(PlayerEvent.Error, stopDetect)\n      player.on(PlayerEvent.PlaybackFinished, stopDetect)\n      player.on(PlayerEvent.Destroy, stopDetect)\n    }\n\n    this.workaround_ST_3009 = () => {}\n  }\n\n  // https://kkvideo.atlassian.net/browse/ST-4489\n  workaround_ST_4489({PlayerEvent, player}) {\n    player.on(PlayerEvent.StallEnded, () => {\n      const video = player.getVideoElement()\n      video.currentTime = player.getCurrentTime()\n    })\n  }\n\n  workaround_OTP_1783({PlayerEvent, player}) {\n    if (player.isLive() && player.getStreamType() === 'dash') {\n      player.on(PlayerEvent.Paused, () => {\n        const videoElem = this.player.getVideoElement()\n        if (!videoElem._play) {\n          let fromExternalPlay = false\n          videoElem._play = videoElem.play\n          videoElem.play = function () {\n            if (fromExternalPlay) {\n              fromExternalPlay = false\n              return videoElem._play()\n            } else {\n              return Promise.reject()\n            }\n          }\n          player._play = player.play\n          player.play = function () {\n            fromExternalPlay = true\n            return player._play()\n          }\n        }\n      })\n      player.on(PlayerEvent.Play, () => {\n        const videoElem = this.player.getVideoElement()\n        if (videoElem._play) {\n          videoElem.play = videoElem._play\n          videoElem._play = undefined\n        }\n        if (player._play) {\n          player.play = player._play\n          player._play = undefined\n        }\n      })\n    }\n\n    this.workaround_OTP_1783 = () => {}\n  }\n\n  render() {\n    return (\n      <div className=\"kks-player__video\" css={layer} ref={this.videoRef}>\n        <video ref={this.props.videoRef} />\n      </div>\n    )\n  }\n}\n\nexport default BitmovinPlayer\n","import {useContext} from 'react'\nimport BitmovinPlayer from './BitmovinPlayer'\nimport {\n  useDispatchSessionEvent,\n  useSetPlayer,\n  useVideoRef,\n} from './playerContext'\nimport {Context} from './store/index'\n\nconst PlayerVideo = props => {\n  const store = useContext(Context.Adapter)\n  const videoRef = useVideoRef()\n  const setPlayer = useSetPlayer()\n  const dispatchSessionEvent = useDispatchSessionEvent()\n\n  return (\n    <BitmovinPlayer\n      store={store}\n      setPlayer={setPlayer}\n      videoRef={videoRef}\n      dispatchSessionEvent={dispatchSessionEvent}\n      {...props}\n    />\n  )\n}\n\nexport default PlayerVideo\n","import {useContext} from 'react'\nimport {Context} from 'player/store/index'\n\nconst useStore = (...args) => {\n  const store = useContext(Context.Adapter)\n\n  return store.useStore(...args)\n}\n\nexport default useStore\n","const formattedTime = sourceTime => {\n  const time = sourceTime >= 0 ? sourceTime : 0\n  const seconds = Math.floor(time % 60)\n    .toString()\n    .padStart(2, '0')\n  const minutes = Math.floor((time / 60) % 60)\n    .toString()\n    .padStart(2, '0')\n  const hours = time >= 3600 && Math.floor((time / 60 / 60) % 60).toString()\n\n  return [hours, minutes, seconds].filter(Boolean).join(':')\n}\n\nexport default formattedTime\n","/* eslint-disable indent */\nimport {ModuleState, PlayerState, CastState} from 'Enum'\nimport formattedTime from 'util/formattedTime'\nimport {convertToTimeString} from 'util/index'\n\nconst getPlaybackInfo = ({Module, API, Player, UI}) => {\n  const {\n    contentType,\n    title,\n    subtitle,\n    end,\n    start_time: startTime,\n    end_time: endTime,\n  } = API.content || {}\n  const {seeking, seekbarFocused, isSettingsOpen, activePanel, ad} = UI\n  const status =\n    Module.state === ModuleState.ERROR\n      ? 'error'\n      : Module.castState === CastState.CONNECTED\n      ? 'casting'\n      : end\n      ? 'linearEnded'\n      : Module.state !== ModuleState.READY &&\n        Module.state !== ModuleState.INITIALIZED\n      ? 'loading'\n      : Player.playerState === PlayerState.PLAYING\n      ? 'playing'\n      : Player.playerState === PlayerState.STALLING\n      ? 'buffering'\n      : 'paused'\n  const ready = Module.state === ModuleState.READY\n  const focused =\n    seekbarFocused || seeking || isSettingsOpen || activePanel != null\n  const controlsDisplay = UI.autoplayDialogOpening ? 'hidden' : undefined\n  const programTime = startTime\n    ? `${convertToTimeString(\n        new Date(startTime * 1000),\n        'HH:mm'\n      )} - ${convertToTimeString(new Date(endTime * 1000), 'HH:mm')}`\n    : ''\n  const channelTitle = subtitle && `${programTime} ${subtitle}`\n  const adRemainingTime = formattedTime(\n    Math.ceil(Player.progress.adRemainingTime)\n  )\n  const adStatus =\n    ad.total > 0 && `Ad ${ad.position} of ${ad.total}${adRemainingTime}`\n  const adUrl = ad.clickThroughUrl\n  const adSkipTimeOffset =\n    API.content?.contentType === 'lives' ? -1 : UI.ad?.skipTimeOffset\n  const seekable = contentType === 'videos' && !(ad.total > 0)\n  const subtitlesContent = UI.subtitlesContent\n\n  return {\n    status,\n    ready,\n    seekable,\n    focused,\n    controlsDisplay,\n    title,\n    channelTitle,\n    activePanel: !isSettingsOpen && activePanel,\n    adStatus,\n    adUrl,\n    adSkipTimeOffset,\n    subtitlesContent,\n  }\n}\n\nexport default getPlaybackInfo\n","import {useContext} from 'react'\n\nimport {Context} from 'player/store/index'\nimport uiAction from 'player/store/action/UI'\n\nconst useUiActions = () => {\n  const {dispatch} = useContext(Context.Module)\n\n  return {\n    toggleRecommendationPanel: () =>\n      dispatch(uiAction.toggleRecommendationPanel()),\n    hidePanel: () => dispatch(uiAction.hidePanel()),\n  }\n}\n\nexport default useUiActions\n","/* @jsxImportSource @emotion/react */\nimport {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {ModuleState} from 'Enum'\nimport {Context} from 'player/store'\n\nconst imageStyle = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  width: '100%',\n  height: '100%',\n  objectFit: 'contain',\n  transform: 'translate(-50%, -50%)',\n}\n\nconst CoverImageWrap = ({url, children}) => {\n  const {\n    state: {state: moduleState},\n  } = useContext(Context.Module)\n\n  return url &&\n    [\n      ModuleState.UNINITIALIZATION,\n      ModuleState.INITIALIZING,\n      ModuleState.INITIALIZED,\n    ].includes(moduleState) ? (\n    <img css={imageStyle} src={url} />\n  ) : (\n    children\n  )\n}\n\nCoverImageWrap.propTypes = {\n  url: PropTypes.string,\n  children: PropTypes.node,\n}\n\nexport default CoverImageWrap\n","/* eslint-disable indent */\nimport {PlayerState, ModuleState} from 'Enum'\n\nconst getPlaybackState = ({Module, Player}) => ({\n  status:\n    Module.state === ModuleState.INITIALIZED\n      ? 'init'\n      : Module.state === ModuleState.LOADING\n      ? 'loading'\n      : Player.playerState === PlayerState.PLAYING\n      ? 'playing'\n      : Player.playerState === PlayerState.ENDED\n      ? 'replay'\n      : 'paused',\n  loading:\n    Module.state !== ModuleState.READY &&\n    Module.state !== ModuleState.INITIALIZED,\n})\n\nexport default getPlaybackState\n","export default {\n  pause:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxyZWN0IHdpZHRoPSIxMiIgaGVpZ2h0PSI0MiIgeD0iNiIgeT0iMyIgcng9IjIiLz48cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iNDIiIHg9IjMwIiB5PSIzIiByeD0iMiIvPjwvZz48L3N2Zz4=',\n  play:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDR2NDBsMzgtMjB6Ii8+PC9nPjwvc3ZnPg==',\n  replay:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MCIgaGVpZ2h0PSI4MCI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJub256ZXJvIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGQ9Ik00MC41IDl2OC45YTI1LjYgMjUuNiAwIDEgMS0yNS42IDI0LjVINnYxLjFBMzQuNSAzNC41IDAgMSAwIDQwLjUgOXoiLz48cGF0aCBkPSJNNDAgMHYyN0wyMCAxMy41eiIvPjwvZz48L3N2Zz4=',\n  back:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz48ZyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnPjxwYXRoIGQ9J00wIDBoMzZ2MzZIMHonIG9wYWNpdHk9Jy41Jy8+PHBhdGggc3Ryb2tlPScjRkZGJyBzdHJva2Utd2lkdGg9JzQnIGQ9J00yMCAyTDQgMThsMTYgMTZNNSAxOGgzMC4wMDcnLz48L2c+PC9zdmc+Cg==',\n  forward10:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNiIgaGVpZ2h0PSIzNiI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGQ9Ik0xOCA0djRhMTEuNSAxMS41IDAgMSAwIDExLjQ5IDExaDRsLjAxLjVBMTUuNSAxNS41IDAgMSAxIDE4IDR6Ii8+PHBhdGggZD0iTTE4IDB2MTJsOS02em0tNC44NCAyNXYtNy45N2gtLjA0bC0yLjUxIDEuNzRWMTYuOWwyLjU1LTEuNzdoMi4wNVYyNWgtMi4wNXptOC4xMi4yMmMtMi40OCAwLTQtMS45OC00LTUuMTcgMC0zLjE4IDEuNTMtNS4xNCA0LTUuMTQgMi40NyAwIDMuOTggMS45NSAzLjk4IDUuMTMgMCAzLjE5LTEuNSA1LjE4LTMuOTggNS4xOHptMC0xLjY2YzEuMTcgMCAxLjg5LTEuMjYgMS44OS0zLjVzLS43Mi0zLjUtMS45LTMuNWMtMS4xNSAwLTEuODggMS4yNy0xLjg4IDMuNXMuNzEgMy41IDEuODkgMy41eiIvPjwvZz48L3N2Zz4=',\n  rewind10:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNiIgaGVpZ2h0PSIzNiI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGQ9Ik0xOCA0djRBMTEuNSAxMS41IDAgMSAxIDYuNTEgMTloLTR2LjVBMTUuNSAxNS41IDAgMSAwIDE4IDR6Ii8+PHBhdGggZD0iTTE4IDB2MTJMOSA2em0tNC44NCAyNXYtNy45N2gtLjA0bC0yLjUxIDEuNzRWMTYuOWwyLjU1LTEuNzdoMi4wNVYyNWgtMi4wNXptOC4xMi4yMmMtMi40OCAwLTQtMS45OC00LTUuMTcgMC0zLjE4IDEuNTMtNS4xNCA0LTUuMTQgMi40NyAwIDMuOTggMS45NSAzLjk4IDUuMTMgMCAzLjE5LTEuNSA1LjE4LTMuOTggNS4xOHptMC0xLjY2YzEuMTcgMCAxLjg5LTEuMjYgMS44OS0zLjVzLS43Mi0zLjUtMS45LTMuNWMtMS4xNSAwLTEuODggMS4yNy0xLjg4IDMuNXMuNzEgMy41IDEuODkgMy41eiIvPjwvZz48L3N2Zz4=',\n  volumeHight:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz4gPGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz4gPHBhdGggZD0nTTAgMGgzNnYzNkgweicgb3BhY2l0eT0nLjUnLz4gPHBhdGggZmlsbD0nI0ZGRicgZD0nTTIxLjgwOCAxYTE2LjI2NSAxNi4yNjUgMCAwIDEgNi43NzcgMy4yMTkgMTYuOTEgMTYuOTEgMCAwIDEgNC42OTIgNS44MDJBMTYuOTYgMTYuOTYgMCAwIDEgMzUgMTcuNTQ3YzAgMi42Ni0uNTc0IDUuMTY4LTEuNzIzIDcuNTI1YTE2LjkxIDE2LjkxIDAgMCAxLTQuNjkyIDUuODAzIDE2LjI2NSAxNi4yNjUgMCAwIDEtNi43NzcgMy4yMTh2LTMuODk4YTEyLjQ1NiAxMi40NTYgMCAwIDAgNC44NS0yLjYzIDEzLjE2OCAxMy4xNjggMCAwIDAgMy4zMzMtNC40NjUgMTMuMTA5IDEzLjEwOSAwIDAgMCAxLjIwMS01LjU1M2MwLTEuOTY1LS40LTMuODE2LTEuMjAxLTUuNTU0YTEzLjE2OCAxMy4xNjggMCAwIDAtMy4zMzItNC40NjUgMTIuNDU2IDEyLjQ1NiAwIDAgMC00Ljg1MS0yLjYzVjF6Jy8+IDxwYXRoIGZpbGw9JyNGRkYnIGQ9J00yNi41MjMgMTcuNTQ3YzAgMS42NjItLjQyMyAzLjE2NS0xLjI3IDQuNTFhOC40NTMgOC40NTMgMCAwIDEtMy40NDUgMy4xMDZWOS45M2MxLjQ1LjcyNSAyLjYgMS43NiAzLjQ0NSAzLjEwNS44NDcgMS4zNDUgMS4yNyAyLjg0OCAxLjI3IDQuNTF6TTEgMTEuODhoNy41MjVMMTggMi40MDV2MzAuMjgzbC05LjQ3NS05LjQ3NUgxeicvPiA8L2c+IDwvc3ZnPg==',\n  volumeLow:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz4gPGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz4gPHBhdGggZD0nTTAgMGgzNnYzNkgweicgb3BhY2l0eT0nLjUnLz4gPHBhdGggZmlsbD0nI0ZGRicgZD0nTTI2LjUyMyAxNy41NDdjMCAxLjY2Mi0uNDIzIDMuMTY1LTEuMjcgNC41MWE4LjQ1MyA4LjQ1MyAwIDAgMS0zLjQ0NSAzLjEwNlY5LjkzYzEuNDUuNzI1IDIuNiAxLjc2IDMuNDQ1IDMuMTA1Ljg0NyAxLjM0NSAxLjI3IDIuODQ4IDEuMjcgNC41MXpNMSAxMS44OGg3LjUyNUwxOCAyLjQwNXYzMC4yODNsLTkuNDc1LTkuNDc1SDF6Jy8+IDwvZz4gPC9zdmc+',\n  mute:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz4gPGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz4gPHBhdGggZD0nTTAgMGgzNnYzNkgweicgb3BhY2l0eT0nLjUnLz4gPHBhdGggZmlsbD0nI0ZGRicgZD0nTTEgMTEuODhoNy41MjVMMTggMi40MDV2MzAuMjgzbC05LjQ3NS05LjQ3NUgxeicvPiA8ZyBmaWxsLXJ1bGU9J25vbnplcm8nPiA8cGF0aCBkPSdNMjAgMTFoMTR2MTRIMjB6Jy8+IDxwYXRoIGZpbGw9JyNGRkYnIGQ9J00zMS45NCAxMC45NGwyLjEyIDIuMTItMTIgMTItMi4xMi0yLjEyeicvPiA8cGF0aCBmaWxsPScjRkZGJyBkPSdNMTkuOTQgMTMuMDZsMi4xMi0yLjEyIDEyIDEyLTIuMTIgMi4xMnonLz4gPC9nPiA8L2c+IDwvc3ZnPg==',\n  setting:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz4gPGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz4gPHBhdGggZD0nTTAgMGgzNnYzNkgweicgb3BhY2l0eT0nLjgnLz4gPHBhdGggZmlsbD0nI0ZGRicgZmlsbC1ydWxlPSdub256ZXJvJyBkPSdNMjMuMzA4IDMxLjQ3M2wtLjI2MyAyLjI3QTEuNDM0IDEuNDM0IDAgMCAxIDIxLjYxMSAzNWgtNy4yMjJjLS43MzQgMC0xLjM1MS0uNTQtMS40MzQtMS4yNTdsLS4yNjMtMi4yN2ExNS4xMzQgMTUuMTM0IDAgMCAxLTQuMDA3LTIuMTlsLTIuMDU0Ljg3N2ExLjQ1NyAxLjQ1NyAwIDAgMS0xLjgyNi0uNTlsLTMuNjExLTYuMTRhMS40IDEuNCAwIDAgMSAuMzkxLTEuODQ3bDEuNjM3LTEuMTg3YTEzLjk0MiAxMy45NDIgMCAwIDEgMC00Ljc5MmwtMS42MzctMS4xODdhMS40IDEuNCAwIDAgMS0uMzkxLTEuODQ4bDMuNjEtNi4xMzhhMS40NTcgMS40NTcgMCAwIDEgMS44MjctLjU5bDIuMDU0Ljg3NmExNS4xMzQgMTUuMTM0IDAgMCAxIDQuMDA3LTIuMTlsLjI2My0yLjI3Yy4wODMtLjcxNi43LTEuMjU3IDEuNDM0LTEuMjU3aDcuMjIyYy43MzQgMCAxLjM1MS41NCAxLjQzNCAxLjI1N2wuMjYzIDIuMjdhMTUuMTM0IDE1LjEzNCAwIDAgMSA0LjAwNyAyLjE5bDIuMDU0LS44NzdhMS40NTcgMS40NTcgMCAwIDEgMS44MjYuNTlsMy42MTEgNi4xNGExLjQgMS40IDAgMCAxLS4zOTEgMS44NDdsLTEuNjM3IDEuMTg3YTEzLjk0MyAxMy45NDMgMCAwIDEgMCA0Ljc5MmwxLjYzNyAxLjE4N2ExLjQgMS40IDAgMCAxIC4zOTEgMS44NDhsLTMuNjEgNi4xMzhhMS40NTcgMS40NTcgMCAwIDEtMS44MjcuNTlsLTIuMDU0LS44NzZhMTUuMTM0IDE1LjEzNCAwIDAgMS00LjAwNyAyLjE5ek0xOCAyNmE4IDggMCAxIDAgMC0xNiA4IDggMCAwIDAgMCAxNnonLz4gPC9nPiA8L3N2Zz4=',\n  check:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyMCcgaGVpZ2h0PScyMCcgdmlld0JveD0nMCAwIDIwIDIwJz48cGF0aCBmaWxsPScjRkZGJyBmaWxsLXJ1bGU9J25vbnplcm8nIGQ9J00yLjkwMiA5LjI2MWExLjA4NyAxLjA4NyAwIDAgMC0xLjU3NiAwIDEuMTgzIDEuMTgzIDAgMCAwIDAgMS42MzJsNS41NzEgNS43NjljLjQzNS40NSAxLjE0LjQ1IDEuNTc2IDBsMTEuMi0xMS42OTJhMS4xODMgMS4xODMgMCAwIDAgMC0xLjYzMiAxLjA4NyAxLjA4NyAwIDAgMC0xLjU3NSAwTDcuNjg1IDE0LjIxNCAyLjkwMiA5LjI2MXonLz48L3N2Zz4K',\n  enterFullScreen:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz4gPGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz4gPHBhdGggZD0nTTAgMGgzNnYzNkgweicgb3BhY2l0eT0nLjUnLz4gPHBhdGggZmlsbD0nI0ZGRicgZD0nTTMwIDMwdi05aDR2MTNIMjF2LTRoOXptNC0yNHY5aC00VjZoLTlWMmgxM3Y0ek02IDMwaDl2NEgyVjIxaDR2OXpNNiAyaDl2NEg2djlIMlYyaDR6Jy8+IDwvZz4gPC9zdmc+',\n  leaveFullScreen:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz4gPGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz4gPHBhdGggZD0nTTAgMGgzNnYzNkgweicgb3BhY2l0eT0nLjUnLz4gPHBhdGggZmlsbD0nI0ZGRicgZD0nTTExIDJoNHYxM2gtNHonLz4gPHBhdGggZmlsbD0nI0ZGRicgZD0nTTIgMTFoMTN2NEgyek0xMSAzNGg0VjIxaC00eicvPiA8cGF0aCBmaWxsPScjRkZGJyBkPSdNMiAyNWgxM3YtNEgyek0zNCAxMXY0SDIxdi00eicvPiA8cGF0aCBmaWxsPScjRkZGJyBkPSdNMjUgMnYxM2gtNFYyek0zNCAyNXYtNEgyMXY0eicvPiA8cGF0aCBmaWxsPScjRkZGJyBkPSdNMjUgMzRWMjFoLTR2MTN6Jy8+IDwvZz4gPC9zdmc+',\n  previousEpisode:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNiIgaGVpZ2h0PSIzNiI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0zMiAzMlY0TDExIDE4em0tMjEgMFY0SDR2Mjh6Ii8+PC9nPjwvc3ZnPg==',\n  nextEpisode:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNiIgaGVpZ2h0PSIzNiI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00IDMyVjRsMjEgMTR6bTIxIDBWNGg3djI4eiIvPjwvZz48L3N2Zz4=',\n  pauseCircle:\n    'data:image/png;base64,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',\n  playCircle:\n    'data:image/png;base64,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',\n  playCircleBorder:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyOSIgc3Ryb2tlPSIjRkZGIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjIgMTcuMTJ2MjYuM2ExIDEgMCAwMDEuNTQuODRsMjAuNy0xMy4xNWExIDEgMCAwMDAtMS42OWwtMjAuNy0xMy4xNWExIDEgMCAwMC0xLjU0Ljg1eiIvPjwvZz48L3N2Zz4=',\n  arrowTop:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMCAwdjE2aDE2VjB6IiBvcGFjaXR5PSIuNSIvPjxwYXRoIGZpbGw9IiNDQ0MiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTIuNTcgMTAuMjdhLjgzLjgzIDAgMDEtMS4xNC0xLjJsNi01LjY4Yy4zMi0uMy44Mi0uMyAxLjE0IDBsNiA1LjY3YS44My44MyAwIDExLTEuMTQgMS4yMUw4IDUuMTVsLTUuNDMgNS4xMnoiLz48L2c+PC9zdmc+',\n  close:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTI5LjY1IDQuMDVhMS4yIDEuMiAwIDEwLTEuNy0xLjdsLTI1LjYgMjUuNmExLjIgMS4yIDAgMDAxLjcgMS43bDI1LjYtMjUuNnoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMi4zNSA0LjA1YTEuMiAxLjIgMCAxMTEuNy0xLjdsMjUuNiAyNS42YTEuMiAxLjIgMCAwMS0xLjcgMS43TDIuMzUgNC4wNXoiLz48L3N2Zz4=',\n  castNotConnected:\n    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xIDE4djNoM2EzIDMgMCAwMC0zLTN6bTAtNHYyYTUgNSAwIDAxNSA1aDJhNyA3IDAgMDAtNy03em0wLTR2MmE5IDkgMCAwMTkgOWgyQTExIDExIDAgMDAxIDEwem0yMC03SDNhMiAyIDAgMDAtMiAydjNoMlY1aDE4djE0aC03djJoN2EyIDIgMCAwMDItMlY1YTIgMiAwIDAwLTItMnoiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMCAwaDI0djI0SDB6Ii8+PC9nPjwvc3ZnPg==',\n  castConnected:\n    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xIDE4djNoM2EzIDMgMCAwMC0zLTN6bTAtNHYyYTUgNSAwIDAxNSA1aDJhNyA3IDAgMDAtNy03em0xOC03SDV2MS42M0ExMy4wMyAxMy4wMyAwIDAxMTMuMzcgMTdIMTlWN3pNMSAxMHYyYTkgOSAwIDAxOSA5aDJBMTEgMTEgMCAwMDEgMTB6bTIwLTdIM2EyIDIgMCAwMC0yIDJ2M2gyVjVoMTh2MTRoLTd2Mmg3YTIgMiAwIDAwMi0yVjVhMiAyIDAgMDAtMi0yeiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiLz48L2c+PC9zdmc+',\n  castConntecting0:\n    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xIDE4djNoM2EzIDMgMCAwMC0zLTN6IiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTEgMTR2MmE1IDUgMCAwMTUgNWgyYTcgNyAwIDAwLTctN3oiIG9wYWNpdHk9Ii4zIiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTEgMTB2MmE5IDkgMCAwMTkgOWgyQTExIDExIDAgMDAxIDEweiIgb3BhY2l0eT0iLjMiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMjEgM0gzYTIgMiAwIDAwLTIgMnYzaDJWNWgxOHYxNGgtN3YyaDdhMiAyIDAgMDAyLTJWNWEyIDIgMCAwMC0yLTJ6IiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIvPjwvZz48L3N2Zz4=',\n  castConntecting1:\n    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xIDE4djNoM2EzIDMgMCAwMC0zLTN6IiBvcGFjaXR5PSIuMyIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0xIDE0djJhNSA1IDAgMDE1IDVoMmE3IDcgMCAwMC03LTd6IiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTEgMTB2MmE5IDkgMCAwMTkgOWgyQTExIDExIDAgMDAxIDEweiIgb3BhY2l0eT0iLjMiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMjEgM0gzYTIgMiAwIDAwLTIgMnYzaDJWNWgxOHYxNGgtN3YyaDdhMiAyIDAgMDAyLTJWNWEyIDIgMCAwMC0yLTJ6IiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIvPjwvZz48L3N2Zz4=',\n  castConntecting2:\n    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xIDE4djNoM2EzIDMgMCAwMC0zLTN6TTEgMTR2MmE1IDUgMCAwMTUgNWgyYTcgNyAwIDAwLTctN3oiIG9wYWNpdHk9Ii4zIiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTEgMTB2MmE5IDkgMCAwMTkgOWgyQTExIDExIDAgMDAxIDEweiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yMSAzSDNhMiAyIDAgMDAtMiAydjNoMlY1aDE4djE0aC03djJoN2EyIDIgMCAwMDItMlY1YTIgMiAwIDAwLTItMnoiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMCAwaDI0djI0SDB6Ii8+PC9nPjwvc3ZnPg==',\n  warning:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc4MCcgaGVpZ2h0PSc4MCcgdmlld0JveD0nMCAwIDgwIDgwJz48cGF0aCBmaWxsPScjRkZGJyBmaWxsLXJ1bGU9J25vbnplcm8nIGQ9J003OS40MDkgNzAuMDQ0TDQ0LjUxNCA0LjY2MUE1LjAyMyA1LjAyMyAwIDAgMCA0MC4wODMgMmgtLjAwNWE1LjAyNCA1LjAyNCAwIDAgMC00LjQzMSAyLjY1NkwuNTk3IDcwLjAzOUE1LjAzNyA1LjAzNyAwIDAgMCAuNzExIDc1YTUuMDQyIDUuMDQyIDAgMCAwIDQuMzE1IDIuNDQ0aDY5Ljk0YzEuNzcxIDAgMy40MDYtLjkyNiA0LjMxNi0yLjQ0NWE1LjAyOSA1LjAyOSAwIDAgMCAuMTI2LTQuOTU0em0tMzkuMzMxLTIuNjZhNS4wMzEgNS4wMzEgMCAwIDEtNS4wMy01LjAzIDUuMDMxIDUuMDMxIDAgMCAxIDUuMDMtNS4wMyA1LjAzNSA1LjAzNSAwIDAgMSA1LjAzIDUuMDMgNS4wMzEgNS4wMzEgMCAwIDEtNS4wMyA1LjAzem01LjAzNC0yMC4wMzhhNS4wMzEgNS4wMzEgMCAwIDEtNS4wMjkgNS4wMyA1LjAyOCA1LjAyOCAwIDAgMS01LjAzLTUuMDNWMjcuMjI4YTUuMDMxIDUuMDMxIDAgMCAxIDUuMDMtNS4wMyA1LjAzNSA1LjAzNSAwIDAgMSA1LjAzIDUuMDN2MjAuMTE4eicvPjwvc3ZnPgo=',\n  cancel:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNic+PGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48cGF0aCBkPSdNMCAwaDM2djM2SDB6JyBvcGFjaXR5PScuNScvPjxwYXRoIGQ9J00zMS41MzMgNC45MDNMNC40NjcgMzAuNjQ1bTI3LjA2Ni40NTJMNC45MzMgNC45MDMnIGZpbGwtcnVsZT0nbm9uemVybycgc3Ryb2tlPScjRkZGJyBzdHJva2Utd2lkdGg9JzQnLz48L2c+PC9zdmc+',\n}\n","/* @jsxImportSource @emotion/react */\nimport {useState, useEffect, useRef, cloneElement} from 'react'\nimport {createPortal} from 'react-dom'\nimport PropTypes from 'prop-types'\n\nimport {getPopoverPosition} from 'util/index'\nimport {isDesktop} from 'util/environment'\n\nconst style = {\n  zIndex: 7,\n  position: 'fixed',\n  padding: '8px 12px',\n  borderRadius: 4,\n  textAlign: 'center',\n  color: 'white',\n  backgroundColor: 'rgba(51, 51, 51, 0.625)',\n}\n\nconst isOverflowing = element => element.scrollWidth > element.clientWidth\n\nconst Tooltip = ({\n  title,\n  bottom = '0px',\n  overflowOnly,\n  children,\n  container = document.body,\n}) => {\n  const tooltipRef = useRef()\n  const boxes = useRef()\n  const [open, setOpen] = useState(false)\n  const [position, setPosition] = useState(() => ({left: '100%'}))\n\n  const childProps = {\n    onMouseEnter: event => {\n      if (!overflowOnly || isOverflowing(event.currentTarget)) {\n        boxes.current = [\n          event.currentTarget.getBoundingClientRect(),\n          document.body.getBoundingClientRect(),\n        ]\n        setOpen(true)\n      }\n    },\n    onMouseLeave: () => {\n      setPosition({left: '100%'})\n      setOpen(false)\n    },\n  }\n\n  useEffect(() => {\n    if (open) {\n      const targetPosition = getPopoverPosition(\n        tooltipRef.current.getBoundingClientRect(),\n        ...boxes.current\n      )\n      targetPosition.left !== position.left && setPosition(targetPosition)\n    }\n  }, [open, position.left])\n\n  return !isDesktop() && window.matchMedia('(any-hover: none)').matches ? (\n    children\n  ) : (\n    <>\n      {cloneElement(children, childProps)}\n      {open &&\n        createPortal(\n          <div\n            style={{\n              ...style,\n              ...position,\n              top: `calc(${position.top}px - ${bottom})`,\n            }}\n            ref={tooltipRef}\n          >\n            {title}\n          </div>,\n          container\n        )}\n    </>\n  )\n}\n\nTooltip.propTypes = {\n  title: PropTypes.node,\n  bottom: PropTypes.string,\n  overflowOnly: PropTypes.bool,\n  children: PropTypes.node,\n  container: PropTypes.object,\n}\n\nexport default Tooltip\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport Tooltip from 'component/Tooltip'\nimport {Context} from 'player/store'\nimport {useUiContainer} from 'player/playerContext'\n\nconst ControlsTooltip = ({children, ...props}) => {\n  const {state = {}} = useContext(Context.UI) || {}\n  const uiContainer = useUiContainer()\n\n  // follows YouTube UX, tooltips are not shown while settings open\n  return state.isSettingsOpen ? (\n    children\n  ) : (\n    <Tooltip {...props} container={uiContainer}>\n      {children}\n    </Tooltip>\n  )\n}\n\nControlsTooltip.propTypes = {\n  children: PropTypes.node,\n}\n\nexport default ControlsTooltip\n","/* eslint-disable indent */\nimport operator from '../operator'\nimport actions from './Player'\n\nconst playAction = status =>\n  status === 'init'\n    ? operator.loadContent\n    : status === 'playing'\n    ? actions.pause()\n    : status === 'replay'\n    ? operator.seek(0)\n    : actions.play()\n\nexport default playAction\n","/* @jsxImportSource @emotion/react */\nimport classnames from 'classnames'\nimport PropTypes from 'prop-types'\nimport {center} from 'style'\n\nconst _style = {\n  border: 'none',\n  outline: 'none',\n  cursor: 'pointer',\n  padding: 0,\n  flexShrink: 0,\n  backgroundColor: 'transparent',\n  userSelect: 'none',\n}\n\nconst SquareButton = ({name, style, children, ...others}) => (\n  <button\n    className={classnames('kks-player__square-button', name)}\n    css={[_style, center, style]}\n    {...others}\n  >\n    {children}\n  </button>\n)\n\nSquareButton.propTypes = {\n  name: PropTypes.string,\n  style: PropTypes.object,\n  children: PropTypes.node,\n}\n\nexport default SquareButton\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\n\nconst Icon = ({style, src}) => (\n  <span\n    className=\"kks-player__icon\"\n    css={{\n      width: 'inherit',\n      height: 'inherit',\n      backgroundPosition: 'center',\n      backgroundSize: 'cover',\n      backgroundImage: `url(${src})`,\n      pointerEvents: 'none',\n      touchAction: 'none',\n      ...style,\n    }}\n  />\n)\n\nIcon.propTypes = {\n  style: PropTypes.object,\n  src: PropTypes.string,\n}\nIcon.defaultProps = {\n  style: {},\n}\n\nexport default Icon\n","import PropTypes from 'prop-types'\n\nimport Button from 'component/Button/SquareButton'\nimport Icon from 'component/Icon'\n\nconst IconButton = ({\n  name = '',\n  src,\n  style = {},\n  onClick = () => {},\n  ...others\n}) => (\n  <Button style={style} name={name} onClick={onClick} {...others}>\n    <Icon src={src} style={style.icon} />\n  </Button>\n)\n\nIconButton.propTypes = {\n  src: PropTypes.string.isRequired,\n  name: PropTypes.string,\n  tooltip: PropTypes.string,\n  onClick: PropTypes.func,\n  style: PropTypes.shape({\n    icon: PropTypes.object,\n  }),\n}\n\nexport default IconButton\n","/* eslint-disable indent */\nimport {useContext} from 'react'\nimport {cx} from '@emotion/css'\nimport shallow from 'zustand/shallow'\n\nimport icon from 'style/icon'\nimport useStore from 'player/store/useStore'\nimport getPlaybackState from 'player/store/getPlaybackState'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport {Context} from 'player/store/index'\nimport playAction from 'player/store/action/playAction'\nimport {isDesktop} from 'util/environment'\nimport IconButton from './IconButton'\nimport {useDebounce} from 'Hooks'\n\nconst PlayButton = () => {\n  const playbackState = useStore(getPlaybackState, shallow)\n  const disabled = !isDesktop() && playbackState.loading\n  const status = useDebounce({delay: 200, value: playbackState.status})\n  const {dispatch} = useContext(Context.PlayerState)\n\n  const buttonProps = (() => {\n    switch (status) {\n      case 'playing':\n        return {src: icon.pause, tooltip: 'KKS.PLAYER.PAUSE'}\n      case 'replay':\n        return {src: icon.replay, tooltip: 'KKS.PLAYER.REPLAY'}\n      default:\n        return {src: icon.play, tooltip: 'KKS.PLAYER.PLAY'}\n    }\n  })()\n\n  return (\n    <Tooltip title={<Message code={buttonProps.tooltip} />} bottom=\"48px\">\n      <IconButton\n        name={cx(\n          'play-button',\n          'kks-player__play-button',\n          `kks-player__play-button--${status}`\n        )}\n        disabled={disabled}\n        {...buttonProps}\n        onClick={() => dispatch(playAction(status))}\n      />\n    </Tooltip>\n  )\n}\n\nexport default PlayButton\n","/* eslint-disable no-param-reassign */\n/* eslint-disable indent */\n/* @jsxImportSource @emotion/react */\nimport {useState, useRef} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {havePointerQuery} from 'util/environment'\n\nconst style = {\n  position: 'relative',\n  height: '100%',\n  display: 'flex',\n  alignItems: 'center',\n  cursor: 'pointer',\n  userSelect: 'none',\n  touchAction: 'none',\n}\n\nconst railStyle = {\n  position: 'relative',\n  flex: '100%',\n  height: '4px',\n  overflow: 'hidden',\n  background: 'rgba(255, 255, 255, 0.3)',\n  '> div': {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    width: '100%',\n    height: '100%',\n  },\n}\n\nconst markStyle = {\n  position: 'absolute',\n  height: railStyle.height,\n  width: '4px',\n  transform: 'translateX(-50%)',\n  backgroundColor: '#ff9835',\n}\n\nconst thumbStyle = {\n  position: 'absolute',\n  top: '50%',\n  height: '14px',\n  width: '14px',\n  borderRadius: '100%',\n  backgroundColor: '#fff',\n  boxShadow: '0 2px 2px 0 rgba(0, 0, 0, 0.5)',\n  transform: 'translate(-50%, -50%)',\n}\n\nconst getPointerData = event => {\n  const {pageX: x, pageY: y} =\n    event.touches?.[0] || event.changedTouches?.[0] || event\n  const {width, left} = event.currentTarget.getBoundingClientRect()\n  return {x, y, width, left}\n}\n\nconst getSliderValue = ({x, left, width}) =>\n  Math.max(0, Math.min((x - left) / width, 1))\n\nconst debouncedPointerHandlers = ({state, onMove, onLeave}) => {\n  const emit = () => {\n    if (!state.scheduled) {\n      return\n    }\n    if (state.type === 'leave') {\n      onLeave?.(state.event, state)\n    } else {\n      onMove(state.event, state)\n    }\n    state.scheduled = false\n  }\n  const schedule = () => {\n    if (state.scheduled) {\n      return\n    }\n    state.scheduled = true\n    requestAnimationFrame(emit)\n  }\n\n  return {\n    onPointerMove: event => {\n      const type =\n        event.buttons > 0 || event.touches?.length > 0 ? 'change' : 'move'\n      Object.assign(state, {event, type, ...getPointerData(event)})\n      schedule()\n    },\n    onPointerLeave: event => {\n      const type = 'leave'\n      Object.assign(state, {event, type})\n      schedule()\n    },\n    emit,\n  }\n}\n\nconst eventHandlers = ({\n  onPointerDown,\n  onPointerMove,\n  onPointerLeave,\n  onPointerUp,\n}) =>\n  window.matchMedia(havePointerQuery).matches\n    ? {onPointerDown, onPointerMove, onPointerLeave, onPointerUp}\n    : {\n        onTouchStart: onPointerDown,\n        onTouchMove: onPointerMove,\n        onTouchEnd: event => {\n          onPointerLeave(event)\n          onPointerUp(event)\n        },\n      }\n\nconst SimpleSlider = ({\n  min = 0,\n  max = 100,\n  value,\n  marks = [],\n  className = '',\n  classes = {},\n  onPointerMove,\n  onPointerLeave,\n  onChange,\n  onChangeCommitted,\n}) => {\n  const pointerState = useRef({})\n  const [focusValue, setFocusValue] = useState(-1)\n  const currentPosition =\n    ((focusValue >= 0 ? focusValue : value) - min) / (max - min)\n  const pointerHandlers = debouncedPointerHandlers({\n    state: pointerState.current,\n    onMove: (event, {type, x, y, width, left}) => {\n      const pointerValue = min + max * getSliderValue({x, width, left})\n      onPointerMove?.(event, {value: pointerValue, x, y})\n      if (type === 'change') {\n        setFocusValue(pointerValue)\n        onChange?.(event, {value: pointerValue, x, y})\n      }\n    },\n    onLeave: () => onPointerLeave?.(),\n  })\n  const handlePointerUp = event => {\n    if (event.pointerId) {\n      event.currentTarget.releasePointerCapture(event.pointerId)\n    }\n    setFocusValue()\n    const pointerValue = min + max * getSliderValue(getPointerData(event))\n    pointerHandlers.emit()\n    onChangeCommitted?.(event, {value: pointerValue})\n  }\n\n  return (\n    <div\n      className={`kks-player__slider ${className}`}\n      css={style}\n      onClick={event => event.stopPropagation()}\n      {...eventHandlers({\n        onPointerDown: event => {\n          if (event.type === 'pointerdown') {\n            event.currentTarget.setPointerCapture(event.pointerId)\n          }\n          pointerHandlers.onPointerMove(event)\n        },\n        ...pointerHandlers,\n        onPointerUp: handlePointerUp,\n      })}\n    >\n      <div\n        className={`kks-player__slider-rail ${classes.rail || ''}`}\n        css={railStyle}\n      >\n        <div\n          css={{backgroundColor: '#fff'}}\n          className={`kks-player__slider-track ${classes.track || ''}`}\n          style={{transform: `translateX(${currentPosition * 100 - 100}%)`}}\n        />\n      </div>\n      {marks.map(position => (\n        <div\n          key={position}\n          css={markStyle}\n          className={classes.marked}\n          style={{left: `${(position / max) * 100}%`}}\n        />\n      ))}\n      <div\n        css={thumbStyle}\n        className={`kks-player__slider-thumb ${classes.thumb}`}\n        style={{left: `calc(${currentPosition * 100}%)`}}\n      />\n    </div>\n  )\n}\n\nSimpleSlider.propTypes = {\n  min: PropTypes.number,\n  max: PropTypes.number,\n  value: PropTypes.number,\n  marks: PropTypes.array,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  onPointerMove: PropTypes.func,\n  onPointerLeave: PropTypes.func,\n  onChange: PropTypes.func,\n  onChangeCommitted: PropTypes.func,\n}\n\nexport default SimpleSlider\n","/* @jsxImportSource @emotion/react */\nimport {memo} from 'react'\nimport PropTypes from 'prop-types'\n\nimport formattedTime from 'util/formattedTime'\n\nconst containerStyle = {\n  position: 'absolute',\n  textAlign: 'center',\n}\n\nconst imageStyle = {\n  border: '1px solid white',\n  boxShadow: '0 0 5px 2px rgba(0, 0, 0, 0.3)',\n  backgroundColor: '#000',\n}\n\nconst VideoThumbnail = ({\n  className,\n  style,\n  time,\n  image,\n  x,\n  y,\n  width,\n  height,\n}) => (\n  <div css={containerStyle} className={className} style={style}>\n    <div\n      css={imageStyle}\n      style={{\n        width: `${width}px`,\n        height: `${height}px`,\n        backgroundImage: `url(${image})`,\n        backgroundPosition: `-${x}px -${y}px`,\n      }}\n    />\n    {formattedTime(time)}\n  </div>\n)\n\nVideoThumbnail.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  time: PropTypes.number,\n  image: PropTypes.string,\n  x: PropTypes.number,\n  y: PropTypes.number,\n  width: PropTypes.number,\n  height: PropTypes.number,\n}\n\nexport default memo(VideoThumbnail)\n","import {useContext} from 'react'\n\nimport {Context} from 'player/store'\n\nconst useThumbnail = time => {\n  const {state} = useContext(Context.API)\n  const thumbnailSeekings = state.thumbnailSeekings || []\n\n  return (\n    thumbnailSeekings.find(t => t.startTime <= time && time <= t.endTime) ||\n    thumbnailSeekings.slice(-1)[0] ||\n    ''\n  )\n}\n\nexport default useThumbnail\n","/* eslint-disable indent */\n/* @jsxImportSource @emotion/react */\nimport {ClassNames} from '@emotion/react'\nimport {useReducer, useContext, useRef} from 'react'\nimport PropTypes from 'prop-types'\n\nimport SimpleSlider from 'component/SimpleSlider'\nimport VideoThumbnail from 'component/VideoThumbnail'\nimport {useOptions} from 'player/playerContext'\nimport {Context} from 'player/store/index'\nimport useThumbnail from 'player/store/useThumbnail'\nimport Action from 'player/store/action/Player'\nimport operator from 'player/store/operator'\nimport formattedTime from 'util/formattedTime'\nimport {havePointerQuery} from 'util/environment'\n\nconst seekbarStyle = {\n  position: 'relative',\n  display: 'flex',\n  alignItems: 'center',\n  width: '100%',\n  height: '24px',\n  fontSize: '75%',\n  letterSpacing: '1px',\n  color: '#fff',\n}\n\nconst sliderStyle = {\n  flex: 1,\n  margin: '0 1em',\n  [`@media ${havePointerQuery}`]: {\n    '> div:last-of-type': {\n      opacity: 0,\n      transition: 'opacity 0.2s ease-out',\n    },\n  },\n  '&:hover > div:last-of-type': {\n    opacity: 1,\n  },\n}\n\nconst thumbnailStyle = {\n  left: '0',\n  bottom: '28px',\n}\n\nconst getSliderStyle = css => ({\n  rail: css({height: '0.33em'}),\n  marked: css({height: '0.33em'}),\n  thumb: css({width: '1.33em', height: '1.33em'}),\n})\n\nconst getThumbailOffset = (container, pointerX, {width} = {}) => {\n  const leftOffset = container?.offsetLeft || 0\n  const rightOffset = leftOffset + container?.offsetWidth - width\n  return Math.max(\n    -leftOffset,\n    Math.min(pointerX - leftOffset - width / 2, rightOffset)\n  )\n}\n\nconst reducePointer = (state, {type, value, x}) => {\n  switch (type) {\n    case 'move':\n      return {...state, hover: true, value, x}\n    case 'change':\n      return {...state, focused: true, value}\n    case 'release':\n      return {...state, focused: false, value}\n    case 'leave':\n      return {...state, hover: false}\n  }\n}\n\nconst Seekbar = ({style, classes}) => {\n  const {thumbnailSeeking} = useOptions()\n  const {\n    state: {progressTime, seekTime, bufferTime, duration},\n    dispatch,\n  } = useContext(Context.PlayerProgress)\n  const {isSettingsOpen, streamEvents = []} = useContext(Context.UI).state\n  const [pointerState, dispatchPointer] = useReducer(reducePointer, {})\n  const containerRef = useRef()\n  const currentTime = seekTime >= 0 ? seekTime : progressTime\n  const pointerActive = pointerState.hover || pointerState.focused\n  const displayTime = pointerActive ? pointerState.value : currentTime\n  const thumbnail = useThumbnail(pointerState.value)\n  const displayThumbnail = !isSettingsOpen && thumbnailSeeking && pointerActive\n\n  return (\n    <div\n      className=\"kks-player__seek-bar\"\n      css={[seekbarStyle, style]}\n      ref={containerRef}\n    >\n      {formattedTime(displayTime)}\n      <ClassNames>\n        {({css}) => (\n          <SimpleSlider\n            css={sliderStyle}\n            classes={{\n              track: css({backgroundColor: 'red'}),\n              ...getSliderStyle(css),\n              ...classes,\n            }}\n            secondaryTrackValue={progressTime + bufferTime}\n            value={currentTime}\n            max={duration}\n            marks={streamEvents.map(event => event.start)}\n            onPointerMove={(_, {value, x}) =>\n              dispatchPointer({type: 'move', value, x})\n            }\n            onPointerLeave={() => dispatchPointer({type: 'leave'})}\n            onChange={(_, {value}) => {\n              dispatch(Action.pause())\n              dispatchPointer({type: 'change', value})\n            }}\n            //play will be triggered in operator.seek\n            onChangeCommitted={(_, {value}) => {\n              dispatchPointer({type: 'release', value})\n              dispatch(operator.seek(value))\n            }}\n          />\n        )}\n      </ClassNames>\n      {formattedTime(duration)}\n      {displayThumbnail && (\n        <VideoThumbnail\n          css={thumbnailStyle}\n          style={{\n            transform: `translateX(${getThumbailOffset(\n              containerRef.current,\n              pointerState.x,\n              thumbnail?.position\n            )}px)`,\n          }}\n          time={pointerState.value}\n          image={thumbnail.image}\n          {...thumbnail.position}\n        />\n      )}\n    </div>\n  )\n}\n\nSeekbar.propTypes = {\n  style: PropTypes.object,\n  classes: PropTypes.object,\n  thumbnailSeeking: PropTypes.bool,\n}\n\nexport default Seekbar\n","/* @jsxImportSource @emotion/react */\nimport {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport {Context} from 'player/store'\n\nimport {getLiveTime} from 'util/index'\nimport formattedTime from 'util/formattedTime'\n\nconst _css = {\n  display: 'flex',\n  alignItems: 'center',\n  width: '100%',\n  fontSize: '0.75em',\n  letterSpacing: '1px',\n  color: '#fff',\n}\n\nconst sliderStyle = {\n  flex: 1,\n  margin: '0 0.5em',\n  height: '0.25em',\n  backgroundColor: 'red',\n}\n\nconst LiveSeekbar = ({style}) => {\n  useContext(Context.PlayerProgress)\n  const {\n    state: {content},\n  } = useContext(Context.API)\n  const {duration, currentTime} = getLiveTime(content || {})\n  // TODO: share these with sender\n\n  return (\n    <div className=\"kks-player__seek-bar\" css={[_css, style]}>\n      {currentTime > 0 && (\n        <>\n          {formattedTime(currentTime)}\n          <div\n            className=\"kks-player__slider\"\n            css={[sliderStyle, style?.slider]}\n          />\n          {formattedTime(duration)}\n        </>\n      )}\n    </div>\n  )\n}\nLiveSeekbar.propTypes = {\n  style: PropTypes.object,\n}\n\nexport default LiveSeekbar\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {PlayerState} from 'Enum'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport icon from 'style/icon'\nimport {Context} from 'player/store/index'\nimport Action from 'player/store/action/Player'\nimport IconButton from './IconButton'\n\nconst RewindButton = ({style}) => {\n  const {\n    state: {progressTime, seekTime},\n    dispatch,\n  } = useContext(Context.PlayerProgress)\n  const {state} = useContext(Context.PlayerState)\n\n  return (\n    state !== PlayerState.ENDED && (\n      <Tooltip title={<Message code=\"KKS.PLAYER.REWIND\" />} bottom=\"48px\">\n        <IconButton\n          style={style}\n          name=\"kks-player__rewind-button\"\n          src={icon.rewind10}\n          onClick={() =>\n            dispatch(\n              Action.seek(\n                (seekTime !== undefined ? seekTime : progressTime) - 10\n              )\n            )\n          }\n        />\n      </Tooltip>\n    )\n  )\n}\n\nRewindButton.propTypes = {\n  style: PropTypes.object,\n}\n\nexport default RewindButton\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {PlayerState} from 'Enum'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport icon from 'style/icon'\nimport {Context} from 'player/store/index'\nimport Action from 'player/store/action/Player'\nimport IconButton from './IconButton'\n\nconst ForwardButton = ({style}) => {\n  const {\n    state: {progressTime, seekTime},\n    dispatch,\n  } = useContext(Context.PlayerProgress)\n  const {state} = useContext(Context.PlayerState)\n\n  return (\n    state !== PlayerState.ENDED && (\n      <Tooltip title={<Message code=\"KKS.PLAYER.FORWARD\" />} bottom=\"48px\">\n        <IconButton\n          style={style}\n          name=\"kks-player__forward-button\"\n          src={icon.forward10}\n          onClick={() =>\n            dispatch(\n              Action.seek(\n                (seekTime !== undefined ? seekTime : progressTime) + 10\n              )\n            )\n          }\n        />\n      </Tooltip>\n    )\n  )\n}\n\nForwardButton.propTypes = {\n  style: PropTypes.object,\n}\n\nexport default ForwardButton\n","/* eslint-disable indent */\n/* @jsxImportSource @emotion/react */\nimport icon from 'style/icon'\nimport Tooltip from 'component/Tooltip'\nimport Message from 'context/I18n/Message'\nimport SimpleSlider from 'component/SimpleSlider'\nimport Icon from './Icon'\nimport Button from './Button/SquareButton'\n\nconst style = {\n  display: 'inline-flex',\n  alignItems: 'center',\n}\n\n/* eslint-disable react/prop-types */\nconst VolumeControl = ({\n  useVolumeState,\n  displaySlider = false,\n  max = 1,\n  TooltipComponent = Tooltip,\n  /* eslint-disable react/prop-types */\n}) => {\n  const {volume, muted, changeVolume, toggleMuted} = useVolumeState()\n  const iconName =\n    muted || volume === 0\n      ? icon.mute\n      : volume < max / 2\n      ? icon.volumeLow\n      : icon.volumeHight\n\n  return (\n    <div className=\"kks-player__volume\" css={style}>\n      <TooltipComponent\n        title={\n          <Message code={muted ? 'KKS.PLAYER.UNMUTE' : 'KKS.PLAYER.MUTE'} />\n        }\n        bottom=\"48px\"\n      >\n        <Button\n          name=\"kks-player__volume-button\"\n          tooltip={muted ? 'KKS.PLAYER.UNMUTE' : 'KKS.PLAYER.MUTE'}\n          onClick={toggleMuted}\n        >\n          <Icon src={iconName} />\n        </Button>\n      </TooltipComponent>\n      {displaySlider && (\n        <SimpleSlider\n          css={{\n            marginLeft: '0.8rem',\n            width: '4em',\n          }}\n          value={muted ? 0 : volume}\n          max={max}\n          onChange={(_, {value}) => changeVolume(value)}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default VolumeControl\n","import {useContext} from 'react'\n\nimport {Context} from 'player/store/index'\nimport PlayerAction from 'player/store/action/Player'\n\nconst usePlayerVolume = () => {\n  const {\n    state: {volume, muted},\n    dispatch,\n  } = useContext(Context.PlayerVolume)\n\n  return {\n    volume,\n    muted,\n    //TODO: also unmute\n    changeVolume: value => dispatch(PlayerAction.setVolume(value)),\n    toggleMuted: () =>\n      dispatch(muted ? PlayerAction.unmute() : PlayerAction.mute()),\n  }\n}\n\nexport default usePlayerVolume\n","import BaseVolumeControl from 'component/VolumeControl'\nimport usePlayerVolume from 'player/store/usePlayerVolume'\nimport ControlsTooltip from './ControlsTooltip'\n\nconst VolumeControl = props => (\n  <BaseVolumeControl\n    max={100}\n    TooltipComponent={ControlsTooltip}\n    useVolumeState={usePlayerVolume}\n    {...props}\n  />\n)\n\nexport default VolumeControl\n","import {type as PlayerType} from 'player/store/action/Player'\nimport {type as UIType} from 'player/store/action/UI'\n\nconst logger = store => next => action => {\n  const flag =\n    action.type !== PlayerType.UPDATE_CURRENT_TIME &&\n    action.type !== PlayerType.UPDATE_BUFFER_TIME &&\n    action.type !== UIType.SHOW_THUMBNAIL &&\n    action.type !== UIType.FOCUS_SEEK_BAR\n  // eslint-disable-next-line no-undef\n  if (process.env.NODE_ENV === 'development') {\n    flag && console.debug(action.type)\n    flag && console.debug('dispatching', action)\n  }\n  let result = next(action)\n  // eslint-disable-next-line no-undef\n  if (process.env.NODE_ENV === 'development') {\n    flag && console.debug('next state', store.getState())\n    flag && console.groupEnd()\n  }\n  return result\n}\n\nexport default logger\n","const thunk = store => next => action => {\n  return typeof action === 'function' ? action(store) : next(action)\n}\n\nexport default thunk\n","const createGate = check => store => next => action => {\n  return check(store.getState(), action) ? next(action) : null\n}\n\nexport default createGate\n","import _get from 'dlv'\nimport {type} from '../action/API'\nimport {APIState, ItemType} from 'Enum'\n\nexport const initState = {\n  apiState: APIState.DISABLE,\n  customHeader: null,\n  drm: null,\n  playbackToken: null,\n  manifests: null,\n  content: null,\n  contentChangedTimes: 0,\n  thumbnailSeekings: null,\n  playback: {\n    internalSync: false,\n    heartbeat: true,\n    updateTime: 0,\n  },\n}\nconst convertDRMToNameMap = drm => {\n  return {\n    playready: drm.drm__playready.url,\n    widevine: drm.drm__widevine.url,\n    fairplay: drm.drm__fairplay.url,\n  }\n}\nconst convertManifestToNameMap = manifests => {\n  const placeholder = {\n    dash: {},\n    hls: {},\n  }\n  return manifests.reduce((res, item) => {\n    res[item.protocol] = item\n    return res\n  }, placeholder)\n}\n\nexport default (state = initState, action) => {\n  switch (action.type) {\n    case type.DISABLE:\n      return initState\n    case type.ENABLE:\n      return {\n        ...initState,\n        apiState: APIState.ENABLE,\n        content: action.content,\n        customHeader: action.customHeader,\n        contentChangedTimes: state.contentChangedTimes,\n      }\n    case type.CLEAN:\n      return {\n        ...state,\n        content: {\n          ...state.content,\n        },\n        playback: {\n          ...initState.playback,\n        },\n      }\n    case type.PREPARE_PLAYBACK:\n      return {\n        ...state,\n        apiState: APIState.LOADING,\n      }\n    case type.SET_PLAYBACK:\n      return (playbackInfo => ({\n        ...state,\n        drm: convertDRMToNameMap(playbackInfo.drm),\n        playbackToken: playbackInfo.playbackToken,\n        playingSourceType: playbackInfo.playingSourceType,\n        availableSources: playbackInfo.availableSources,\n        manifests: convertManifestToNameMap(playbackInfo.manifests),\n        content: {\n          ...state.content,\n          ...playbackInfo,\n        },\n        thumbnailSeekings: [],\n        playback: {\n          heartbeat: true,\n          internalSync: ItemType.LIVES === state.content.contentType,\n          updateTime: _get(playbackInfo, 'time.last_played') || 0,\n        },\n      }))(action.playbackInfo)\n    case type.CONTENT_CHANGE:\n      return {...state, contentChangedTimes: state.contentChangedTimes + 1}\n    case type.SET_THUMBNAILS:\n      return {\n        ...state,\n        thumbnailSeekings: action.thumbnails,\n      }\n    case type.SET_CONTENT:\n      return {\n        ...state,\n        content: {\n          ...state.content,\n          ...action.content,\n        },\n      }\n    case type.READY:\n      return {\n        ...state,\n        apiState: APIState.READY,\n      }\n    case type.REFRESH_PLAYBACK_TOKEN:\n      return action.sessionData\n        ? {\n            ...state,\n            playbackToken: action.sessionData,\n          }\n        : state\n    case type.UPDATE_LAST_PLAYED_TIME:\n      return {\n        ...state,\n        playback: {\n          ...state.playback,\n          updateTime: action.time,\n        },\n      }\n    default:\n      return state\n  }\n}\n","import {type} from '../action/Player'\nimport {type as uiType} from 'player/store/action/UI'\nimport {PlayerState, PlayerViewMode} from 'Enum'\nimport {scope} from 'util/index'\n\nexport const initState = {\n  playerState: PlayerState.UNMOUNTED,\n  progress: {\n    progressTime: 0,\n    duration: 0,\n    bufferTime: 0,\n  },\n  volume: {\n    volume: 100,\n    muted: false,\n  },\n  viewMode: PlayerViewMode.INLINE,\n  streamType: null,\n  source: null,\n  userAction: 'pause',\n  isPlaying: false,\n  seeking: false,\n  ended: false,\n  playingQuality: null,\n}\nconst mergePlayerState = (state, playerState, other) => ({\n  ...state,\n  playerState,\n  ...other,\n})\nconst mergeProgress = (state, progress, other) => ({\n  ...state,\n  progress: {\n    ...state.progress,\n    ...progress,\n  },\n  ...other,\n})\nconst mergeVolume = (state, volume, other) => ({\n  ...state,\n  volume: {\n    ...state.volume,\n    ...volume,\n  },\n  ...other,\n})\nconst mergeViewMode = (state, viewMode, other) => ({\n  ...state,\n  viewMode,\n  ...other,\n})\n\nexport default (state = initState, action) => {\n  switch (action.type) {\n    case type.MOUNT:\n      return mergePlayerState(initState, PlayerState.MOUNTING)\n    case type.MOUNTED:\n      return mergePlayerState(state, PlayerState.MOUNTED)\n    case type.UNLOAD:\n      return mergePlayerState(state, PlayerState.LOADING, {\n        ended: false,\n        progress: initState.progress,\n      })\n    case type.UNLOADED:\n      return mergePlayerState(state, PlayerState.MOUNTED, {source: null})\n    case type.READY:\n      if (state.playerState === PlayerState.PLAYING) return state\n      return mergePlayerState(state, PlayerState.READY)\n    case type.SET_STATE:\n      return {...state, ...action.state}\n    case type.PLAY:\n      return state.isPlaying\n        ? state\n        : {\n            ...state,\n            ...(state.ended && {\n              progress: {...state.progress, progressTime: 0},\n              ended: false,\n            }),\n            userAction: 'play',\n            playerState: PlayerState.STALLING,\n          }\n    case type.PAUSE:\n      return {\n        ...state,\n        userAction: 'pause',\n      }\n    case type.PAUSED:\n      return {\n        ...state,\n        ...(state.playerState !== PlayerState.STALLING && {\n          playerState: PlayerState.PAUSED,\n        }),\n        isPlaying: false,\n      }\n    case type.ENDED:\n      return mergePlayerState(state, PlayerState.ENDED, {\n        isPlaying: false,\n        ended: true,\n      })\n    case type.SEEK:\n      return mergeProgress(\n        state,\n        {seekTime: scope(0, action.time, state.progress.duration)},\n        {playerState: PlayerState.STALLING, seeking: true}\n      )\n    case type.SEEKED:\n      return mergeProgress(\n        state,\n        {seekTime: undefined, progressTime: action.time},\n        {\n          ...(state.userAction === 'pause' && {\n            playerState: PlayerState.PAUSED,\n          }),\n          seeking: false,\n        }\n      )\n    case type.UPDATE_CURRENT_TIME:\n      return mergeProgress(\n        state,\n        {\n          seekTime: undefined,\n          progressTime: action.time,\n          adRemainingTime: action.adRemainingTime,\n        },\n        {\n          playerState: PlayerState.PLAYING,\n          userAction: 'play',\n          isPlaying: true,\n          seeking: false,\n        }\n      )\n    case uiType.VISIBILITY_CHANGE:\n      return mergePlayerState(state, PlayerState.STALLING)\n    case type.UPDATE_BUFFER_TIME:\n      return mergeProgress(state, {bufferTime: action.time})\n    case type.UPDATE_VOLUME:\n      return mergeVolume(state, {volume: action.volume})\n    case type.MUTED:\n      return mergeVolume(state, {muted: true})\n    case type.UNMUTED:\n      return mergeVolume(state, {muted: false})\n    case type.UPDATE_VIEW_MODE:\n      return mergeViewMode(state, action.mode)\n    case type.STALLING:\n      return mergePlayerState(state, PlayerState.STALLING)\n    case type.STALLED:\n      return mergePlayerState(\n        state,\n        state.isPlaying ? PlayerState.PLAYING : PlayerState.PAUSED\n      )\n    default:\n      return state\n  }\n}\n","import {type as APIType} from 'player/store/action/API'\nimport {type as playerType} from 'player/store/action/Player'\nimport {type} from 'player/store/action/UI'\n\nexport const initState = {\n  qualityItems: [],\n  selectedQualityName: undefined,\n  qualityPrecedence: 'application',\n  mediaSources: [],\n  selectedMediaSource: null,\n  mediaSourcePrecedence: 'application',\n  seekbarFocused: false,\n  seeking: false,\n  seekTime: 0,\n  isSettingsOpen: false,\n  thumbnailSeeking: true,\n  recommendationPanel: {\n    enabled: false,\n    opening: false,\n  },\n  autoPlayByUI: false,\n  autoplayDialogOpening: false,\n  hadShownEndRoll: false,\n  ad: {},\n  subtitlesContent: {},\n  error: null,\n}\n\nconst getAdStatus = action => {\n  const {adPosition, totalAds, clickThroughUrl} = action.adProgressData\n\n  return {\n    position: adPosition,\n    total: totalAds,\n    skipTimeOffset: action.skipTimeOffset,\n    clickThroughUrl,\n  }\n}\n\nexport default (state = initState, action) => {\n  switch (action.type) {\n    case type.SELECT_QUALITY:\n      return {\n        ...state,\n        qualityPrecedence: 'user',\n        selectedQualityName: action.to,\n      }\n    case type.SET_QUALITY_ITEMS:\n      return {\n        ...state,\n        qualityItems: action.items,\n      }\n    case type.SELECT_MEDIA_SOURCE:\n      return {\n        ...state,\n        mediaSourcePrecedence: 'user',\n        selectedMediaSource: action.mediaSource,\n      }\n    case type.SET_MEDIA_SOURCES:\n      return {\n        ...state,\n        mediaSources: action.items,\n      }\n    case type.CHANGE_THUMBNAIL_SEEKING:\n      return {\n        ...state,\n        thumbnailSeeking: action.enabled,\n      }\n    case type.CHANGE_RECOMMENDATION_PANEL:\n      return {\n        ...state,\n        recommendationPanel: {\n          enabled: action.enabled,\n          opening: action.enabled && state.recommendationPanel.opening,\n        },\n        activePanel:\n          action.enabled && state.recommendationPanel.opening\n            ? 'recommendation'\n            : undefined,\n      }\n    case type.TOGGLE_RECOMMENDATION_PANEL:\n      return {\n        ...state,\n        ...(state.recommendationPanel.enabled && {\n          recommendationPanel: {\n            ...state.recommendationPanel,\n            opening: !state.recommendationPanel.opening,\n          },\n          activePanel: state.recommendationPanel.opening\n            ? undefined\n            : 'recommendation',\n        }),\n      }\n    case type.OPEN_PANEL:\n      return {\n        ...state,\n        activePanel: action.panel,\n      }\n    case type.HIDE_PANEL:\n      return {\n        ...state,\n        activePanel: undefined,\n      }\n    case type.OFFER_AUTOPLAY:\n      return {\n        ...state,\n        isSettingsOpen: false,\n        autoplayDialogOpening: true,\n        activePanel: undefined,\n        recommendationPanel: {\n          ...state.recommendationPanel,\n          opening: false,\n        },\n        hadShownEndRoll: true,\n      }\n    case type.RESET_END_ROLL:\n      return {\n        ...state,\n        hadShownEndRoll: false,\n      }\n    case type.DISMISS_AUTOPLAY:\n      return {\n        ...state,\n        autoplayDialogOpening: false,\n        openRecommendationAfterEnd: false,\n        ...(state.openRecommendationAfterEnd &&\n          state.recommendationPanel.enabled && {\n            activePanel: 'recommendation',\n            recommendationPanel: {enabled: true, opening: true},\n          }),\n      }\n    case type.SHOW_MENU:\n      return {\n        ...state,\n        isSettingsOpen: true,\n      }\n    case type.CHANGE_SETTINGS:\n      return {\n        ...state,\n        isSettingsOpen: false,\n      }\n    case type.HIDE_MENU:\n      return {\n        ...state,\n        isSettingsOpen: false,\n      }\n    case type.SET_AUTO_PLAY:\n      return {\n        ...state,\n        autoPlayByUI: action.autoPlay,\n      }\n    case type.ERROR:\n      return {\n        ...state,\n        isSettingsOpen: false,\n        error: action.error,\n      }\n    case type.FOCUS_SEEK_BAR:\n      return {\n        ...state,\n        seekbarFocused: true,\n        seekTime: action.seekTime,\n      }\n    case type.DRAG:\n    case type.DRAG_SEEK_BAR:\n      return {\n        ...state,\n        seeking: true,\n      }\n    case type.DROP:\n    case type.DROP_SEEK_BAR:\n      return {\n        ...state,\n        seeking: false,\n      }\n    case type.LEAVE_SEEK_BAR:\n      return {\n        ...state,\n        seekbarFocused: false,\n      }\n    case type.CHANGE_NEXT_EPISODE:\n      return {\n        ...state,\n        openRecommendationAfterEnd: false,\n        autoplayDialogOpening: false,\n      }\n    case APIType.CONTENT_CHANGE:\n      return {\n        ...state,\n        ad: {},\n        streamEvents: [],\n        openRecommendationAfterEnd: false,\n        activePanel: undefined,\n        recommendationPanel: {...state.recommendationPanel, opening: false},\n      }\n    case playerType.ENDED:\n      return {\n        ...state,\n        openRecommendationAfterEnd: true,\n        ...(!state.autoplayDialogOpening &&\n          state.recommendationPanel.enabled && {\n            activePanel: 'recommendation',\n            recommendationPanel: {enabled: true, opening: true},\n          }),\n      }\n    case type.STREAM_EVENTS_CHANGED:\n      return {\n        ...state,\n        streamEvents: action.streamEvents,\n      }\n    case type.AD_BREAK_STARTED:\n      return {\n        ...state,\n        ad: getAdStatus(action),\n      }\n    case type.AD_BREAK_ENDED:\n      return {\n        ...state,\n        ad: {\n          total: 0,\n        },\n      }\n    case type.UPDATE_SUBTITLES_CONTENT:\n      return {\n        ...state,\n        subtitlesContent: action.content,\n      }\n    default:\n      return state\n  }\n}\n","import {type} from '../middleware/localStorage'\nimport {StorageKey} from 'Enum'\n\nconst initState = {\n  [StorageKey.VOLUME]: {\n    volume: 100,\n    muted: false,\n  },\n}\n\nexport default (state = initState, action) => {\n  switch (action.type) {\n    case type.LOAD:\n      return {...state, [action.key]: action.value}\n    case type.SAVE:\n      return {...state, [action.key]: action.value}\n  }\n  return state\n}\n","import API from './API'\nimport Player from './Player'\nimport UI from './UI'\nimport LocalStorage from './LocalStorage'\nimport {combineReducer} from 'util/index'\nimport {type} from '../action'\nimport {ModuleState, CastState} from 'Enum'\n\nexport const initState = {\n  state: ModuleState.UNINITIALIZATION,\n  castState: CastState.NOT_CONNECTED,\n  error: [],\n}\n\nconst Module = (state = initState, action) => {\n  switch (action.type) {\n    case type.INITIALIZE:\n      return {...state, state: ModuleState.INITIALIZING}\n    case type.INITIALIZED:\n      return {...state, state: ModuleState.INITIALIZED}\n    case type.LOAD_CONTENT:\n      return {...state, state: ModuleState.LOADING}\n    case type.READY_TO_PLAY:\n      return {...state, state: ModuleState.READY}\n    case type.CAST_STATE_CHAGNE:\n      return {...state, castState: action.castState}\n    case type.ERROR:\n      return {state: ModuleState.ERROR, error: state.error.concat(action)}\n    default:\n      return state\n  }\n}\n\nexport default combineReducer({\n  Module,\n  LocalStorage,\n  API,\n  Player,\n  UI,\n})\n","import create from 'zustand/vanilla'\nimport createHook from 'zustand'\nimport {redux, devtools} from 'zustand/middleware'\n\nimport {ModuleState} from 'Enum'\nimport logger from './middleware/logger'\nimport thunk from './middleware/thunk'\nimport createGate from './middleware/createGate'\nimport localStorage from './middleware/localStorage'\nimport {type} from './action/index'\nimport {type as APIType} from './action/API'\nimport {type as PlayerType} from './action/Player'\nimport reducer from './reducer'\nimport operator from './operator'\n\nexport default () => {\n  let state = reducer({}, {type: 'DEFAULT_VALUE'})\n  let changeListeners = []\n  let dispatchListeners = []\n  const store = {}\n  const errorGate = createGate(\n    (state, action) =>\n      state.Module.state !== ModuleState.ERROR ||\n      action === operator.error ||\n      action.type === APIType.CLEAN ||\n      action.type === PlayerType.UNLOAD ||\n      action.type === PlayerType.UNLOADED ||\n      action.type === PlayerType.LEAVE_FULL_SCREEN ||\n      action.type === type.BACK\n  )\n  const middlewares = [localStorage, errorGate, thunk, logger]\n\n  const applyMiddlewares = middlewares\n    .map(middleware => middleware(store))\n    .concat(action => action)\n    .reduceRight((a, b) => b(a))\n  const createRegister = listeners => callback => {\n    listeners.push(callback)\n    return () => {\n      const index = listeners.indexOf(callback)\n      if (index >= 0) listeners.splice(index, 1)\n    }\n  }\n  const zustand = create(\n    devtools(redux(reducer, reducer({}, {type: 'DEFAULT_VALUE'})))\n  )\n\n  return Object.assign(store, {\n    zustand,\n    useStore: createHook(zustand),\n    dispatch: action => {\n      const oldState = state\n      const finalAction = applyMiddlewares(action) || action\n      state = reducer(state, finalAction)\n      dispatchListeners\n        .slice()\n        .forEach(callback => callback(store, finalAction))\n      if (state !== oldState) {\n        changeListeners.slice().forEach(callback => callback(store, action))\n      }\n      zustand.getState().dispatch(finalAction)\n\n      return state\n    },\n    getState: () => state,\n    addChangedListener: createRegister(changeListeners),\n    addDispatchedListener: createRegister(dispatchListeners),\n  })\n}\n","import {useState, useEffect, useContext, useRef} from 'react'\nimport {Context} from 'player/store/index'\nimport createStore from 'player/store/createStore'\n\nimport {isDesktop} from 'util/environment'\nimport PlayerAction from 'player/store/action/Player'\nimport UIAction from 'player/store/action/UI'\n\nexport const useMenu = () => {\n  const {dispatch} = useContext(Context.UI)\n  const show = () => {\n    if (!isDesktop()) {\n      dispatch(PlayerAction.pause())\n    }\n    dispatch(UIAction.showMenu())\n  }\n  return [show]\n}\n\nexport const useStore = (initState, reducer, middlewares) => {\n  const [store] = useState(() => createStore(initState, reducer, middlewares))\n  return store\n}\n\nconst useVisibilityState = () => {\n  const visibility = useRef({})\n\n  useEffect(() => {\n    document.addEventListener('visibilitychange', () => {\n      visibility.current.lastUpdate = Date.now()\n    })\n  }, [])\n\n  return {\n    isVisibilityChangedRecently: (inSeconds = 10000) =>\n      Date.now() - visibility.current.lastUpdate < inSeconds,\n  }\n}\n\nexport {useVisibilityState}\n","/* eslint-disable indent */\nimport {useContext} from 'react'\n\nimport {getTargetQuality} from '../playerCore/adaptation'\nimport {usePlayer} from './playerContext'\nimport {Context} from './store'\nimport operator from './store/operator'\n\nconst shouldShowVersions = mediaSources =>\n  mediaSources.length > 1 || mediaSources[0]\nconst shouldShowQuality = qualities => qualities.length > 1 || qualities[0]\n\nconst shouldShowSubtitles = subtitlesMenu =>\n  subtitlesMenu.length > 0 || subtitlesMenu[0]\n\nconst shouldShowAudio = audioMenu => audioMenu.length > 1 || audioMenu[0]\n\nconst defaultQualityName = (items, quality = '') => {\n  const valueMatch = items.find(\n    it => it.value === quality || it.value === quality.default\n  )\n  if (valueMatch) {\n    return valueMatch\n  }\n  const targetHeight = getTargetQuality(\n    items.map(it => it.height),\n    parseInt(quality.default || quality, 10)\n  )\n  return items.find(it => it.height === targetHeight)?.value\n}\n\nconst speedItems = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2].map(value => ({\n  label: `${value}x`,\n  value,\n}))\n\nconst getSettingSections = ({\n  contentType,\n  mediaSources = [],\n  playingSourceType,\n  qualityItems = [],\n  selectedQualityName,\n  subtitleItems = [],\n  selectedSubtitleName,\n  audioItems = [],\n  selectedAudioName,\n  playbackRate,\n}) =>\n  [\n    shouldShowVersions(mediaSources) && {\n      section: 'mediaSource',\n      title: 'KKS.SETTING.VERSION',\n      selectedValue: playingSourceType,\n      items: mediaSources.map(value => ({value})),\n    },\n    shouldShowQuality(qualityItems) && {\n      section: 'quality',\n      title: 'KKS.QUALITY',\n      selectedValue: selectedQualityName,\n      items: qualityItems,\n    },\n    shouldShowSubtitles(subtitleItems) && {\n      section: 'subtitles',\n      title: 'KKS.SUBTITLES',\n      selectedValue: selectedSubtitleName,\n      items: [...subtitleItems, {label: 'OFF', value: 'off'}],\n    },\n    shouldShowAudio(audioItems) && {\n      section: 'audio',\n      title: 'KKS.AUDIO',\n      selectedValue: selectedAudioName,\n      items: audioItems,\n    },\n    contentType !== 'lives' && {\n      section: 'speed',\n      title: 'KKS.SETTING.SPEED',\n      selectedValue: playbackRate,\n      items: speedItems,\n    },\n  ].filter(Boolean)\n\nconst useSettings = () => {\n  const {options} = useContext(Context.Module)\n  const {content, playingSourceType} = useContext(Context.API).state\n  const {qualityItems, mediaSources} = useContext(Context.UI).state\n  const allQualities =\n    options.quality?.getQualityOptions?.(qualityItems) || qualityItems\n  const defaultQuality =\n    useContext(Context.UI).state.selectedQualityName ||\n    defaultQualityName(allQualities, options.quality)\n  const selectedQualityName = (\n    allQualities.find(item => item.value === defaultQuality) ||\n    allQualities[0] ||\n    {}\n  )?.value\n  const player = usePlayer()\n  const subtitleItems = player?.subtitles\n    ?.list()\n    // For missing tag CLOSED-CAPTIONS=NONE in .m3u8\n    .filter(track => track.lang !== 'unknown')\n    .map(track => ({label: track.label, value: track.lang}))\n  let selectedSubtitleName = player?.subtitles\n    ?.list()\n    .find(track => track.enabled === true)?.lang\n  if (!selectedSubtitleName) selectedSubtitleName = 'off'\n\n  const audioItems = player\n    ?.getAvailableAudio()\n    .filter(track => track.lang && track.lang !== 'und')\n    .map(track => ({label: track.label, value: track.lang}))\n\n  return getSettingSections({\n    contentType: content?.contentType,\n    mediaSources,\n    playingSourceType,\n    qualityItems: allQualities,\n    selectedQualityName,\n    subtitleItems,\n    selectedSubtitleName,\n    audioItems,\n    selectedAudioName: player?.getAudio()?.lang,\n    playbackRate: player?.getPlaybackSpeed(),\n  })\n}\n\nconst useChangeSettings = () => {\n  const {dispatch} = useContext(Context.Module)\n  const player = usePlayer()\n\n  return ({section, value}) => {\n    if (section === 'mediaSource' || !player.hasEnded()) {\n      player.play()\n    }\n    if (section === 'quality') {\n      dispatch(operator.changeQuality(value))\n    }\n    if (section === 'mediaSource') {\n      dispatch(operator.changeMediaSource(value))\n    }\n    if (section === 'speed') {\n      player.setPlaybackSpeed(value)\n    }\n    if (section === 'subtitles') {\n      const subtitles = player.subtitles\n      subtitles.list().forEach(track => {\n        const setter =\n          value !== track.lang ? subtitles.disable : subtitles.enable\n        setter(track.id)\n\n        // Safari need to fire cueExit manually.\n        if (value === 'off') subtitles.cueExit()\n      })\n    }\n    if (section === 'audio') {\n      const {id} = player\n        .getAvailableAudio()\n        .find(track => track.lang === value)\n      player.setAudio(id)\n    }\n  }\n}\n\nexport {useChangeSettings, useSettings, getSettingSections}\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport icon from 'style/icon'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport {Context} from 'player/store/index'\nimport IconButton from './IconButton'\nimport {useMenu} from 'player/Hooks'\n\nimport {getSettingSections} from 'player/settings'\n\nconst SettingButton = ({style}) => {\n  const {\n    state: {content},\n  } = useContext(Context.API)\n  const {qualityItems, mediaSources} = useContext(Context.UI).state\n  const [showMenu] = useMenu()\n  const haveSettings =\n    getSettingSections({\n      contentType: content?.contentType,\n      mediaSources,\n      qualityItems,\n    }).length > 0\n\n  return (\n    haveSettings && (\n      <Tooltip title={<Message code=\"KKS.SETTING\" />} bottom=\"48px\">\n        <IconButton\n          style={style}\n          name=\"kks-player__setting-button\"\n          src={icon.setting}\n          onClick={event => showMenu(event)}\n        />\n      </Tooltip>\n    )\n  )\n}\n\nSettingButton.propTypes = {\n  style: PropTypes.object,\n}\n\nexport default SettingButton\n","/* @jsxImportSource @emotion/react */\nimport {keyframes} from '@emotion/react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\n\nimport {CastState} from 'Enum'\nimport icon from 'style/icon'\n\nconst connectingAnimation = keyframes`\n  0% {\n    background-image: url(\"${icon.castConntecting0}\");\n  }\n  33% {\n    background-image: url(\"${icon.castConntecting1}\");\n  }\n  66% {\n    background-image: url(\"${icon.castConntecting2}\");\n  }\n  100% {\n    background-image: url(\"${icon.castConntecting0}\");\n  }\n`\n\nconst styles = {\n  button: {\n    display: 'none',\n    '&:empty': {\n      padding: 0,\n      flexShrink: 0,\n      border: 'none',\n      outline: 'none',\n      backgroundColor: 'transparent',\n      cursor: 'pointer',\n      '&:after': {\n        content: '\"\"',\n        display: 'block',\n        width: '100%',\n        height: '100%',\n        backgroundSize: 'cover',\n        opacity: '.8',\n        filter: 'invert(100%)',\n      },\n    },\n  },\n  [CastState.NOT_CONNECTED]: {\n    display: 'inline-flex',\n    '&:empty::after': {\n      backgroundImage: `url(\"${icon.castNotConnected}\")`,\n    },\n  },\n  [CastState.CONNECTING]: {\n    display: 'inline-flex',\n    '&:empty::after': {\n      animation: `${connectingAnimation} 3s infinite`,\n    },\n  },\n  [CastState.CONNECTED]: {\n    display: 'inline-flex',\n    '&:empty::after': {\n      backgroundImage: `url(\"${icon.castConnected}\")`,\n    },\n  },\n}\n\nconst CastButton = ({castState, children, style, ...props}) => (\n  <button\n    className={classnames(\n      'kks-player__castbtn',\n      castState && `kks-player__castbtn--${castState.toLocaleLowerCase()}`\n    )}\n    css={[styles.button, styles[castState], style]}\n    {...props}\n  >\n    {children}\n  </button>\n)\n\nCastButton.propTypes = {\n  castState: PropTypes.string,\n  children: PropTypes.node,\n  style: PropTypes.object,\n}\n\nexport default CastButton\n","import PropTypes from 'prop-types'\n\nimport Types from 'Types'\nimport {CastState} from 'Enum'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport {useCastContext} from 'cast/context'\nimport CastButton from 'component/Button/CastButton'\n\nconst CastVideoButton = ({contentId, contentType, mediaSource, ...props}) => {\n  const {\n    state: {castState},\n    actions: {connect, loadContent, stopCasting},\n  } = useCastContext()\n  const tooltip =\n    castState === CastState.CONNECTED\n      ? 'KKS.PLAYER.CAST.DISCONNECT'\n      : 'KKS.PLAYER.CAST'\n  const handleCast = () => {\n    if (castState === CastState.CONNECTED) {\n      stopCasting()\n    } else if (contentId && contentType) {\n      loadContent({contentId, contentType, mediaSource})\n    } else {\n      connect()\n    }\n  }\n\n  return (\n    <Tooltip title={<Message code={tooltip} />} bottom=\"48px\">\n      <CastButton castState={castState} onClick={handleCast} {...props} />\n    </Tooltip>\n  )\n}\n\nCastVideoButton.propTypes = {\n  contentId: PropTypes.string,\n  contentType: Types.ItemType,\n  mediaSource: PropTypes.string,\n}\n\nexport default CastVideoButton\n","import {cloneElement} from 'react'\nimport PropTypes from 'prop-types'\nimport {useContext} from 'react'\n\nimport {useOptions} from 'player/playerContext'\nimport {Context} from 'player/store/index'\nimport action from 'player/store/action/UI'\n\nimport SettingButton from './Button/SettingButton'\nimport CastButton from './Button/CastButton'\n\nconst FunctionButtons = ({full = true}) => {\n  const {toolPanels = []} = useOptions()\n  const {dispatch} = useContext(Context.Module)\n\n  return (\n    <>\n      {full && (\n        <>\n          <CastButton />\n          {toolPanels.map((item, index) =>\n            cloneElement(item.button, {\n              key: index,\n              onClick: () => {\n                dispatch(action.openPanel(index))\n              },\n            })\n          )}\n        </>\n      )}\n      <SettingButton />\n    </>\n  )\n}\n\nFunctionButtons.propTypes = {\n  full: PropTypes.bool,\n}\n\nexport default FunctionButtons\n","import classnames from 'classnames'\nimport {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport icon from 'style/icon'\nimport IconButton from './IconButton'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport {Context} from 'player/store/index'\nimport PlayerAction from 'player/store/action/Player'\nimport {PlayerViewMode} from 'Enum'\n\nconst FullScreenButton = ({style}) => {\n  const {state, dispatch} = useContext(Context.PlayerViewMode)\n  const src =\n    state === PlayerViewMode.INLINE\n      ? icon.enterFullScreen\n      : icon.leaveFullScreen\n  const tooltip =\n    state === PlayerViewMode.INLINE\n      ? 'KKS.PLAYER.FULLSCREEN'\n      : 'KKS.PLAYER.FULLSCREEN.EXIT'\n  const onClick = () => {\n    dispatch(\n      state === PlayerViewMode.INLINE\n        ? PlayerAction.enterFullScreen()\n        : PlayerAction.leaveFullScreen()\n    )\n  }\n\n  return (\n    <Tooltip title={<Message code={tooltip} />} bottom=\"48px\">\n      <IconButton\n        name={classnames(\n          'kks-player__full-screen-button',\n          `kks-player__full-screen-button--${\n            state === PlayerViewMode.INLINE ? 'inline' : 'fullscreen'\n          }`\n        )}\n        src={src}\n        onClick={onClick}\n        style={style}\n      />\n    </Tooltip>\n  )\n}\n\nFullScreenButton.propTypes = {\n  style: PropTypes.object,\n}\n\nexport default FullScreenButton\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport _get from 'dlv'\n\nimport icon from 'style/icon'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport {Context} from 'player/store/index'\nimport Action from 'player/store/action/UI'\nimport IconButton from './IconButton'\n\nconst PreEpisodeButton = ({style}) => {\n  const {\n    state: {content},\n    dispatch,\n  } = useContext(Context.API)\n  const preEpisode = _get(content, 'recommend.previous.id', null)\n\n  return (\n    <Tooltip title={<Message code=\"KKS.PLAYER.PREVIOUS\" />} bottom=\"48px\">\n      <IconButton\n        style={style}\n        name=\"kks-player__previous-episode-button\"\n        src={icon.previousEpisode}\n        disabled={!preEpisode}\n        onClick={() =>\n          preEpisode && dispatch(Action.changePreviousEpisode(preEpisode))\n        }\n      />\n    </Tooltip>\n  )\n}\n\nPreEpisodeButton.propTypes = {\n  keep: PropTypes.bool,\n  style: PropTypes.object,\n}\n\nexport default PreEpisodeButton\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport _get from 'dlv'\n\nimport icon from 'style/icon'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport {Context} from 'player/store/index'\nimport Action from 'player/store/action/UI'\nimport IconButton from './IconButton'\n\nconst NextEpisodeButton = ({style}) => {\n  const {\n    state: {content},\n    dispatch,\n  } = useContext(Context.API)\n  const nextEpisode = _get(content, 'recommend.next.id', null)\n\n  return (\n    <Tooltip title={<Message code=\"KKS.PLAYER.NEXT\" />} bottom=\"48px\">\n      <IconButton\n        style={style}\n        name=\"kks-player__next-episode-button\"\n        src={icon.nextEpisode}\n        disabled={!nextEpisode}\n        onClick={() =>\n          nextEpisode && dispatch(Action.changeNextEpisode(nextEpisode))\n        }\n      />\n    </Tooltip>\n  )\n}\n\nNextEpisodeButton.propTypes = {\n  keep: PropTypes.bool,\n  style: PropTypes.object,\n}\n\nexport default NextEpisodeButton\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport icon from 'style/icon'\nimport IconButton from './IconButton'\nimport {Context} from 'player/store/index'\nimport Action from 'player/store/action'\n\nconst BackButton = ({style}) => {\n  const {dispatch} = useContext(Context.Module)\n  return (\n    <IconButton\n      style={style}\n      name=\"kks-player__back-button\"\n      src={icon.back}\n      onClick={() => dispatch(Action.back())}\n    />\n  )\n}\n\nBackButton.propTypes = {\n  style: PropTypes.object,\n}\n\nexport default BackButton\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport I18n from 'context/I18n'\n\nconst ErrorMessage = ({errorAction}) => {\n  const {error} = errorAction\n  const {getMessage} = useContext(I18n.Context)\n  const code = error.code || 0\n  const data = {\n    ...error,\n    code,\n    CODE: code,\n  }\n  const errorMessage =\n    getMessage(error.message, data) ||\n    getMessage(error.name, data) ||\n    getMessage(`KKS.ERROR.${error.name}`, data) ||\n    getMessage(`KKS.ERROR.${error.code}`, data) ||\n    error.message\n\n  return <div className=\"kks-player__error-message\">{errorMessage}</div>\n}\n\nErrorMessage.propTypes = {\n  errorAction: PropTypes.object.isRequired,\n}\n\nexport default ErrorMessage\n","/* @jsxImportSource @emotion/react */\nimport classnames from 'classnames'\nimport PropTypes from 'prop-types'\nimport {center} from 'style'\nimport I18n from 'context/I18n'\n\nconst style = {\n  width: '200px',\n  height: '40px',\n  borderRadius: '4px',\n  background: 'transparent',\n  border: '1px solid',\n  color: 'white',\n  fontSize: '16px',\n  opacity: 0.8,\n  cursor: 'pointer',\n  outline: 'none',\n  userSelect: 'none',\n}\n\nconst TextButton = ({name, onClick, text, defaultValue}) => (\n  <button\n    className={classnames('kks-player__text-button', name)}\n    css={[style, center, {display: 'inline-block'}]}\n    onClick={onClick}\n  >\n    <I18n.Message code={text} defaultValue={defaultValue} />\n  </button>\n)\n\nTextButton.propTypes = {\n  name: PropTypes.string,\n  onClick: PropTypes.func,\n  text: PropTypes.string,\n  defaultValue: PropTypes.string,\n}\n\nexport default TextButton\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\nimport {mask} from 'style'\nimport icon from 'style/icon'\nimport Icon from 'component/Icon'\nimport ErrorMessage from 'component/ErrorMessage'\nimport TextButton from 'component/Button/TextButton'\n\nconst _css = {\n  icon: {\n    width: '78px',\n    height: '78px',\n  },\n}\n\nconst Error = ({error, style, onBack}) => (\n  <div className=\"kks-player__error\" css={[mask, style]}>\n    <Icon style={_css.icon} src={icon.warning} />\n    <ErrorMessage errorAction={error[error.length - 1]} />\n    <TextButton\n      name=\"kks-player__error__back-button\"\n      text=\"KKS.BACK\"\n      defaultValue=\"BACK\"\n      onClick={onBack}\n    />\n  </div>\n)\nError.propTypes = {\n  error: PropTypes.array,\n  style: PropTypes.object,\n  onBack: PropTypes.func,\n}\nError.defaultProps = {\n  error: [],\n  style: {},\n  onBack: () => {},\n}\n\nexport default Error\n","/* @jsxImportSource @emotion/react */\nimport {keyframes} from '@emotion/react'\nimport PropTypes from 'prop-types'\nimport {mask} from 'style'\n\nconst rotateInfinite = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100%  {\n    transform: rotate(360deg); \n  }\n`\n\nconst style = {\n  display: 'block',\n  animation: `${rotateInfinite} 1.2s linear infinite`,\n  border: '0.25em solid #f22e05',\n  borderRightColor: 'transparent',\n  borderRadius: '50%',\n  height: '3em',\n  width: '3em',\n}\n\nconst Loading = ({css, styles}) => (\n  <div css={[mask, css, styles]}>\n    <div className=\"kks-player__loading\" css={style} />\n  </div>\n)\nLoading.propTypes = {\n  css: PropTypes.object,\n  styles: PropTypes.object,\n}\n\nexport default Loading\n","/* @jsxImportSource @emotion/react */\nimport {keyframes} from '@emotion/react'\nimport {useState} from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\nimport {layer} from 'style'\nimport icon from 'style/icon'\n\nconst fadeout = keyframes`\n  0% {\n    background-size: 140px 140px;\n    opacity:1;\n  }\n  100% {\n    background-size: 160px 160px;\n    opacity:0;\n  }\n`\n\nconst _css = (animating, src) => ({\n  ...(animating && {\n    animationName: fadeout,\n  }),\n  backgroundSize: '140px 140px',\n  backgroundPosition: 'center',\n  backgroundRepeat: 'no-repeat',\n  animationFillMode: 'forwards',\n  animationDelay: '0.3s',\n  animationDuration: '300ms',\n  backgroundImage: `url(${src})`,\n  opacity: 0,\n})\n\nconst PlayPanel = ({isPlaying, href, onClick}) => {\n  const [animating, setAnimating] = useState(false)\n\n  return href ? (\n    <a href={href} target=\"_blank\" rel=\"noreferrer\" css={layer} />\n  ) : (\n    <div\n      className={classnames('kks-player__play-panel', {\n        [`kks-player__play-panel--${isPlaying ? 'play' : 'pause'}`]: animating,\n      })}\n      css={[\n        layer,\n        _css(animating, isPlaying ? icon.playCircle : icon.pauseCircle),\n      ]}\n      onAnimationEnd={() => setAnimating(false)}\n      onClick={() => {\n        setAnimating(true)\n        onClick()\n      }}\n    />\n  )\n}\n\nPlayPanel.propTypes = {\n  isPlaying: PropTypes.bool,\n  href: PropTypes.string,\n  onClick: PropTypes.func,\n}\n\nexport default PlayPanel\n","/* @jsxImportSource @emotion/react */\nimport classnames from 'classnames'\nimport PropTypes from 'prop-types'\nimport {center} from 'style'\nimport I18n from 'context/I18n'\n\nconst style = {\n  border: 'none',\n  outline: 'none',\n  cursor: 'pointer',\n  padding: 0,\n  flexShrink: 0,\n  fontSize: 14,\n  width: 'auto',\n  height: 'auto',\n  userSelect: 'none',\n}\n\nconst Link = ({name, onClick, text, defaultValue}) => (\n  <a\n    className={classnames('kks-player__link', name)}\n    css={[style, center]}\n    onClick={onClick}\n  >\n    <I18n.Message code={text} defaultValue={defaultValue} />\n  </a>\n)\n\nLink.propTypes = {\n  name: PropTypes.string,\n  onClick: PropTypes.func,\n  text: PropTypes.string,\n  defaultValue: PropTypes.string,\n}\n\nexport default Link\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\nimport {mask} from 'style'\nimport I18n from 'context/I18n'\nimport TextButton from 'component/Button/TextButton'\nimport Link from 'component/Button/Link'\n\nconst _css = {\n  title: {\n    maxWidth: '416px',\n    textAlign: 'center',\n    fontSize: '20px',\n    fontWeight: 'bold',\n  },\n  message: {\n    maxWidth: '416px',\n    fontSize: '16px',\n  },\n}\n\nconst LinearEnd = ({onRetry, onLeave}) => (\n  <div className=\"kks-player__linear-end\" css={[mask]}>\n    <div className=\"kks-player__linear-end__title\" css={_css.title}>\n      <I18n.Message code=\"KKS.PROGRAM.TITLE\" />\n    </div>\n    <div className=\"kks-player__linear-end__message\" css={_css.message}>\n      <I18n.Message code=\"KKS.PROGRAM.MESSAGE\" />\n    </div>\n    <TextButton\n      name=\"kks-player__retry-button\"\n      text=\"KKS.TRYAGAIN\"\n      onClick={onRetry}\n    />\n    <Link\n      name=\"kks-player__leave-button\"\n      text=\"KKS.PLAYER.EXIT\"\n      onClick={onLeave}\n    />\n  </div>\n)\nLinearEnd.propTypes = {\n  onRetry: PropTypes.func,\n  onLeave: PropTypes.func,\n}\nexport default LinearEnd\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\n\nimport {mask} from 'style'\nimport icon from 'style/icon'\nimport I18n from 'context/I18n'\nimport Button from 'component/Button/SquareButton'\nimport Icon from 'component/Icon'\n\nconst style = {\n  backgroundColor: '#000',\n  button: {\n    position: 'absolute',\n    top: '36px',\n    left: '36px',\n  },\n}\n\nconst iconStyle = {\n  width: '78px',\n  height: '78px',\n  filter: 'invert(100%)',\n}\n\nconst CastMask = ({onBack}) => (\n  <div className=\"kks-player__cast-mask\" css={[mask, style]}>\n    <Button name=\"kks-player__ctrlbtn kks-player__back-button\" onClick={onBack}>\n      <Icon src={icon.back} />\n    </Button>\n    <Icon src={icon.castConnected} style={iconStyle} />\n    <div className=\"kks-player__cast-mask__message\">\n      <I18n.Message code=\"KKS.CASTING\" />\n    </div>\n  </div>\n)\n\nCastMask.propTypes = {\n  onBack: PropTypes.func,\n}\n\nexport default CastMask\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\n\nimport icon from 'style/icon'\nimport Icon from 'component/Icon'\nimport Message from 'context/I18n/Message'\n\nconst styles = {\n  padding: '0.5rem',\n  border: '1px solid #fff',\n  color: '#fff',\n  background: 'rgba(0, 0, 0, 0.4)',\n  fontSize: '24px',\n  opacity: 0.8,\n  'span:last-of-type': {\n    marginLeft: '1rem',\n    width: '16px',\n    height: '16px',\n    display: 'inline-block',\n  },\n}\n\nconst SkipButton = ({remainingTime, onClick}) => (\n  <button css={styles} disabled={remainingTime > 0} onClick={onClick}>\n    {remainingTime > 0 ? (\n      <>\n        {Math.ceil(remainingTime)} <Message code=\"KKS.SSAI.SECONDS\" />\n        <Icon src={icon.nextEpisode} style={{opacity: 0.24}} />\n      </>\n    ) : (\n      <>\n        <Message code=\"KKS.SSAI.SKIP.AD\" />\n        <Icon src={icon.nextEpisode} />\n      </>\n    )}\n  </button>\n)\n\nSkipButton.propTypes = {\n  remainingTime: PropTypes.number,\n  onClick: PropTypes.func,\n}\n\nexport default SkipButton\n","/* eslint-disable indent */\n// Refactor is in progress, old player UI components will be imported from here temporarily\nimport {useState, useEffect, useContext} from 'react'\nimport shallow from 'zustand/shallow'\n\nimport useStore from './store/useStore'\nimport getPlaybackState from 'player/store/getPlaybackState'\nimport {useOptions} from './playerContext'\nimport PlayButton from 'player/container/Button/PlayButton'\nimport Seekbar from 'player/container/Seekbar'\nimport LiveSeekbar from 'player/container/LiveSeekbar'\nimport RewindButton from 'player/container/Button/RewindButton'\nimport ForwardButton from 'player/container/Button/ForwardButton'\nimport VolumeControl from 'player/container/VolumeControl'\nimport FunctionButtons from 'player/container/FunctionButtons'\nimport FullScreenButton from 'player/container/Button/FullScreenButton'\nimport PreviousEpisodeButton from 'player/container/Button/PreEpisodeButton'\nimport NextEpisodeButton from 'player/container/Button/NextEpisodeButton'\nimport BackButton from 'player/container/Button/BackButton'\nimport CastButton from 'player/container/Button/CastButton'\nimport Error from 'component/Mask/Error'\nimport Loading from 'component/Mask/Loading'\nimport PlayPanel from 'component/Panel/PlayPanel'\nimport LinearEnded from 'component/Mask/LinearEnd'\nimport Casting from 'component/Mask/Cast'\nimport SkipButton from 'component/Button/SkipButton'\nimport {Context} from 'player/store/index'\nimport Action from 'player/store/action/index'\nimport playAction from 'player/store/action/playAction'\nimport UiAction from 'player/store/action/UI'\nimport operator from 'player/store/operator'\n\nconst PlayPane = () => {\n  const {status} = useStore(getPlaybackState, shallow)\n  const type = useStore(({UI: state}) =>\n    state.activePanel === 'recommendation'\n      ? 'dismiss'\n      : state.autoplayDialogOpening || state.autoplayDialogOpening\n      ? 'none'\n      : 'play'\n  )\n  const adUrl = useStore(({UI: state}) => state.ad?.clickThroughUrl)\n  const {dispatch} = useContext(Context.PlayerState)\n\n  return type === 'dismiss' ? (\n    <div\n      style={{\n        height: '100%',\n        width: '100%',\n        background: 'rgba(0, 0, 0, 0.6)',\n      }}\n      onClick={() => dispatch(UiAction.hidePanel())}\n    />\n  ) : (\n    type === 'play' && (\n      <PlayPanel\n        isPlaying={/playing|loading/.test(status)}\n        href={adUrl}\n        onClick={() => dispatch(playAction(status))}\n      />\n    )\n  )\n}\n\nconst ErrorOverlay = () => {\n  const {dispatch} = useContext(Context.Module)\n  const {error} = useContext(Context.Module).state\n\n  return <Error error={error} onBack={() => dispatch(Action.back())} />\n}\n\nconst CastingOverlay = () => {\n  const {dispatch} = useContext(Context.Module)\n\n  return <Casting onBack={() => dispatch(Action.back())} />\n}\n\nconst LinearEndedOverlay = () => {\n  const {dispatch} = useContext(Context.Module)\n\n  return (\n    <LinearEnded\n      onRetry={() => dispatch(operator.retry)}\n      onLeave={() => dispatch(Action.back())}\n    />\n  )\n}\n\nconst getAdSkipTimeOffset = ({API, UI}) =>\n  API.content?.contentType === 'lives' ? -1 : UI.ad?.skipTimeOffset\n\nconst AdSkipButton = () => {\n  const {plugins} = useOptions()\n  const skipTimeOffset = useStore(getAdSkipTimeOffset)\n  const [streamTime, setStreamTime] = useState(0)\n\n  useEffect(() => {\n    const video = document.querySelector('video')\n    const upadteTime = () => setStreamTime(() => video.currentTime)\n    video.addEventListener('timeupdate', upadteTime)\n\n    return () => video.removeEventListener('timeupdate', upadteTime)\n  }, [])\n\n  return (\n    skipTimeOffset >= 0 && (\n      <SkipButton\n        remainingTime={skipTimeOffset - streamTime}\n        onClick={() => plugins.forEach(plugin => plugin.skipAd?.())}\n      />\n    )\n  )\n}\n\nconst getComponents = () => ({\n  PlayButton,\n  Seekbar,\n  LiveSeekbar,\n  RewindButton,\n  ForwardButton,\n  VolumeControl,\n  FunctionButtons,\n  FullScreenButton,\n  PreviousEpisodeButton,\n  NextEpisodeButton,\n  BackButton,\n  Loading,\n  PlayPane,\n  ErrorOverlay,\n  LinearEndedOverlay,\n  CastingOverlay,\n\n  AdSkipButton,\n  CastButton,\n})\n\nexport default getComponents\n","/* @jsxImportSource @emotion/react */\n/* eslint-disable react/prop-types */\nconst expand = {\n  margin: 0,\n  flex: '1',\n}\n\nconst containerStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  width: '100%',\n  height: '100%',\n  boxSizing: 'border-box',\n  display: 'flex',\n  flexDirection: 'column',\n  overflow: 'hidden',\n  color: 'white',\n  // prevent animation glich(afterimage) of descendant elements\n  transform: 'translateX(0)',\n  userSelect: 'none',\n  h1: {\n    margin: 0,\n    fontSize: '1em',\n    lineHeight: '1.5em',\n  },\n  'a, a:link, a:visited': {\n    color: '#fff',\n    opacity: 0.8,\n    textDecoration: 'none',\n  },\n  button: {\n    fontSize: 'inherit',\n  },\n}\n\nconst drop = {\n  backgroundImage: `linear-gradient(\n    0deg,\n    rgba(0,0,0,0.5) 0,\n    rgba(0,0,0,0) 8rem calc(100% - 8rem),\n    rgba(0,0,0,0.5) 100%\n  )`,\n}\n\nconst dropTop = {\n  backgroundImage: `linear-gradient(\n    0deg,\n    rgba(0,0,0,0) 0,\n    rgba(0,0,0,0) 8rem calc(100% - 8rem),\n    rgba(0,0,0,0.5) 100%\n  )`,\n}\n\nconst responsiveStyles = {\n  desktop: {\n    fontSize: '24px',\n  }, // add if necessary: big-desktop\n}\n\nconst rowStyle = {\n  boxSizing: 'border-box',\n  width: '100%',\n  padding: 'calc(2em - 16px)',\n  display: 'flex',\n  alignItems: 'center',\n  button: {\n    flex: '0 0 1.5em',\n    width: '1.5em',\n    height: '1.5em',\n  },\n  '> button:not(:disabled) ~ button:not(:disabled), div ~ button:last-of-type': {\n    marginLeft: '0.5rem',\n  },\n  '> button:not(:last-of-type)': {\n    marginRight: '0.5rem',\n  },\n}\n\nconst displayStyles = {\n  hidden: {\n    '> div:not(.pinned), > button:not(.pinned), > h1:not(.pinned)': {\n      opacity: 0,\n      transform: 'translate(-100vw)',\n      transition: 'opacity 0.5s ease-out, transform 0s 0.5s',\n    },\n  },\n  shown: {\n    '> div:not(.pinned), > button:not(.pinned), > h1:not(.pinned)': {\n      transition: 'opacity 0.5s ease-out',\n    },\n  },\n}\n\nconst controlsDisplayStyles = {\n  hidden: {\n    ...displayStyles.hidden,\n    '~ div:not(.pinned)': displayStyles.hidden,\n  },\n  shown: {\n    ...displayStyles.display,\n    '~ div': displayStyles.display,\n  },\n}\n\nconst controlsStyle = {\n  position: 'absolute',\n  zIndex: '2',\n  display: 'flex',\n  alignItems: 'center',\n  '> button': {\n    margin: '1em',\n    width: '1.75em',\n    height: '1.75em',\n    '&:disabled': {\n      opacity: 0.3,\n    },\n    '&.play-button': {\n      width: '3em',\n      height: '3em',\n    },\n  },\n}\n\nconst textEllipsis = {\n  overflow: 'hidden',\n  whiteSpace: 'nowrap',\n  textOverflow: 'ellipsis',\n}\n\nconst infoStyle = {\n  alignItems: 'flex-start',\n  overflow: 'visible',\n  h1: {\n    height: '3em',\n    fontWeight: '500',\n    ...textEllipsis,\n    '> div': textEllipsis,\n  },\n}\n\nconst backStyle = {\n  position: 'absolute',\n  zIndex: '-1',\n  width: '100%',\n  height: '100%',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n}\n\nconst skipStyle = {\n  position: 'absolute',\n  right: 0,\n  bottom: '9rem',\n  textAlign: 'right',\n  button: {\n    width: 'auto',\n    height: 'auto',\n  },\n}\n\nconst dekstopStyle = {\n  '> div': {\n    '> button:not(:disabled) ~ button:not(:disabled), button:last-of-type': {\n      marginLeft: '0.75em',\n    },\n    '> button:not(:last-of-type), > button:first-of-type, > button ~ div': {\n      marginRight: '0.75em',\n    },\n    '> button:first-of-type': {\n      marginLeft: '0',\n    },\n  },\n}\n\nconst desktopControls = {\n  flexWrap: 'wrap',\n  '> div:first-of-type': {\n    flex: '100%',\n    marginBottom: '0.88em',\n  },\n  'button[disabled]': {\n    display: 'none',\n  },\n}\n\nconst ControlsBlock = ({\n  order = 'mobile',\n  playButton,\n  rewindButton = '',\n  forwardButton = '',\n  previousEpisodeButton = '',\n  nextEpisodeButton = '',\n}) =>\n  order === 'desktop' ? (\n    <>\n      {previousEpisodeButton}\n      {playButton}\n      {nextEpisodeButton}\n      {rewindButton}\n      {forwardButton}\n    </>\n  ) : (\n    <>\n      {rewindButton}\n      {previousEpisodeButton}\n      {playButton}\n      {nextEpisodeButton}\n      {forwardButton}\n    </>\n  )\n\nconst DefaultLayout = ({\n  type = 'mobile',\n  display,\n  controlsDisplay,\n  size,\n  title = '',\n  channelTitle = '',\n  haveBottomItem,\n  seekbar = '',\n  controlButtons,\n  volumeControl,\n  functionButtons,\n  fullscreenButton,\n  backButton,\n  adStatus = '',\n  adLink = '',\n  adSkipButton,\n  backItems,\n  children,\n  containerRef,\n  backRef,\n  ...rest\n}) => (\n  <div\n    css={[\n      containerStyle,\n      responsiveStyles[size],\n      type === 'desktop' && dekstopStyle,\n      display === 'shown' && (haveBottomItem ? dropTop : drop),\n    ]}\n    ref={containerRef}\n    {...rest}\n  >\n    <div ref={backRef} css={backStyle}>\n      {type === 'mobile' ? (\n        <div css={[controlsStyle, displayStyles[controlsDisplay]]}>\n          <ControlsBlock order=\"mobile\" {...controlButtons} />\n        </div>\n      ) : (\n        backItems\n      )}\n      {adSkipButton && <div css={skipStyle}>{adSkipButton}</div>}\n    </div>\n    <div css={[rowStyle, infoStyle, displayStyles[display]]}>\n      {backButton}\n      <h1>\n        {title}\n        {channelTitle && <div css={{fontSize: '16px'}}>{channelTitle}</div>}\n      </h1>\n      <div css={expand} />\n      {type === 'mobile' && functionButtons}\n      {adLink && <div className=\"pinned\">{adLink}</div>}\n    </div>\n    <div\n      css={[\n        rowStyle,\n        {marginTop: 'auto'},\n        type === 'desktop' && desktopControls,\n        controlsDisplayStyles[controlsDisplay],\n      ]}\n    >\n      {seekbar || <div />}\n      {type === 'desktop' && (\n        <ControlsBlock order=\"desktop\" {...controlButtons} />\n      )}\n      {adStatus && (\n        <div className=\"pinned\" css={{flex: 1, textShadow: '2px 2px 1px #000'}}>\n          {adStatus}\n        </div>\n      )}\n      {type === 'desktop' && (\n        <>\n          <div css={expand} />\n          {volumeControl}\n          {functionButtons}\n        </>\n      )}\n      {fullscreenButton}\n    </div>\n    {children}\n  </div>\n)\n\nexport default DefaultLayout\n","/* @jsxImportSource @emotion/react */\n// eslint-disable-next-line no-unused-vars\nimport PropTypes from 'prop-types'\n\nimport icon from 'style/icon'\n\nconst openIcon = {\n  width: '1rem',\n  height: '1rem',\n  margin: '0 0.5rem',\n  fontWeight: 'bold',\n  backgroundImage: `url(${icon.arrowTop})`,\n  transition: 'transform 0.5s',\n}\n\nconst closeIcon = {\n  ...openIcon,\n  transform: 'rotateX(180deg)',\n}\n\nconst titleStyle = {\n  padding: '0.5rem 2.5rem',\n  display: 'flex',\n  alignItems: 'center',\n  color: '#ccc',\n  fontSize: '20px',\n  cursor: 'pointer',\n}\n\nconst contentStyle = {\n  overflow: 'auto',\n}\n\nconst contentHiddenStyle = {\n  overflow: 'hidden',\n  pointerEvents: 'none',\n  touchAction: 'none',\n}\n\nconst RecommendationBox = ({opening, title, children = '', toggle}) => (\n  <>\n    <div css={titleStyle} onClick={opening && toggle}>\n      {title}\n      <div css={[opening ? closeIcon : openIcon]} />\n    </div>\n    <div css={[contentStyle, !opening && contentHiddenStyle]}>{children}</div>\n  </>\n)\n\nRecommendationBox.propTypes = {\n  opening: PropTypes.bool,\n  toggle: PropTypes.func,\n  title: PropTypes.node,\n  children: PropTypes.node,\n}\n\nconst foldedHeight = '5rem'\n\nconst style = {\n  container: {\n    position: 'absolute',\n    bottom: '0',\n    width: '100%',\n    overflow: 'hidden',\n    transition: 'transform 0.5s ease',\n    transform: 'translateY(0)',\n  },\n  folded: {\n    transform: `translateY(100%) translateY(-${foldedHeight})`,\n  },\n}\n\nconst RecommendationPanel = ({opening, toggle, title, children = null}) => {\n  return (\n    children && (\n      <div\n        className=\"kks-player__recommendation\"\n        css={[style.container, !opening && style.folded]}\n        onClick={() => {\n          if (!opening) {\n            toggle()\n          }\n        }}\n      >\n        <RecommendationBox opening={opening} title={title} toggle={toggle}>\n          {children}\n        </RecommendationBox>\n      </div>\n    )\n  )\n}\n\nRecommendationPanel.propTypes = {\n  opening: PropTypes.bool,\n  toggle: PropTypes.func,\n  title: PropTypes.node,\n  children: PropTypes.node,\n}\n\nexport default RecommendationPanel\n","/* @jsxImportSource @emotion/react */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport {cloneElement} from 'react'\nimport PropTypes from 'prop-types'\n\nimport RecommendationPanel from 'component/Panel/RecommendationPanel'\n\nconst panelStyle = {\n  alignSelf: 'center',\n  display: 'flex',\n  flexDirection: 'column',\n  overflow: 'visible',\n  maxWidth: '100%',\n  position: 'absolute',\n  bottom: '0',\n  transition: 'transform 0s 0.5s',\n  transform: 'translateY(100%)',\n  '> *:last-of-type': {\n    flex: '0 auto',\n    transition: 'transform 0.5s ease, opacity 0.5s ease',\n    transform: 'translateY(100%)',\n    opacity: '0',\n  },\n}\n\nconst panelOpenStyle = {\n  transition: 'transform 0s 0s',\n  transform: 'translateY(0)',\n  '> *:last-of-type': {\n    transform: 'translateY(0)',\n    opacity: '1',\n  },\n}\n\n// this is for replacing recommendation panel in future\nconst panelClosedStyle = height =>\n  height && {\n    '> *:last-of-type': {\n      // workaround IE 11 CSS calc() bug\n      transform: `translateY(100%) translateY(-${height})`,\n    },\n  }\n\nconst backdropStyle = {\n  height: '100%',\n  backgroundColor: 'rgba(0, 0, 0, 0)',\n  transition: 'background-color 0.5s ease, transform 0s 0.5s',\n}\n\nconst backdropOpenStyle = {\n  backgroundColor: 'rgba(0, 0, 0, 0.6)',\n  transition: 'background-color 0.5s ease',\n}\n\nconst BottomPanels = ({\n  type = 'mobile',\n  recommendation,\n  toolPanels,\n  activePanel,\n  hidePanel,\n  toggleRecommendationPanel,\n}) => (\n  <>\n    {recommendation && type === 'desktop' && (\n      <>\n        <div style={{height: '4rem'}} />\n        <RecommendationPanel\n          title={recommendation.title}\n          opening={activePanel === 'recommendation'}\n          toggle={toggleRecommendationPanel}\n        >\n          {recommendation.content}\n        </RecommendationPanel>\n      </>\n    )}\n    {toolPanels.map(\n      (\n        {\n          content,\n          open,\n          style,\n          hasBackdrop = true,\n          pinned = false,\n          foldedHeight = 0,\n        },\n        index\n      ) => {\n        const panelOpen = open || index === activePanel\n\n        return (\n          <div\n            css={[\n              panelStyle,\n              panelOpen ? panelOpenStyle : panelClosedStyle(foldedHeight),\n              hasBackdrop && [backdropStyle, panelOpen && backdropOpenStyle],\n              panelOpen && style,\n            ]}\n            className={pinned && 'pinned'}\n          >\n            {hasBackdrop && (\n              <div\n                style={{flex: 1}}\n                onClick={event => {\n                  event.stopPropagation()\n                  hidePanel(event)\n                }}\n              />\n            )}\n            {cloneElement(content[0] || content, {\n              active: panelOpen,\n              close: hidePanel,\n            })}\n          </div>\n        )\n      }\n    )}\n  </>\n)\n\nBottomPanels.propTypes = {\n  type: PropTypes.oneOf(['mobile', 'desktop']),\n  recommendation: PropTypes.object,\n  toolPanels: PropTypes.array,\n  activePanel: PropTypes.string,\n  hidePanel: PropTypes.func,\n  toggleRecommendationPanel: PropTypes.func,\n}\n\nexport default BottomPanels\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\n\nconst subtitlesStyle = {\n  alignSelf: 'center',\n  display: 'flex',\n  flexDirection: 'column',\n  overflow: 'visible',\n  maxWidth: '100%',\n  position: 'absolute',\n  bottom: '6em',\n  color: '#e8e6e3',\n  textShadow: `#000 -1px -1px 0px, #000 1px -1px 0px, #000 -1px 1px 0px, #000 1px 1px 0px`,\n  whiteSpace: 'pre-line',\n  textAlign: 'center',\n}\n\nconst Subtitles = ({text}) => (\n  <div css={subtitlesStyle}>\n    <span>{text}</span>\n  </div>\n)\n\nSubtitles.propTypes = {\n  text: PropTypes.string,\n}\n\nexport default Subtitles\n","/* eslint-disable react/prop-types */\n/* @jsxImportSource @emotion/react */\n\nimport {ResizeObserver} from '@juggle/resize-observer'\nimport useDimensions from 'react-cool-dimensions'\n\nimport {useAutoHide} from 'Hooks'\nimport getComponents from 'player/getComponents'\nimport Message from 'context/I18n/Message'\nimport DefaultLayout from './DefaultLayout'\nimport BottomPanels from './BottomPanels'\nimport Subtitles from './Subtitles'\n\nconst sizes = {\n  'small-embed': 200,\n  embed: 400,\n  'tablet-portrait': 600,\n  'tablet-landscape': 900,\n  desktop: 1200,\n}\n\nconst PlayerUi = ({\n  type = 'mobile',\n  status,\n  ready,\n  seekable,\n  focused,\n  controlsDisplay,\n  title,\n  channelTitle,\n  adStatus,\n  subtitlesContent,\n  adUrl,\n  toolPanels,\n  recommendation,\n  activePanel,\n  haveBottomItem,\n  backRef,\n  hidePanel,\n  toggleRecommendationPanel,\n  Layout = DefaultLayout,\n  children,\n}) => {\n  const {mode, onClick, onMouseMove} = useAutoHide({\n    pinned: status !== 'playing' || focused,\n    tapToHide: type === 'mobile',\n  })\n  const {width, currentBreakpoint: size, ref: containerRef} = useDimensions({\n    polyfill: ResizeObserver,\n    breakpoints: sizes,\n  })\n  const {\n    PlayButton,\n    Seekbar,\n    LiveSeekbar,\n    RewindButton,\n    ForwardButton,\n    VolumeControl,\n    FunctionButtons,\n    FullScreenButton,\n    PreviousEpisodeButton,\n    NextEpisodeButton,\n    BackButton,\n    Loading,\n    PlayPane,\n    ErrorOverlay,\n    LinearEndedOverlay,\n    CastingOverlay,\n    AdSkipButton,\n  } = getComponents()\n  const controlButtons = {\n    playButton:\n      type === 'mobile' && status === 'buffering' ? (\n        <Loading\n          styles={{\n            position: 'static',\n            width: '3em',\n            margin: '1em',\n            backgroundColor: 'transparent',\n          }}\n        />\n      ) : (\n        <PlayButton />\n      ),\n    ...(!adStatus &&\n      seekable &&\n      ready &&\n      (type === 'mobile' || width >= sizes['tablet-portrait']) && {\n        previousEpisodeButton: <PreviousEpisodeButton />,\n        nextEpisodeButton: <NextEpisodeButton />,\n        rewindButton: <RewindButton />,\n        forwardButton: <ForwardButton />,\n      }),\n  }\n  const backItems =\n    status === 'buffering' ? (\n      <Loading styles={{backgroundColor: 'transparent'}} />\n    ) : (\n      <PlayPane />\n    )\n  const uiElements = adStatus\n    ? {\n        adLink: adUrl && (\n          <a href={adUrl} rel=\"noreferrer\" target=\"_blank\">\n            <Message code=\"KKS.SSAI.LEARN.MORE\" />\n          </a>\n        ),\n        adStatus,\n        adSkipButton: <AdSkipButton />,\n      }\n    : {\n        title,\n        channelTitle,\n        seekbar: seekable ? <Seekbar /> : <LiveSeekbar />,\n        functionButtons: ready &&\n          (type === 'mobile' || width >= sizes['small-embed']) && (\n            <FunctionButtons full={type === 'mobile' || width >= sizes.embed} />\n          ),\n      }\n\n  return (\n    <Layout\n      type={type}\n      display={mode}\n      controlsDisplay={controlsDisplay || mode}\n      size={size}\n      haveBottomItem={haveBottomItem && !adStatus}\n      {...uiElements}\n      controlButtons={controlButtons}\n      volumeControl={\n        width >= sizes['small-embed'] && (\n          <VolumeControl displaySlider={width >= 300} />\n        )\n      }\n      fullscreenButton={ready && <FullScreenButton />}\n      backButton={<BackButton />}\n      backItems={backItems}\n      containerRef={containerRef}\n      backRef={backRef}\n      {...{onClick, onMouseMove}}\n    >\n      <Subtitles text={subtitlesContent?.text} />\n      {!adStatus && (\n        <BottomPanels\n          type={type}\n          toolPanels={toolPanels}\n          recommendation={recommendation}\n          activePanel={activePanel}\n          hidePanel={hidePanel}\n          toggleRecommendationPanel={toggleRecommendationPanel}\n        />\n      )}\n      {status === 'error' ? (\n        <ErrorOverlay />\n      ) : status === 'casting' ? (\n        <CastingOverlay />\n      ) : status === 'loading' ? (\n        <Loading />\n      ) : status === 'linearEnded' ? (\n        <LinearEndedOverlay />\n      ) : (\n        ''\n      )}\n      {children}\n    </Layout>\n  )\n}\n\nexport default PlayerUi\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\n\nimport icon from 'style/icon'\n\nconst sizes = {\n  normal: {\n    bottom: '1rem',\n    padding: '0.5rem',\n    width: '18.5rem',\n    height: '5.25rem',\n    fontSize: '12px',\n    '--spacing': '0rem',\n  },\n  big: {\n    bottom: '5rem',\n    padding: '0.75rem',\n    width: '32rem',\n    height: '10rem',\n    fontSize: '20px',\n    '--spacing': '0.5rem',\n  },\n}\n\nconst style = {\n  container: {\n    position: 'absolute',\n    zIndex: '-1',\n    right: '0',\n    display: 'flex',\n    borderRadius: '4px',\n    color: '#fff',\n    backgroundColor: 'rgba(20, 20, 20, 0.8)',\n    opacity: '0',\n    transition: 'opacity 1s ease',\n  },\n  opening: {\n    zIndex: 'inherit',\n    opacity: '1',\n  },\n  cover: imageUrl => ({\n    flex: '0 40%',\n    border: 'none',\n    borderRadius: '4px',\n    background: `\n      center / 33% no-repeat url(${icon.playCircleBorder}),\n      ${imageUrl ? `center / cover url(${imageUrl}),` : ''} \n      #ccc\n    `,\n  }),\n  info: {\n    marginLeft: '0.5rem',\n    flex: '1',\n  },\n  message: {\n    marginBottom: ['1rem', 'var(--spacing)'],\n    display: 'flex',\n  },\n  dismiss: {\n    marginLeft: 'auto',\n    width: ['2rem', 'calc(1.5rem + var(--spacing))'],\n    height: ['2rem', 'calc(1.5rem + var(--spacing))'],\n    border: 'none',\n    background: `center / 1rem no-repeat url(${icon.close}), transparent`,\n  },\n}\n\nconst PlayDialog = ({\n  opening,\n  coverImageUrl,\n  message,\n  title,\n  size,\n  containerRef,\n  play,\n  dismiss,\n  ...rest\n}) => (\n  <div\n    css={[style.container, sizes[size], opening && style.opening]}\n    ref={containerRef}\n    {...rest}\n  >\n    <button\n      css={style.cover(coverImageUrl)}\n      onClick={play}\n      className=\"kks-player__next-episode-button\"\n    />\n    <div css={style.info}>\n      <div css={style.message}>\n        {message}\n        <button\n          css={style.dismiss}\n          onClick={dismiss}\n          className=\"kks-player__cancel-autoplay-button\"\n        />\n      </div>\n      {title}\n    </div>\n  </div>\n)\n\nPlayDialog.propTypes = {\n  opening: PropTypes.bool,\n  coverImageUrl: PropTypes.string,\n  message: PropTypes.node,\n  title: PropTypes.node,\n  size: PropTypes.string,\n  containerRef: PropTypes.object,\n  play: PropTypes.func,\n  dismiss: PropTypes.func,\n}\n\nexport default PlayDialog\n","import _get from 'dlv'\nimport {useState, useEffect, useContext} from 'react'\nimport {ResizeObserver} from '@juggle/resize-observer'\nimport useDimensions from 'react-cool-dimensions'\n\nimport {useUiRef} from 'player/playerContext'\nimport PlayDialog from 'component/PlayDialog'\nimport {Context} from 'player/store'\nimport UIAction from 'player/store/action/UI'\nimport I18n from 'context/I18n'\nimport {ModuleState} from 'Enum'\n\nconst useCountdownSecond = ({time, enabled}) => {\n  const [timeLeft, setTimeLeft] = useState()\n\n  useEffect(() => {\n    if (!enabled) return\n\n    setTimeLeft(time)\n    const intervalId = setInterval(\n      () => setTimeLeft(current => current - 1),\n      1000\n    )\n\n    return () => clearInterval(intervalId)\n  }, [time, enabled])\n\n  return timeLeft\n}\n\nconst AutoplayDialog = () => {\n  const {currentBreakpoint} = useDimensions({\n    ref: useUiRef(),\n    polyfill: ResizeObserver,\n    breakpoints: {\n      normal: 0,\n      big: 600,\n    },\n  })\n  const {\n    state: {autoplayDialogOpening: opening},\n    dispatch,\n  } = useContext(Context.UI)\n  const {\n    state: {content},\n  } = useContext(Context.API)\n  const {\n    state: {state: moduleState},\n  } = useContext(Context.Module)\n  const {\n    id,\n    title,\n    images: [{url: coverImageUrl}],\n  } = _get(content, 'recommend.next') || {images: [{}]}\n  const playNext = () => {\n    dispatch(UIAction.changeNextEpisode(id))\n  }\n  const timeLeft = useCountdownSecond({time: 10, enabled: opening})\n\n  useEffect(() => {\n    if (timeLeft <= 0) playNext()\n  }, [timeLeft > 0])\n\n  return (\n    <PlayDialog\n      className=\"kks-player__autoplay pinned\"\n      opening={opening && moduleState !== ModuleState.ERROR}\n      message={\n        <I18n.Message code=\"KKS.ENDROLL.COUNTDOWN\" property={{timeLeft}} />\n      }\n      title={title}\n      coverImageUrl={coverImageUrl}\n      size={currentBreakpoint}\n      play={playNext}\n      dismiss={() => dispatch(UIAction.dismissAutoplay())}\n    />\n  )\n}\n\nexport default AutoplayDialog\n","/* @jsxImportSource @emotion/react */\nimport {useState, useEffect, useContext, useRef, Fragment} from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\nimport useOnclickOutside from 'react-cool-onclickoutside'\n\nimport {useChangeSettings, useSettings} from 'player/settings'\nimport {Context} from 'player/store'\nimport Action from 'player/store/action/UI'\nimport icon from 'style/icon'\nimport {FormattedMessage} from 'context/I18n'\n\nconst style = {\n  head: {\n    position: 'sticky',\n    zIndex: '1',\n    top: '0',\n    display: 'flex',\n    alignItems: 'center',\n    padding: '1rem 1.5rem',\n    color: 'white',\n    backgroundColor: 'inherit',\n    fontSize: '16px',\n    fontWeight: 'bold',\n    button: {\n      marginRight: '1rem',\n      padding: '0',\n      width: '1rem',\n      height: '1rem',\n      border: 'none',\n    },\n  },\n  overlay: {\n    position: 'absolute',\n    zIndex: '-2',\n    top: '0',\n    width: '100%',\n    height: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    opacity: '0',\n    transition: 'opacity 0.2s ease, transform 0s ease 0.2s',\n  },\n  container: {\n    flex: '0 18rem',\n    maxHeight: 'calc(100% - 2rem)',\n    color: '#ccc',\n    background: '#333333',\n    whiteSpace: 'nowrap',\n    borderRadius: '4px',\n    userSelect: 'none',\n    overflow: 'auto',\n  },\n  opening: {\n    zIndex: '0',\n    opacity: '1',\n    transform: 'translateY(0)',\n    transition: 'opacity 0.2s ease',\n  },\n  title: {\n    padding: '12px 18px',\n  },\n  dismiss: {\n    background: `center / 1rem no-repeat url(${icon.close}), transparent`,\n  },\n  back: {\n    background: `center / 1rem no-repeat url(${icon.back}), transparent`,\n  },\n  row: {\n    cursor: 'pointer',\n    display: 'flex',\n    padding: '1rem 1.5rem',\n    fontSize: '16px',\n    '::after': {\n      content: '\" \"',\n      marginLeft: '1rem',\n      width: '20px',\n      height: '20px',\n      display: 'inline-block',\n      color: 'white',\n      backgroundPosition: 'center',\n      backgroundSize: 'cover',\n    },\n  },\n  space: {\n    flex: '1',\n  },\n  hasOptions: {\n    '::after': {\n      backgroundImage: `url(${icon.arrowTop})`,\n      transform: 'rotate(90deg)',\n    },\n  },\n  selected: {\n    '::after': {\n      backgroundImage: `url(${icon.check})`,\n    },\n  },\n}\n\nconst dekstopStyle = {\n  overlay: {\n    position: 'absolute',\n    bottom: '5em',\n    right: '3rem',\n    display: 'flex',\n    alignItems: 'flex-end',\n    width: '15rem',\n    height: 'calc(100% - 8rem)',\n    opacity: '0',\n    transform: 'translateY(-100vh)',\n  },\n  container: {\n    ...style.container,\n    maxHeight: '100%',\n    background: 'rgba(0, 0, 0, 0.7)',\n  },\n  head: {\n    ...style.head,\n    background: '#000',\n  },\n  row: {\n    ...style.row,\n    '::after': {},\n    '::before': {\n      ...style.row['::after'],\n      marginLeft: '0',\n      marginRight: '4px',\n    },\n  },\n  hasOptions: {\n    '::before': {\n      backgroundImage: `url(${icon.arrowTop})`,\n      transform: 'rotate(90deg)',\n    },\n  },\n  selected: {\n    '::before': {\n      backgroundImage: `url(${icon.check})`,\n    },\n  },\n}\n\nconst MenuItemText = ({text}) => (\n  <FormattedMessage id={`KKS.SETTING.${text}`} getDefault={() => text} />\n)\n\nMenuItemText.propTypes = {\n  text: PropTypes.string,\n}\n\nconst MenuSection = ({sharedStyle, items = [], selectedValue, onSelect}) => (\n  <div className=\"kks-player__menu-content\">\n    {items.map(({value, label}) => (\n      <div\n        key={value}\n        className={classnames('kks-player__menu-item', {\n          'kks-player__menu-item--selected': selectedValue === value,\n        })}\n        css={[sharedStyle.row, selectedValue === value && sharedStyle.selected]}\n        onClick={() => onSelect(value)}\n      >\n        <MenuItemText text={label || value} />\n        <div css={[style.space]} />\n      </div>\n    ))}\n  </div>\n)\n\nMenuSection.propTypes = {\n  sharedStyle: PropTypes.object,\n  items: PropTypes.array,\n  selectedValue: PropTypes.string,\n  MenuItem: PropTypes.elementType,\n  onSelect: PropTypes.func,\n}\n\nconst PlayerSettings = ({desktop, hasBottomPanel}) => {\n  const sharedStyle = desktop ? dekstopStyle : style\n  const {\n    state: {isSettingsOpen},\n    dispatch,\n  } = useContext(Context.UI)\n  const [path, setPath] = useState('/')\n  const menuSections = useSettings()\n  const changeSettings = useChangeSettings()\n\n  useEffect(() => {\n    if (!isSettingsOpen) {\n      setPath('/')\n    }\n  }, [isSettingsOpen])\n\n  const ref = useRef()\n  useOnclickOutside(\n    () => {\n      if (isSettingsOpen) {\n        dispatch(Action.hideMenu())\n      }\n    },\n    {\n      refs: [ref],\n      eventTypes: ['click'],\n    }\n  )\n\n  return (\n    <div\n      css={[\n        sharedStyle.overlay,\n        isSettingsOpen && style.opening,\n        hasBottomPanel && {\n          bottom: '8em',\n        },\n      ]}\n    >\n      <div ref={ref} className=\"kks-player__menu\" css={sharedStyle.container}>\n        {path === '/' && (\n          <Fragment>\n            <div className=\"kks-player__menu-head\" css={sharedStyle.head}>\n              {!desktop && (\n                <button\n                  css={style.dismiss}\n                  onClick={() => dispatch(Action.hideMenu())}\n                />\n              )}\n              <FormattedMessage id=\"KKS.SETTING\" />\n            </div>\n            {menuSections.map(({section, title, items, selectedValue}) => {\n              const selectedName =\n                items.find(item => item.value === selectedValue)?.label ||\n                selectedValue\n\n              return (\n                <div\n                  css={[style.row, style.hasOptions]}\n                  key={section}\n                  onClick={() => setTimeout(() => setPath(`/${section}`), 1)}\n                >\n                  <FormattedMessage id={title} />\n                  <div css={[style.space]} />\n                  <MenuItemText text={selectedName} />\n                </div>\n              )\n            })}\n          </Fragment>\n        )}\n        {menuSections.map(\n          ({section, title, items, selectedValue}) =>\n            path === `/${section}` && (\n              <Fragment key={section}>\n                <div className=\"kks-player__menu-head\" css={sharedStyle.head}>\n                  <button\n                    css={style.back}\n                    onClick={() => setTimeout(() => setPath('/'), 1)}\n                  />\n                  <FormattedMessage id={title} />\n                </div>\n                <MenuSection\n                  key={section}\n                  sharedStyle={sharedStyle}\n                  {...{items, selectedValue}}\n                  onSelect={value => {\n                    dispatch(Action.hideMenu())\n                    if (value !== selectedValue) {\n                      changeSettings({section, value})\n                    }\n                  }}\n                />\n              </Fragment>\n            )\n        )}\n      </div>\n    </div>\n  )\n}\n\nPlayerSettings.propTypes = {\n  desktop: PropTypes.bool,\n  hasBottomPanel: PropTypes.bool,\n}\n\nexport default PlayerSettings\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\nimport shallow from 'zustand/shallow'\n\nimport useStore from 'player/store/useStore'\nimport {useOptions} from 'player/playerContext'\nimport getPlaybackInfo from 'player/store/getPlaybackInfo'\nimport useUiActions from 'player/store/useUiActions'\nimport {isDesktop} from 'util/environment'\nimport CoverImageWrap from 'player/container/CoverImageWrap'\nimport SimplePlayerUi from 'playerUi/index'\nimport AutoplayDialog from './AutoplayDialog'\nimport PlayerSettings from './PlayerSettings'\n\nconst PlayerUi = ({coverImageUrl, backRef}) => {\n  const {recommendation, toolPanels} = useOptions()\n\n  return (\n    <CoverImageWrap url={coverImageUrl}>\n      <SimplePlayerUi\n        type={isDesktop() ? 'desktop' : 'mobile'}\n        {...useStore(getPlaybackInfo, shallow)}\n        backRef={backRef}\n        toolPanels={toolPanels}\n        recommendation={recommendation}\n        {...useUiActions()}\n        haveBottomItem={Boolean(recommendation)}\n      >\n        <PlayerSettings\n          desktop={isDesktop()}\n          hasBottomPanel={Boolean(recommendation)}\n        />\n      </SimplePlayerUi>\n      <AutoplayDialog />\n    </CoverImageWrap>\n  )\n}\n\nPlayerUi.propTypes = {\n  coverImageUrl: PropTypes.string,\n  backRef: PropTypes.object,\n}\n\nexport default PlayerUi\n","import {useContext, useEffect} from 'react'\nimport _get from 'dlv'\n\nimport {Context} from 'player/store/index'\nimport PlayerAction from 'player/store/action/Player'\nimport APIAction from 'player/store/action/API'\nimport {useTimeout} from 'Hooks'\nimport {APIState} from 'Enum'\n\nconst SYNC_INTERVAL = 10000\n\nconst useSyncLinearInfo = () => {\n  const {\n    state: {apiState, content},\n    dispatch,\n  } = useContext(Context.API)\n  const [setTimeout, clearTimer] = useTimeout()\n\n  useEffect(() => {\n    if (apiState === APIState.READY && content.contentType === 'lives') {\n      if (_get(content, 'end')) {\n        dispatch(PlayerAction.pause())\n      } else {\n        setTimeout(() => dispatch(APIAction.refreshContent()), SYNC_INTERVAL)\n        return clearTimer\n      }\n    }\n  }, [content, apiState])\n}\n\nexport {useSyncLinearInfo}\n","import {useEffect, useContext} from 'react'\n\nimport useStore from 'player/store/useStore'\nimport {Context} from 'player/store/index'\nimport APIAction from 'player/store/action/API'\nimport UIAction from 'player/store/action/UI'\n\nconst getEndedStatus = ({Player, API}) => {\n  if (Player.ended) {\n    return 'ended'\n  }\n  const endStartSeconds =\n    API.content?.time?.endStart || Player.process?.duration - 10\n\n  return Player.progress?.progressTime >= endStartSeconds ? 'end-start' : 'none'\n}\n\nconst getAutoplayNextActive = state => {\n  const endStatus = getEndedStatus(state)\n  const {API, UI} = state\n\n  return (\n    Boolean(API.content?.recommend?.next) &&\n    ((endStatus === 'end-start' && UI.streamEvents.length === 0) ||\n      endStatus === 'ended')\n  )\n}\n\nconst getCurrentTime = ({Player}) => Player.progress?.progressTime\n\nconst useUpdateLastPlayed = () => {\n  const playStatus = useStore(({Player}) =>\n    Player.seeking ? 'seeking' : Player.isPlaying ? 'playing' : 'paused'\n  )\n  const progressTime = useStore(state => Math.floor(getCurrentTime(state) / 10))\n  const isVod = useStore(({API}) => API.content?.contentType === 'videos')\n  const store = useContext(Context.Adapter)\n\n  useEffect(() => {\n    if (isVod && playStatus !== 'seeking') {\n      store.dispatch(\n        APIAction.updateLastPlayedTime(\n          getCurrentTime(store.useStore.getState())\n        )\n      )\n    }\n  }, [playStatus, progressTime])\n}\n\nconst useUpdateEnded = () => {\n  const endStatus = useStore(getEndedStatus)\n  const store = useContext(Context.Adapter)\n\n  useEffect(() => {\n    if (endStatus === 'ended') {\n      store.dispatch(APIAction.updatePlayedEnd())\n    }\n  }, [endStatus === 'ended'])\n}\n\nconst useAutoPlayNext = ({enabled}) => {\n  const active = useStore(state => enabled && getAutoplayNextActive(state))\n  const store = useContext(Context.Adapter)\n\n  useEffect(() => {\n    if (active) {\n      store.dispatch(UIAction.offerAutoplay())\n    }\n  }, [active])\n}\n\nconst useVodHandlers = ({autoPlayNext}) => {\n  useUpdateLastPlayed()\n  useUpdateEnded()\n  useAutoPlayNext({enabled: autoPlayNext})\n}\n\nexport {useVodHandlers}\n","/* eslint-disable react/prop-types */\n/* @jsxImportSource @emotion/react */\nimport {\n  useRef,\n  forwardRef,\n  Fragment,\n  useEffect,\n  useContext,\n  useMemo,\n} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {filterHigherQualites} from 'playerCore/adaptation'\nimport Types from 'Types'\nimport {LanguageCode, CastState} from 'Enum'\nimport defaultConfig from 'config'\n\nimport StoreProvider, {Context} from 'player/store/index'\nimport UiAction from 'player/store/action/UI'\n\nimport CastAdapter from 'player/store/adapter/Cast'\nimport LimitOnePlaybackAdapter from 'player/store/adapter/LimitOnePlayback'\nimport LocalStorageAdapter from 'player/store/adapter/LocalStorage'\nimport APIAdapter from 'player/store/adapter/API/Service'\nimport EventAdapter from 'player/store/adapter/Event'\nimport Agent from 'player/store/adapter/Agent'\nimport EnvironmentValidator from 'player/store/adapter/EnvironmentValidator'\nimport MobileSafariPlugin from 'player/store/adapter/MobileSafariPlugin'\nimport OTP_1878 from 'player/store/adapter/OTP_1878'\nimport I18n from 'context/I18n'\nimport {useCastContext} from 'cast/context'\n\nimport DeviceDetecter from 'component/DeviceDetecter'\nimport PlayerVideo from './PlayerVideo'\nimport PlayerUi from './container/PlayerUi'\nimport {PlayerProvider} from './playerContext'\nimport {useSyncLinearInfo} from './linear'\nimport {useVodHandlers} from './vod'\nimport createStore from './store/createStore'\n\nconst containerStyle = {\n  userSelect: 'none',\n  position: 'relative',\n  display: 'block',\n  width: '100%',\n  height: '100%',\n  fontSize: '16px',\n}\n\n// TODO: these are totally nothing to do with UI structures\n// and should be refactored into custom hooks\nconst PlaybackHooks = ({\n  host,\n  accessToken,\n  deviceId,\n  content,\n  customHeader,\n  customQuery,\n  preload,\n  autoPlayNext,\n  mediaSource,\n  thumbnailSeeking,\n  supportEnvironmentList,\n  limitOnePlaybackAtSameTime,\n  recommendation,\n\n  playerRef,\n  containerRef,\n  onError,\n  onBack,\n  onMediaSourceChanged,\n  onViewModeChange,\n  onEnterFullscreen,\n  onExitFullscreen,\n  onReplay,\n  onChangeVideo,\n  onChangeToNextVideo,\n  onChangeToPreviousVideo,\n  onSectionChange,\n}) => {\n  const {castState} = useCastContext().state\n  const {dispatch} = useContext(Context.Module)\n  useSyncLinearInfo()\n  useVodHandlers({autoPlayNext})\n\n  useEffect(() => {\n    if (recommendation) {\n      dispatch(UiAction.enableRecommendationPanel())\n    } else {\n      dispatch(UiAction.disableRecommendationPanel())\n    }\n  }, [Boolean(recommendation)])\n\n  useEffect(() => {\n    if (thumbnailSeeking) {\n      dispatch(UiAction.enableThumbnailSeeking())\n    } else {\n      dispatch(UiAction.disableThumbnailSeeking())\n    }\n  }, [Boolean(thumbnailSeeking)])\n\n  return (\n    <Fragment>\n      {castState !== CastState.CONNECTED && (\n        <APIAdapter\n          host={host}\n          accessToken={accessToken}\n          deviceId={deviceId}\n          content={content}\n          customHeader={customHeader}\n          customQuery={customQuery}\n          preferredConfig={{\n            needThumbnailSeeking: thumbnailSeeking,\n            preferredMediaSource: mediaSource,\n          }}\n        />\n      )}\n      <LocalStorageAdapter />\n      <LimitOnePlaybackAdapter enabled={limitOnePlaybackAtSameTime} />\n\n      <EventAdapter\n        content={content}\n        onError={onError}\n        onBack={onBack}\n        onReplay={onReplay}\n        onMediaSourceChanged={onMediaSourceChanged}\n        onChangeVideo={onChangeVideo}\n        onChangeToNextVideo={onChangeToNextVideo}\n        onChangeToPreviousVideo={onChangeToPreviousVideo}\n        onSectionChange={onSectionChange}\n      />\n      {castState !== CastState.CONNECTED && (\n        <Agent preload={preload} playerRef={playerRef} />\n      )}\n      <EnvironmentValidator supportEnvironmentList={supportEnvironmentList} />\n      <CastAdapter\n        content={content}\n        mediaSource={mediaSource}\n        customQuery={customQuery}\n      />\n      <DeviceDetecter>\n        {({os: {name}}) =>\n          name === 'iOS' && (\n            <MobileSafariPlugin\n              containerRef={containerRef}\n              onViewModeChange={onViewModeChange}\n              onEnterFullscreen={onEnterFullscreen}\n              onExitFullscreen={onExitFullscreen}\n            />\n          )\n        }\n      </DeviceDetecter>\n      <DeviceDetecter>\n        {({os: {name}, touchable}) =>\n          name === 'Mac OS' && touchable && <OTP_1878 />\n        }\n      </DeviceDetecter>\n    </Fragment>\n  )\n}\n\n// eslint-disable-next-line react/display-name\nconst Player = forwardRef(\n  (\n    {\n      licenseKey,\n      config = defaultConfig.BitmovinConfig,\n      host,\n      accessToken,\n      deviceId,\n      content,\n      customHeader = {},\n      customQuery = {},\n      lang = LanguageCode.EN,\n      langCustomCode = {},\n      preload = 'auto',\n      autoPlay,\n      autoPlayNext,\n      startTime,\n      quality,\n      mediaSource,\n      thumbnailSeeking,\n      supportEnvironmentList,\n      limitOnePlaybackAtSameTime,\n      recommendation,\n      toolPanels = [],\n      coverImageUrl,\n      widevine,\n      plugins = [],\n      drm,\n\n      onSourceLoaded,\n      onReady,\n      onPlay,\n      onPaused,\n      onPlaying,\n      onEnded,\n      onError,\n      onBack,\n      onTimeChanged,\n      onSeek,\n      onSeeked,\n      onVolumeChanged,\n      onMuted,\n      onUnmuted,\n      onVideoQualityChanged = filterHigherQualites,\n      onMediaSourceChanged,\n      onViewModeChange,\n      onEnterFullscreen,\n      onExitFullscreen,\n      onStallStarted,\n      onStallEnded,\n      onReplay,\n      onChangeVideo,\n      onChangeToNextVideo,\n      onChangeToPreviousVideo,\n      onLogging,\n      onSectionChange,\n    },\n    ref\n  ) => {\n    const videoRef = useRef()\n    const containerRef = useRef()\n    const adContainerRef = useRef()\n    const options = {\n      host,\n      accessToken,\n      deviceId,\n      content,\n      customHeader,\n      customQuery,\n      lang,\n      langCustomCode,\n      preload,\n      autoPlay,\n      autoPlayNext,\n      quality,\n      mediaSource,\n      thumbnailSeeking,\n      supportEnvironmentList,\n      limitOnePlaybackAtSameTime,\n      recommendation,\n      toolPanels,\n      plugins,\n    }\n    const store = useMemo(() => createStore(), [])\n\n    return (\n      <div className=\"kks-player\" css={containerStyle} ref={containerRef}>\n        <PlayerProvider\n          videoRef={videoRef}\n          content={content}\n          options={options}\n          uiRef={containerRef}\n          sendLog={onLogging}\n        >\n          <StoreProvider store={store} options={options}>\n            <PlayerVideo\n              licenseKey={licenseKey}\n              config={config}\n              autoPlay={autoPlay || preload === 'none'}\n              startTime={startTime}\n              quality={quality}\n              containerRef={containerRef}\n              widevine={widevine}\n              drm={drm}\n              plugins={plugins}\n              onSourceLoaded={onSourceLoaded}\n              onReady={onReady}\n              onPlay={onPlay}\n              onPaused={onPaused}\n              onPlaying={onPlaying}\n              onEnded={onEnded}\n              onTimeChanged={onTimeChanged}\n              onSeek={onSeek}\n              onSeeked={onSeeked}\n              onVolumeChanged={onVolumeChanged}\n              onMuted={onMuted}\n              onUnmuted={onUnmuted}\n              onViewModeChange={onViewModeChange}\n              onEnterFullscreen={onEnterFullscreen}\n              onExitFullscreen={onExitFullscreen}\n              onVideoQualityChanged={onVideoQualityChanged}\n              onStallStarted={onStallStarted}\n              onStallEnded={onStallEnded}\n              adContainerRef={adContainerRef}\n            />\n            <I18n.Provider lang={lang} langCustomCode={langCustomCode}>\n              <PlayerUi\n                coverImageUrl={coverImageUrl}\n                backRef={adContainerRef}\n              />\n            </I18n.Provider>\n            <PlaybackHooks\n              {...{\n                ...options,\n                playerRef: ref,\n                containerRef,\n                onError,\n                onBack,\n                onMediaSourceChanged,\n                onViewModeChange,\n                onEnterFullscreen,\n                onExitFullscreen,\n                onReplay,\n                onChangeVideo,\n                onChangeToNextVideo,\n                onChangeToPreviousVideo,\n                onSectionChange,\n              }}\n            />\n          </StoreProvider>\n        </PlayerProvider>\n      </div>\n    )\n  }\n)\n\nPlayer.propTypes = {\n  licenseKey: PropTypes.string.isRequired,\n  host: PropTypes.string,\n  accessToken: PropTypes.string,\n  deviceId: PropTypes.string,\n  content: Types.VideoInfo,\n  lang: Types.LanguageCode,\n  langCustomCode: PropTypes.object,\n  customHeader: PropTypes.object,\n  customQuery: PropTypes.object,\n  thumbnailSeeking: PropTypes.bool,\n  limitOnePlaybackAtSameTime: PropTypes.bool,\n  preload: PropTypes.oneOf(['auto', 'none']),\n  autoPlay: PropTypes.bool,\n  autoPlayNext: PropTypes.bool,\n  startTime: PropTypes.number,\n  quality: PropTypes.object,\n  mediaSource: PropTypes.string,\n  supportEnvironmentList: PropTypes.arrayOf(Types.SupportEnvironmentItem),\n  config: PropTypes.object,\n  toolPanels: PropTypes.array,\n  recommendation: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n  coverImageUrl: PropTypes.string,\n  widevine: PropTypes.string,\n  plugins: PropTypes.array,\n\n  onError: PropTypes.func,\n  onSourceLoaded: PropTypes.func,\n  onReady: PropTypes.func,\n  onPlay: PropTypes.func,\n  onPlaying: PropTypes.func,\n  onSeek: PropTypes.func,\n  onSeeked: PropTypes.func,\n  onPaused: PropTypes.func,\n  onTimeChanged: PropTypes.func,\n  onVolumeChanged: PropTypes.func,\n  onMuted: PropTypes.func,\n  onUnmuted: PropTypes.func,\n  onStallStarted: PropTypes.func,\n  onStallEnded: PropTypes.func,\n  onReplay: PropTypes.func,\n  onVideoQualityChanged: PropTypes.func,\n  onMediaSourceChanged: PropTypes.func,\n  onEnded: PropTypes.func,\n  onEnterFullscreen: PropTypes.func,\n  onExitFullscreen: PropTypes.func,\n  onViewModeChange: PropTypes.func,\n  onChangeVideo: PropTypes.func,\n  onChangeToNextVideo: PropTypes.func,\n  onChangeToPreviousVideo: PropTypes.func,\n  onBack: PropTypes.func,\n  onSectionChange: PropTypes.func,\n  onSourceUnloaded: PropTypes.func,\n  onLogging: PropTypes.func,\n}\n\nexport default Player\n","import {forwardRef} from 'react'\nimport {getEnterpriseDrmConfig} from 'playerCore/drm'\nimport DefaultPlayer from 'player'\n\nconst EnterprisePlayer = forwardRef((props, ref) => (\n  <DefaultPlayer\n    {...{\n      drm: getEnterpriseDrmConfig,\n      ...props,\n    }}\n    ref={ref}\n  />\n))\n\nexport {EnterprisePlayer as Player}\n","/** @param {string} m3u8Manifest */\nconst getManifestUrl = ({url, data}) => {\n  const lines = data.split('\\n')\n  const i = lines.findIndex(line => line.startsWith('#EXT-X-STREAM-INF'))\n  return i >= 0 ? new URL(lines[i + 1], url) : ''\n}\n\n/** @param {string} url */\nconst fetchManifests = async url => {\n  if (!url.toString().split('?')[0].endsWith('.m3u8')) {\n    return fetch(url)\n  }\n  const data = await fetch(url).then(result => result.text())\n  const innerUrl = getManifestUrl({url, data})\n  return innerUrl && fetchManifests(innerUrl)\n}\n\nexport default fetchManifests\n","/* eslint-disable class-methods-use-this */\n/* eslint-disable no-underscore-dangle */\nconst _IsNumber = value => typeof value === 'number' && value >= 0\n\nconst AD_TIME_EVENT_TYPE = [\n  'impression',\n  'start',\n  'firstQuartile',\n  'midpoint',\n  'thirdQuartile',\n  'complete',\n]\n\nconst doNothing = () => {}\n\nconst getSkipTimeOffset = ad => {\n  if (!ad.skipOffset) {\n    return\n  }\n  const percentageOffset = (ad.skipOffset?.match(/\\d+/)?.[0] || 0) / 100\n  // 00:01:07 -> 67\n  const timeOffset = (ad.skipOffset?.match(/(\\d+):(\\d+):(\\d+)/) || [])\n    .slice(1, 4)\n    .reduce((last, time) => last * 60 + +time, 0)\n  return (\n    ad.startTimeInSeconds + timeOffset + ad.durationInSeconds * percentageOffset\n  )\n}\n\nconst inRange = ({startTimeInSeconds, durationInSeconds}, time) =>\n  startTimeInSeconds <= time && time <= startTimeInSeconds + durationInSeconds\n\nconst getCurrentAd = (adBreak, streamTime) =>\n  (adBreak?.ads || []).find(ad => inRange(ad, streamTime)) || {}\n\nconst adEventData = (instance, ad) => {\n  const streamTime = instance._common.currentPosition\n  const currentAd = getCurrentAd(ad, streamTime)\n\n  return {\n    getAd: () => ({\n      getSkipTimeOffset: () => getSkipTimeOffset(currentAd),\n    }),\n    getStreamData: () => {\n      const adItems = [].concat(\n        ...instance.waitingForPlayAds.map(avail => avail.ads)\n      )\n      const adPosition =\n        1 + adItems.findIndex(item => inRange(item, streamTime))\n      const adProgressData = {\n        adPosition,\n        totalAds: adItems.length,\n        currentTime: streamTime - currentAd.startTimeInSeconds,\n        duration: currentAd.durationInSeconds,\n        clickThroughUrl: currentAd.trackingEvents?.find(\n          event => event.eventType === 'clickThrough'\n        )?.beaconUrls[0],\n      }\n\n      return {adProgressData}\n    },\n  }\n}\n\nexport default class Impression {\n  constructor({\n    seek,\n    onAdBreakStarted = doNothing,\n    onAdProgress = doNothing,\n    onAdBreakEnded = doNothing,\n    onSkippableStateChanged = doNothing,\n  } = {}) {\n    this._common = {\n      adBreaks: [],\n      currentPosition: -1,\n      seek,\n      onAdBreakStarted,\n      onAdProgress,\n      onSkippableStateChanged,\n      onAdBreakEnded,\n    }\n\n    this.currentAd = null\n    this.waitingForPlayAds = []\n    this.waitingForPlayAdIndex = null\n    this.resumeUserSeekTime = null\n    this.resumeAdStartTime = null\n    this.isResumed = null\n    this.checkAdEventProcess = null\n  }\n\n  /**\n   * @description\n   * @param {object[]} value\n   */\n  set adBreaks(value) {\n    this._common.adBreaks = value\n\n    if (_IsNumber(value.length)) this.checkAdCueTone()\n  }\n\n  /**\n   * @description when position is updated, check if ad is started or ended\n   * @param {number} value current position in seconds\n   */\n  set currentPosition(value) {\n    this._common.currentPosition = value\n\n    if (_IsNumber(this._common.adBreaks.length)) this.checkAdCueTone()\n  }\n\n  // TODO: send ad status (current ad index, count, total duration)\n\n  getAdIndex(target) {\n    if (!target) return null\n\n    return this._common.adBreaks.findIndex(ad => ad.availId === target.availId)\n  }\n\n  // \n  getActiveAdIndex(time) {\n    const {adBreaks = []} = this._common\n    const index = adBreaks.findIndex(ad => {\n      const {startTime, endTime} = this.getAdTimingInfo(ad)\n\n      return time >= startTime && time <= endTime\n    })\n    const position = (adBreaks[index]?.ads || []).findIndex(ad =>\n      inRange(ad, time)\n    )\n\n    return {index, position}\n  }\n\n  // \n  isWithinTimeRange(target, startTime, endTime) {\n    return target >= startTime && target <= endTime\n  }\n\n  // /\n  getAdTimingInfo(adInfo = {}) {\n    const adStartTime = adInfo.startTimeInSeconds || 0\n    const adDuration = adInfo.durationInSeconds || 0\n\n    return {\n      startTime: adStartTime,\n      endTime: adStartTime + adDuration,\n    }\n  }\n\n  // \n  getSkippedAds(time) {\n    return this._common.adBreaks.filter(\n      ad =>\n        this._common.currentPosition <= ad.startTimeInSeconds &&\n        ad.startTimeInSeconds <= time &&\n        !ad.isFired\n    )\n  }\n\n  setAdIsFiredByIndex() {}\n\n  checkAdCueTone() {\n    const {adBreaks, currentPosition, seek} = this._common\n    const {index: activeAdIndex, position} = this.getActiveAdIndex(\n      currentPosition\n    )\n\n    if (this.currentAd) {\n      if (!this.checkAdEventProcess) {\n        this.checkAdEventProcess = this.checkAdEvent()\n      }\n      this.checkAdEventProcess({index: activeAdIndex, position})\n    }\n\n    if (this.waitingForPlayAds.length > 0) {\n      const {\n        startTime: currentAdStartTime,\n        endTime: currentAdEndTime,\n      } = this.getAdTimingInfo(this.currentAd)\n      const isAdStillPlaying = this.isWithinTimeRange(\n        currentPosition,\n        currentAdStartTime,\n        currentAdEndTime\n      )\n\n      if (!isAdStillPlaying) {\n        // Ad finished\n        const nextAd = this.waitingForPlayAds[\n          `${this.waitingForPlayAdIndex + 1}`\n        ]\n\n        if (\n          currentPosition <\n          this.currentAd.startTimeInSeconds + this.currentAd.durationInSeconds\n        )\n          return\n\n        if (nextAd) {\n          // have non-played & skipped Ad\n          const adIndex = this.getAdIndex(this.currentAd)\n          const {startTime: nextAdStartTime} = this.getAdTimingInfo(nextAd)\n\n          this.setAdIsFiredByIndex(adIndex)\n          this.updateWaitingForPlayIndex(this.waitingForPlayAdIndex + 1)\n          this.updateCurrentAd(nextAd)\n          seek?.(nextAdStartTime)\n        } else {\n          // don't have non-played Ad\n          const adIndex = this.getAdIndex(this.currentAd)\n          this.setAdIsFiredByIndex(adIndex)\n          this.updateWaitingForPlayAds([])\n          this.updateWaitingForPlayIndex(null)\n          this.updateCurrentAd(null)\n          _IsNumber(this.resumeUserSeekTime) && seek?.(this.resumeUserSeekTime)\n          this.resumeUserSeekTime = null\n        }\n      }\n    } else if (activeAdIndex !== -1) {\n      if (!adBreaks[activeAdIndex].isFired) {\n        this.updateWaitingForPlayIndex(0)\n        this.updateWaitingForPlayAds(\n          adBreaks.slice(activeAdIndex, activeAdIndex + 1)\n        )\n        this.updateCurrentAd(adBreaks[activeAdIndex])\n      } else {\n        // in Ad duration but Ad was played\n        this.updateCurrentAd(adBreaks[`${activeAdIndex}`] || {})\n      }\n    } else {\n      // not in Ad duration\n      this.updateCurrentAd(null)\n    }\n  }\n\n  checkAdEvent() {\n    const state = {\n      lastPosition: undefined,\n      isSkippableEventFired: false,\n    }\n\n    return ({index, position}) => {\n      const streamTime = this._common.currentPosition\n      const currentBreak = this._common.adBreaks[index]\n      const currentAd = currentBreak?.ads[position]\n      if (!currentAd) {\n        return\n      }\n      if (position !== state.lastPosition) {\n        this._common.onAdProgress?.(adEventData(this, currentBreak))\n        Object.assign(state, {\n          lastPosition: position,\n          isSkippableEventFired: false,\n          trackingTypes: AD_TIME_EVENT_TYPE.slice(),\n        })\n      }\n      if (\n        !state.isSkippableEventFired &&\n        streamTime >= getSkipTimeOffset(currentAd)\n      ) {\n        state.isSkippableEventFired = true\n        this._common.onSkippableStateChanged({\n          getAd: () => ({isSkippable: () => true}),\n        })\n      }\n      if (!_IsNumber(streamTime) || currentAd.trackingEvents?.length <= 0)\n        return\n\n      currentAd.trackingEvents?.forEach(e => {\n        const {\n          eventType = '',\n          beaconUrls = [],\n          startTimeInSeconds = 0,\n          isFired,\n        } = e\n        const adEventIndex = state.trackingTypes.findIndex(\n          type => type === eventType\n        )\n\n        if (\n          !isFired &&\n          beaconUrls.length > 0 &&\n          streamTime >= startTimeInSeconds &&\n          adEventIndex !== -1\n        ) {\n          beaconUrls.forEach(url => {\n            fetch(url)\n          })\n          state.trackingTypes.splice(adEventIndex, 1)\n        }\n      })\n    }\n  }\n\n  /**\n   * @description To snapback if seeking over some ads\n   * @param {number} to\n   */\n  onSeek(to) {\n    const {adBreaks} = this._common\n    const skippedAds = this.getSkippedAds(to)\n    const seekTargetAdIndex = this.getActiveAdIndex(to)\n\n    if (!adBreaks || adBreaks.length <= 0) return\n\n    if (this.currentAd) {\n      // it's resume seek for seek to adStartTime\n    } else if (skippedAds.length > 0) {\n      this.updateWaitingForPlayAds(skippedAds)\n      this.updateWaitingForPlayIndex(0)\n      this.resumeUserSeekTime = seekTargetAdIndex === -1 ? to : null\n    } else if (\n      seekTargetAdIndex !== -1 &&\n      !_IsNumber(this.resumeAdStartTime) &&\n      !this.isResumed\n    ) {\n      const {startTime} = this.getAdTimingInfo(adBreaks[seekTargetAdIndex])\n      this.resumeAdStartTime = startTime\n    }\n  }\n\n  /** @description to seek to next ad after snapback */\n  onSeeked() {\n    const {adBreaks, seek} = this._common\n\n    if (!adBreaks || adBreaks.length <= 0) return\n\n    if (this.waitingForPlayAds.length > 0 && !this.currentAd) {\n      const nextAd =\n        this.waitingForPlayAds[`${this.waitingForPlayAdIndex}`] || {}\n      const {startTime: nextAdStartTime} = this.getAdTimingInfo(nextAd)\n\n      seek?.(nextAdStartTime)\n      this.updateCurrentAd(nextAd)\n    } else if (this.currentAd) {\n      // seek ended, playing skipped ad\n    } else if (_IsNumber(this.resumeAdStartTime)) {\n      _IsNumber(this.resumeAdStartTime) && seek?.(this.resumeAdStartTime)\n      this.resumeAdStartTime = null\n      this.isResumed = true\n    } else {\n      this.isResumed = false\n    }\n  }\n\n  updateCurrentAd(ad) {\n    if (!this.currentAd && ad) {\n      this._common.onAdBreakStarted?.(adEventData(this, ad))\n    } else if (this.currentAd && !ad) {\n      this._common.onAdBreakEnded?.({\n        getStreamData: () => this.getStreamData(),\n      })\n    }\n    this.currentAd = ad\n\n    if (!ad) {\n      this.checkAdEventProcess = null\n    }\n  }\n\n  updateWaitingForPlayAds(ads) {\n    this.waitingForPlayAds = ads.slice()\n  }\n\n  updateWaitingForPlayIndex(index) {\n    this.waitingForPlayAdIndex = index\n  }\n\n  /** @description mark all ads as played */\n  setAllAdsFired() {\n    this._common.adBreaks = this._common.adBreaks.map(ad => ({\n      ...ad,\n      isFired: true,\n    }))\n\n    this.updateWaitingForPlayAds([])\n    this.updateWaitingForPlayIndex(null)\n    this.updateCurrentAd(null)\n  }\n\n  /** @description clear data */\n  reset() {\n    this._common = {\n      adBreaks: [],\n      currentPosition: -1,\n      seek: null,\n    }\n\n    this.currentAd = null\n    this.waitingForPlayAds = []\n    this.waitingForPlayAdIndex = null\n    this.resumeUserSeekTime = null\n    this.resumeAdStartTime = null\n    this.isResumed = null\n    this.checkAdEventProcess = null\n  }\n\n  /** @description clear ad status */\n  resetSession() {\n    this._common = {\n      ...this._common,\n      currentPosition: 0,\n    }\n    this.resumeUserSeekTime = null\n    this.resumeAdStartTime = null\n    this.isResumed = null\n\n    this.updateWaitingForPlayAds([])\n    this.updateWaitingForPlayIndex(null)\n    this.updateCurrentAd(null)\n  }\n}\n","const getLastAd = (avails, streamTime) =>\n  avails.reduce(\n    (current, item) =>\n      current.startTimeInSeconds <= item.startTimeInSeconds &&\n      item.startTimeInSeconds <= streamTime\n        ? item\n        : current,\n    {startTimeInSeconds: 0, durationInSeconds: 0}\n  )\n\nconst getStreamTime = (avails, contentTime) =>\n  avails.reduce(\n    (time, item) =>\n      time + (time > item.startTimeInSeconds ? item.durationInSeconds : 0),\n    contentTime\n  )\n\nconst getContentTime = (avails, streamTime) =>\n  streamTime -\n  avails\n    .filter(item => item.startTimeInSeconds <= streamTime)\n    .map(item =>\n      Math.min(streamTime - item.startTimeInSeconds, item.durationInSeconds)\n    )\n    .reduce((a, b) => a + b, 0)\n\nexport {getLastAd, getStreamTime, getContentTime}\n","const seekingHandler = handleSeeking => {\n  const ref = {}\n  return video => {\n    if (\n      !(Math.abs(video.currentTime - ref.originTime) > 0.5) ||\n      video.webkitPresentationMode !== 'fullscreen'\n    ) {\n      ref.originTime = video.currentTime\n      return\n    }\n    handleSeeking({\n      originTime: ref.originTime,\n      seekTime: video.currentTime,\n    })\n    ref.originTime = video.currentTime\n  }\n}\n\nexport default seekingHandler\n","import mitt from 'mitt'\nimport axios from 'axios'\nimport fetchManifests from 'playerCore/fetchManifests'\nimport Impression from 'ad/impression'\nimport {getLastAd, getStreamTime, getContentTime} from 'ad/vast'\nimport seekingHandler from 'ad/seekingHandler'\n\nconst addFetchPolyfill = () => {\n  window.fetch = async (url, {method} = {}) => {\n    const result = await axios(url, {method})\n    return Promise.resolve({json: () => result.data})\n  }\n}\n\nconst fetchStreamInfo = async url =>\n  fetch(url, {method: 'POST'}).then(result => result.json())\n\nconst on = (eventTarget, eventName, handler) => {\n  eventTarget.addEventListener(eventName, handler)\n  return () => eventTarget.removeEventListener(eventName, handler)\n}\n\nconst once = (eventTarget, eventName, handler) => {\n  const listener = (...args) => {\n    eventTarget.removeEventListener(eventName, listener)\n    return handler(...args)\n  }\n  eventTarget.addEventListener(eventName, listener)\n}\n\nconst seekVideo = (videoElement, streamTime) => {\n  // eslint-disable-next-line no-param-reassign\n  videoElement.currentTime = streamTime\n}\n\nconst initialState = {\n  currentTime: 0,\n  adBreaks: [],\n  mpdStartTime: 0,\n  isUserSkipAd: false,\n  skipAdEndTime: 0,\n}\n\nconst getAdEndTime = (streamData, videoElement) => {\n  const {currentTime, duration} = streamData.adProgressData\n  return videoElement.currentTime + duration - currentTime\n}\n\nconst pipeEvent = (emitter, type) => event =>\n  emitter.emit(type, {\n    type,\n    getAd: () => event.getAd(),\n    getStreamData: () => event.getStreamData(),\n  })\n\nconst getMpdStartTime = manifest => {\n  const mpdDocument = new DOMParser().parseFromString(manifest, 'text/xml')\n  const availabilityStartTime = mpdDocument.firstChild.getAttribute(\n    'availabilityStartTime'\n  )\n  return new Date(availabilityStartTime).getTime() / 1000\n}\n\nconst snapback = ({streamManager, originTime, seekTime, seek}) => {\n  const cuePoint = streamManager?.previousCuePointForStreamTime(seekTime)\n  if (seekTime > cuePoint?.end && seekTime > originTime) {\n    once(streamManager, 'adBreakEnded', async () => {\n      // wait for ad playing flag to clear before resuming, TODO seek earlier\n      await new Promise(resolve => setTimeout(resolve, 20))\n      seek(seekTime)\n    })\n  }\n  seek(cuePoint?.start > originTime ? cuePoint.start : seekTime)\n}\n\n// Align to Google DAI StreamManager\nconst createStreamManager = (videoElement, {player, emitter}) => {\n  let state = initialState\n  const streamData = {}\n\n  const impression = new Impression({\n    seek: streamTime => seekVideo(videoElement, streamTime),\n    onAdBreakStarted: pipeEvent(emitter, 'adBreakStarted'),\n    onAdProgress: event => {\n      state.adEndTime = getAdEndTime(event.getStreamData(), videoElement)\n      pipeEvent(emitter, 'adProgress')(event)\n    },\n    onSkippableStateChanged: pipeEvent(emitter, 'skippableStateChanged'),\n    onAdBreakEnded: pipeEvent(emitter, 'adBreakEnded'),\n  })\n\n  const previousCuePointForStreamTime = streamTime => {\n    const ad = getLastAd(state.adBreaks, streamTime - 0.1 - state.mpdStartTime)\n    if (ad.durationInSeconds > 0) {\n      const start = ad.startTimeInSeconds\n      const end = start + ad.durationInSeconds\n      return {start, end, played: state.played[ad.availId]}\n    }\n    return undefined\n  }\n\n  emitter.on('adBreakEnded', () => {\n    state.adEndTime = -1\n    const ad = getLastAd(state.adBreaks, videoElement.currentTime)\n    state.played[ad.availId] = true\n  })\n\n  const refreshTrackingData = async () => {\n    if (!streamData.trackingUrl) {\n      return\n    }\n    const trackingData = (await fetch(streamData.trackingUrl).then(result =>\n      result.json()\n    )) || {avails: []}\n    state.adBreaks = trackingData.avails || []\n    if (trackingData.avails.length > 0) {\n      impression.adBreaks = state.adBreaks\n      emitter.emit('cuepointsChanged', {\n        getStreamData: () => ({\n          cuepoints: state.adBreaks.map(item => ({\n            start: getContentTime(state.adBreaks, item.startTimeInSeconds),\n          })),\n        }),\n      })\n    }\n  }\n\n  const handleTimeUpdate = streamTime => {\n    // TODO get tracking events with actual buffer length\n    if (player.isLive() && streamTime > state.currentTime + 5) {\n      state.currentTime = streamTime\n      refreshTrackingData()\n    }\n\n    // workaround_OTP_2813\n    if (state.isUserSkipAd) {\n      // 0.1 is magic number for float-point\n      if (state.skipAdEndTime + 0.1 >= streamTime) {\n        return\n      }\n      state.isUserSkipAd = false\n      state.skipAdEndTime = -1\n    }\n    impression.currentPosition = streamTime - state.mpdStartTime\n  }\n\n  const streamManager = {\n    requestStream: async (options = {}) => {\n      const reportingUrl = options.client_side_reporting_url\n      const info = await fetchStreamInfo(reportingUrl).catch(error => ({error}))\n      if (!info || info.error) {\n        return\n      }\n      streamData.trackingUrl = new URL(\n        info.trackingUrl,\n        reportingUrl\n      ).toString()\n      streamData.url = new URL(info.manifestUrl, reportingUrl).toString()\n      // tracking events are available only after manifests are requested\n      await fetchManifests(streamData.url)\n      await refreshTrackingData()\n      emitter.emit('loaded', {getStreamData: () => streamData})\n      state.played = {}\n    },\n    addEventListener: (eventName, handler) => emitter.on(eventName, handler),\n    removeEventListener: (eventName, handler) =>\n      emitter.off(eventName, handler),\n    streamTimeForContentTime: contentTime =>\n      getStreamTime(state.adBreaks, contentTime),\n    contentTimeForStreamTime: streamTime =>\n      getContentTime(state.adBreaks, streamTime),\n    previousCuePointForStreamTime,\n    skipAd: () => {\n      if (state.adEndTime > 0) {\n        // workaround_OTP_2813\n        const seekTime = state.adEndTime\n        handleTimeUpdate(state.adEndTime)\n        state.isUserSkipAd = true\n        state.skipAdEndTime = seekTime\n\n        player?.seek(seekTime, 'internal')\n      }\n    },\n    setMpdStartTime: time => {\n      state.mpdStartTime = time\n    },\n    getVastAvails: () => state.adBreaks,\n    reset: () => {\n      state.registered.forEach(removeListener => removeListener())\n      impression.reset()\n      state = initialState\n      streamData.trackingUrl = ''\n    },\n  }\n\n  const handleSeeking = seekingHandler(({originTime, seekTime}) => {\n    if (state.adEndTime > 0) {\n      seekVideo(videoElement, originTime)\n      return\n    }\n    const diff = seekTime - originTime\n    if (Math.abs(diff + 15) <= 0.25) {\n      seekVideo(\n        videoElement,\n        getStreamTime(\n          state.adBreaks,\n          getContentTime(state.adBreaks, originTime) + diff\n        )\n      )\n      return\n    }\n    snapback({\n      streamManager,\n      originTime,\n      seekTime,\n      seek: streamTime => {\n        if (Math.abs(videoElement.currentTime - streamTime) > 0.5) {\n          seekVideo(videoElement, streamTime)\n        }\n      },\n    })\n  })\n\n  state.registered = [\n    on(videoElement, 'timeupdate', () => {\n      handleSeeking(videoElement)\n      if (!videoElement.paused) {\n        handleTimeUpdate(videoElement.currentTime)\n      }\n    }),\n    on(videoElement, 'ended', () => handleTimeUpdate(Infinity)),\n  ]\n\n  return streamManager\n}\n\nconst init = (options, {skipWatched}) => {\n  const {player, video, streamManager} = options\n  const ref = {player, video, streamManager}\n  streamManager.addEventListener('adProgress', event => {\n    ref.adEndTime = getAdEndTime(event.getStreamData(), ref.video)\n  })\n  streamManager.addEventListener('adBreakEnded', () => {\n    ref.adEndTime = -1\n  })\n  player?.on?.('sourceloaded', () => {\n    if (player.manifest.dash && player.isLive()) {\n      // ad start / end time is based on availabilityStartTime in MPD manifest\n      streamManager.setMpdStartTime(getMpdStartTime(player.getManifest()))\n    }\n  })\n  if (skipWatched) {\n    video.addEventListener('timeupdate', () => {\n      const streamTime = video.currentTime\n      const cuePoint = streamManager.previousCuePointForStreamTime(\n        streamTime + 0.5\n      )\n      if (cuePoint?.end > streamTime && cuePoint.played) {\n        player?.seek(cuePoint.end, 'internal')\n      }\n    })\n  }\n  return ref\n}\n\nconst MediaTailorPlugin = ({skipWatched} = {}) => {\n  const emitter = mitt()\n  let ref = {}\n\n  return {\n    load: async (manifestItem, {player, video} = {}) => {\n      if (typeof fetch !== 'function') {\n        addFetchPolyfill()\n      }\n      ref.streamManager?.reset()\n      const mediaTailorOptions = manifestItem.ssai?.media_tailor\n      if (!mediaTailorOptions) {\n        return manifestItem\n      }\n      const streamManager = createStreamManager(video, {player, emitter})\n      ref = init({player, video, streamManager}, {skipWatched})\n      streamManager.requestStream(mediaTailorOptions)\n      const {url} = await new Promise(resolve =>\n        once(streamManager, 'loaded', event => resolve(event.getStreamData()))\n      )\n      if (!url) {\n        console.warn('Ad stream is not available, use fallback stream instead')\n        return manifestItem\n      }\n\n      return {\n        ...manifestItem,\n        ssaiProvider: 'AWS',\n        url,\n        vastAvails: streamManager.getVastAvails(),\n        startTime: streamManager.streamTimeForContentTime(\n          manifestItem.startTime\n        ),\n      }\n    },\n    handleSeek: (contentTime, seek) => {\n      if (!ref.streamManager) {\n        return seek(contentTime)\n      }\n      snapback({\n        streamManager: ref.streamManager,\n        originTime: ref.video.currentTime,\n        seekTime: ref.streamManager.streamTimeForContentTime(contentTime),\n        seek,\n      })\n    },\n    skipAd: () => ref.streamManager.skipAd(),\n    getPlaybackStatus: () =>\n      ref.streamManager && {\n        currentTime: ref.streamManager.contentTimeForStreamTime(\n          ref.video.currentTime\n        ),\n        duration: ref.streamManager.contentTimeForStreamTime(\n          ref.video.duration\n        ),\n        ...(ref.adEndTime > 0 && {\n          adRemainingTime: ref.adEndTime - ref.video.currentTime,\n        }),\n      },\n    on: (name, listener) => emitter.on(name, listener),\n    reset: () => {\n      ref.streamManager?.reset()\n      ref.streamManager = undefined\n    },\n  }\n}\n\nexport default MediaTailorPlugin\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\n\nimport {button} from 'style'\n\nconst barStyle = {\n  padding: '36px 18px',\n  // Prevent overflow when content text is too long\n  minWidth: 0,\n  display: 'flex',\n  flexWrap: 'wrap',\n  alignItems: 'center',\n  '> *': {\n    // margin: '0 18px' might override seekbar margin\n    marginLeft: '18px',\n    marginRight: '18px',\n  },\n  opacity: '1',\n  transition: 'opacity 0.5s ease',\n}\n\nconst fadeStyle = {\n  opacity: '0',\n  // disable all UI interactions while hidden\n  pointerEvents: 'none',\n  touchAction: 'none',\n}\n\nconst FunctionBar = ({style, fade, children}) => (\n  <div\n    className=\"kks-player__function-bar\"\n    css={[barStyle, fade && fadeStyle, style, {button}]}\n  >\n    {children}\n  </div>\n)\n\nFunctionBar.propTypes = {\n  style: PropTypes.object,\n  fade: PropTypes.bool,\n  children: PropTypes.node,\n}\nFunctionBar.defaultProps = {\n  style: {},\n}\n\nexport const style = {\n  top: {\n    flexWrap: 'nowrap',\n    backgroundImage: `\n      linear-gradient(\n        to top,\n        rgba(0, 0, 0, 0),\n        rgba(0, 0, 0, 0.8)\n      )\n    `,\n  },\n  bottom: {\n    padding: '0 18px 36px',\n  },\n}\n\nexport default FunctionBar\n","/* @jsxImportSource @emotion/react */\nimport {Fragment} from 'react'\nimport PropTypes from 'prop-types'\n\nconst _css = {\n  userSelect: 'none',\n  color: 'white',\n  fontSize: 20,\n  whiteSpace: 'nowrap',\n  display: 'inline-flex',\n  alignItems: 'center',\n  part: {\n    width: 26,\n    display: 'inline-block',\n    textAlign: 'center',\n  },\n}\n\nconst FormattedTime = ({time, showHour, style}) => {\n  time = Math.floor(time)\n  const second = time % 60\n  const minute = ((time - second) / 60) % 60\n  const hour = (time - second - minute * 60) / 60 / 60\n  return (\n    <span className=\"kks-player__formatted-time\" css={[_css, style]}>\n      {(showHour || hour !== 0) && (\n        <Fragment>\n          <span\n            className=\"kks-player__formatted-time__part\"\n            css={[_css.part, style.part]}\n          >\n            {String(hour).padStart(2, '0')}\n          </span>\n          :\n        </Fragment>\n      )}\n      <span\n        className=\"kks-player__formatted-time__part\"\n        css={[_css.part, style.part]}\n      >\n        {String(minute).padStart(2, '0')}\n      </span>\n      :\n      <span\n        className=\"kks-player__formatted-time__part\"\n        css={[_css.part, style.part]}\n      >\n        {String(second).padStart(2, '0')}\n      </span>\n    </span>\n  )\n}\nFormattedTime.propTypes = {\n  time: PropTypes.number,\n  showHour: PropTypes.bool,\n  style: PropTypes.shape({\n    part: PropTypes.object,\n  }),\n}\nFormattedTime.defaultProps = {\n  style: {},\n}\n\nexport default FormattedTime\n","/* @jsxImportSource @emotion/react */\nimport _get from 'dlv'\n\nimport FormattedTime from 'component/FormattedTime'\nimport SimpleSlider from 'component/SimpleSlider'\nimport {useCastContext} from 'cast/context'\nimport {getLiveTime} from 'util/index'\nimport {SeekOrigin} from 'Enum'\n\nconst sliderStyle = {\n  flex: 1,\n  margin: '0 0.5rem',\n  height: '4px',\n  backgroundColor: 'red',\n}\n\nconst Seekbar = () => {\n  const {\n    state,\n    actions: {seek},\n  } = useCastContext()\n  const {currentTime, progressTime = currentTime, duration} =\n    state.streamType === 'LIVE'\n      ? getLiveTime(_get(state, 'customData') || {})\n      : state\n\n  return (\n    <div\n      className=\"kks-player__seek-bar\"\n      css={{\n        flex: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        marginBottom: '18px',\n      }}\n    >\n      <FormattedTime time={progressTime} />\n      {state.streamType === 'LIVE' ? (\n        <div css={sliderStyle} />\n      ) : (\n        <SimpleSlider\n          css={{margin: '0 1rem', flex: 1}}\n          value={progressTime}\n          max={duration}\n          onChangeCommitted={(_, {value}) =>\n            seek({origin: SeekOrigin.START, seconds: value})\n          }\n        />\n      )}\n      <FormattedTime time={Math.max(duration, progressTime)} />\n    </div>\n  )\n}\n\nexport default Seekbar\n","/* @jsxImportSource @emotion/react */\nimport {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport Button from 'component/Button/SquareButton'\nimport Icon from 'component/Icon'\nimport Tooltip from 'component/Tooltip'\nimport I18n from 'context/I18n'\n\nconst IconButton = ({name, src, tooltip, onClick}) => {\n  const {translate} = useContext(I18n.Context)\n\n  return (\n    <Tooltip title={translate(tooltip)} bottom=\"24px\">\n      <Button name={name} onClick={onClick}>\n        <Icon src={src} />\n      </Button>\n    </Tooltip>\n  )\n}\n\nIconButton.propTypes = {\n  name: PropTypes.string,\n  src: PropTypes.string,\n  tooltip: PropTypes.string,\n  onClick: PropTypes.func,\n}\n\nexport default IconButton\n","import icon from 'style/icon'\nimport {useCastContext} from 'cast/context'\nimport IconButton from './IconButton'\n\nconst PlayButton = () => {\n  const {\n    state: {playerState},\n    actions: {play, pause},\n  } = useCastContext()\n  const action = playerState !== 'PLAYING' ? 'play' : 'pause'\n  const tooltip =\n    playerState !== 'PLAYING' ? 'KKS.PLAYER.PLAY' : 'KKS.PLAYER.PAUSE'\n\n  return (\n    <IconButton\n      src={icon[action]}\n      tooltip={tooltip}\n      onClick={action === 'play' ? play : pause}\n    />\n  )\n}\n\nexport default PlayButton\n","import {SeekOrigin} from 'Enum'\nimport icon from 'style/icon'\nimport {useCastContext} from 'cast/context'\nimport IconButton from './IconButton'\n\nconst RewindButton = () => {\n  const {\n    actions: {seek},\n  } = useCastContext()\n\n  return (\n    <IconButton\n      src={icon.rewind10}\n      tooltip=\"KKS.PLAYER.REWIND\"\n      onClick={() => seek({origin: SeekOrigin.CURRENT, seconds: -10})}\n    />\n  )\n}\n\nexport default RewindButton\n","import {SeekOrigin} from 'Enum'\nimport icon from 'style/icon'\nimport {useCastContext} from 'cast/context'\nimport IconButton from './IconButton'\n\nconst ForwardButton = () => {\n  const {\n    actions: {seek},\n  } = useCastContext()\n\n  return (\n    <IconButton\n      src={icon.forward10}\n      tooltip=\"KKS.PLAYER.FORWARD\"\n      onClick={() => seek({origin: SeekOrigin.CURRENT, seconds: 10})}\n    />\n  )\n}\n\nexport default ForwardButton\n","import icon from 'style/icon'\nimport {useCastContext} from 'cast/context'\nimport IconButton from './IconButton'\n\nconst PreviousEpisodeButton = () => {\n  const {\n    actions: {hasPrevious, changePreviousEpisode},\n  } = useCastContext()\n\n  return (\n    hasPrevious() && (\n      <IconButton\n        src={icon.previousEpisode}\n        tooltip=\"KKS.PLAYER.PREVIOUS\"\n        onClick={changePreviousEpisode}\n      />\n    )\n  )\n}\n\nexport default PreviousEpisodeButton\n","import icon from 'style/icon'\nimport {useCastContext} from 'cast/context'\nimport IconButton from './IconButton'\n\nconst NextEpisodeButton = () => {\n  const {\n    actions: {hasNext, changeNextEpisode},\n  } = useCastContext()\n\n  return (\n    hasNext() && (\n      <IconButton\n        src={icon.nextEpisode}\n        tooltip=\"KKS.PLAYER.NEXT\"\n        onClick={changeNextEpisode}\n      />\n    )\n  )\n}\n\nexport default NextEpisodeButton\n","/* eslint-disable react/jsx-no-target-blank */\n/* @jsxImportSource @emotion/react */\nimport {useContext} from 'react'\nimport classnames from 'classnames'\n\nimport {CastState} from 'Enum'\nimport {useCastContext, useCastVolume} from 'cast/context'\nimport FunctionBar from 'component/Panel/FunctionBar'\nimport Tooltip from 'component/Tooltip'\nimport VolumeControl from 'component/VolumeControl'\nimport SkipButton from 'component/Button/SkipButton'\nimport CastButton from 'player/container/Button/CastButton'\nimport I18n from 'context/I18n'\nimport Seekbar from './Seekbar'\nimport PlayButton from './PlayButton'\nimport RewindButton from './RewindButton'\nimport ForwardButton from './ForwardButton'\nimport PreviousEpisodeButton from './PreEpisodeButton'\nimport NextVideoButton from './NextVideoButton'\n\nconst style = {\n  position: 'fixed',\n  bottom: '0',\n  zIndex: '3',\n  width: '100%',\n  height: '72px',\n  alignItems: 'center',\n  backgroundColor: 'rgba(34, 34, 34, 0.75)',\n  color: '#fff',\n  '> *': {\n    flex: '1',\n  },\n}\n\nconst controlStyle = {\n  padding: '0 18px 6px',\n  '> *': {\n    margin: '0 8px',\n  },\n  '> div:first-child': {\n    // seekbar\n    margin: '0 0 6px',\n  },\n}\n\nconst messageStyle = {\n  flex: '1',\n  minWidth: '0',\n  textAlign: 'center',\n  whiteSpace: 'nowrap',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n}\n\nconst adStatusStyle = {\n  flex: '1',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'flex-end',\n  a: {\n    display: 'block',\n    textDecoration: 'underline',\n    '&:visited': {\n      color: 'inherit',\n    },\n  },\n  button: {\n    margin: '0 1.5rem',\n    padding: '0.2rem 0.5rem',\n    width: 'auto',\n    border: '2px solid rgba(255, 255, 255, 0.7)',\n    fontSize: '120%',\n  },\n}\n\nconst castButtonTooltip = {\n  [CastState.CONNECTED]: 'KKS.PLAYER.CAST.DISCONNECT',\n  [CastState.NOT_CONNECTED]: 'KKS.PLAYER.CAST',\n}\n\nconst MiniControl = () => {\n  const {translate} = useContext(I18n.Context)\n  const {\n    state: {\n      castState,\n      deviceName,\n      mediaTitle,\n      playerState,\n      streamType,\n      isPlayingBreak,\n      currentBreakTime,\n      whenSkippable,\n      clickThroughUrl,\n    },\n    actions: {skipAd},\n  } = useCastContext()\n  const secondsToSkip = Math.ceil(whenSkippable - currentBreakTime)\n  const isIdle =\n    castState === 'CONNECTED' && (!playerState || playerState === 'IDLE')\n  const showIfConnected = {\n    display: castState === 'CONNECTED' ? 'flex' : 'none',\n  }\n  const messageProperties = {\n    VIDEO: mediaTitle,\n    CHROMECAST: deviceName,\n  }\n  const connectedMessage = translate('KKS.CAST.CONNTECTED', messageProperties)\n  const castingMessage = translate('KKS.CAST.STATUS', messageProperties)\n\n  return (\n    <div\n      className={classnames('kks-player__minictrl', {\n        'kks-player__minictrl--show': castState === 'CONNECTED',\n      })}\n      css={[showIfConnected, style]}\n    >\n      {isIdle ? (\n        <Tooltip overflowOnly title={connectedMessage}>\n          <div className=\"kks-player__minictrl__cast-name\" css={messageStyle}>\n            {connectedMessage}\n          </div>\n        </Tooltip>\n      ) : (\n        <FunctionBar style={controlStyle}>\n          {!isPlayingBreak && <Seekbar />}\n          <PreviousEpisodeButton />\n          <PlayButton />\n          <NextVideoButton />\n          {isPlayingBreak ? (\n            <div css={adStatusStyle}>\n              <a href={clickThroughUrl} rel=\"noopener\" target=\"_blank\">\n                <I18n.Message code=\"KKS.SSAI.LEARN.MORE\" wrap={false} />\n              </a>\n              {whenSkippable > 0 && (\n                <SkipButton remainingTime={secondsToSkip} onClick={skipAd} />\n              )}\n            </div>\n          ) : (\n            <>\n              {streamType !== 'LIVE' && <RewindButton />}\n              {streamType !== 'LIVE' && <ForwardButton />}\n              <Tooltip overflowOnly title={castingMessage}>\n                <div css={messageStyle}>{castingMessage}</div>\n              </Tooltip>\n            </>\n          )}\n          <VolumeControl displaySlider useVolumeState={useCastVolume} />\n          <Tooltip\n            title={translate(castButtonTooltip[castState])}\n            bottom=\"24px\"\n          >\n            <CastButton />\n          </Tooltip>\n        </FunctionBar>\n      )}\n    </div>\n  )\n}\n\nexport default MiniControl\n","import PropTypes from 'prop-types'\nimport Types from 'Types'\nimport I18n from 'context/I18n'\nimport {CastProvider} from './context'\nimport MiniControl from './container/MiniControl'\n\nconst CastSender = ({lang, langCustomCode, children, ...other}) => (\n  <CastProvider lang={lang} {...other}>\n    <I18n.Provider lang={lang} langCustomCode={langCustomCode}>\n      {children}\n      <MiniControl />\n    </I18n.Provider>\n  </CastProvider>\n)\n\nCastSender.propTypes = {\n  appId: PropTypes.string,\n  host: PropTypes.string,\n  accessToken: PropTypes.string,\n  deviceId: PropTypes.string,\n  lang: Types.LanguageCode,\n  langCustomCode: PropTypes.object,\n  customHeaders: PropTypes.object,\n  onConnected: PropTypes.func,\n  onCasting: PropTypes.func,\n  onError: PropTypes.func,\n  children: PropTypes.node,\n}\n\nexport default CastSender\n","import {getOS} from 'util/environment'\n\n/**\n * @description Unplugging / disconnecting headphones will pause video in iOS,\n * and in some iOS versions, video is paused without firing a pause event.\n * Pause the video if paused by iOS in this case.\n * @param {HTMLMediaElement} video\n */\nconst handleIOSHeadphonesDisconnection = ({maxStuckSeconds = 1} = {}) => {\n  const video = document.querySelector('video')\n  if (video && getOS().name === 'iOS') {\n    let playState = {playing: false}\n    const saveState = ({playing = playState.playing} = {}) => {\n      playState = {\n        playing,\n        ...(playing && {lastTimeUpdate: Date.now()}),\n      }\n    }\n    video.addEventListener('pause', () => {\n      playState = {playing: false}\n    })\n    video.addEventListener('seeking', () => {\n      playState = {playing: false}\n    })\n    video.addEventListener('waiting', () => {\n      playState = {playing: false}\n    })\n    video.addEventListener('webkitpresentationmodechanged', () => {\n      playState = {\n        playing: false,\n        pauseDetection: Date.now() + 5000,\n      }\n    })\n    video.addEventListener('timeupdate', () => {\n      if (!video.paused) {\n        const delta = Date.now() - playState.lastTimeUpdate\n        playState.lastTimeUpdate = Date.now()\n        if (delta > 0 && delta < 1000) {\n          playState.playing = true\n        }\n      }\n      saveState({playing: !video.paused})\n    })\n    video.addEventListener('ratechange', saveState)\n    setInterval(() => {\n      if (\n        video.paused ||\n        !playState.playing ||\n        playState.pauseDetection >= Date.now()\n      ) {\n        return\n      }\n      const secondsStuck = (Date.now() - playState.lastTimeUpdate) / 1000\n      if (secondsStuck >= maxStuckSeconds) {\n        console.log(\n          'Video is not playing, pause to workaround iOS unpluging headphones'\n        )\n        video.pause()\n      }\n    }, 200)\n  }\n}\n\nexport default handleIOSHeadphonesDisconnection\n","import config from 'config/index'\nimport {Player} from 'enterprise'\n\nexport {Player}\nexport {default as MediaTailorPlugin} from 'plugins/MediaTailor'\n\nexport {default as CastSender} from 'cast'\nexport {default as CastButton} from 'player/container/Button/CastButton'\n// v3 interface, to be deprecated ?\nexport {CastConsumer} from 'cast/context'\n\nexport {getVersion} from 'util/index'\n\nexport const {SupportEnvironment} = config\nexport {default as handleIOSHeadphonesDisconnection} from 'player/handleIOSHeadphonesDisconnection'\nexport {getEnterpriseDrmConfig, getDefaultDrmConfig} from 'playerCore/drm'\n"],"names":["BitmovinConfig","SupportEnvironment","desktop","mobile","combineReducer","structure","props","Object","keys","state","action","newState","reduce","res","name","isChange","some","queryString","object","getOwnPropertyNames","map","encodeURIComponent","join","catchBy","error","func","args","apply","this","e","scope","min","value","max","getLiveTime","detail","startTime","_get","endTime","duration","nowSecond","Math","floor","Date","now","currentTime","convertToTimeString","date","fmt","replace","getFullYear","slice","getMonth","getDate","getHours","getMinutes","getSeconds","convertToSeconds","timeString","hours","minutes","seconds","split","parseFloat","isInScope","getVersion","undefined","getPopoverPosition","rect","target","boundary","rectX","x","left","boundaryX","maxLeft","width","targetCenter","right","center","alignLeft","top","height","debounce","callback","ms","lastTouchEnd","event","getTime","preventDefault","FairplayKeySystem","prepareContentId","contentUri","uriParts","contentId","toLowerCase","prepareCertificate","cert","Uint8Array","prepareMessage","keyMessageEvent","keySession","spc","messageBase64Encoded","assetId","prepareLicense","license","substr","getWidevineLevel","levels","keySystem","navigator","requestMediaKeySystemAccess","robustness","videoCapabilities","contentType","getConfiguration","getDeviceLevel","level","startsWith","getRobustness","widevine","deviceLevel","policy","blocked","blockedDevices","userAgent","includes","getDrmConfig","config","host","fairplay","videoRobustness","widevineHeaders","headers","fairplayHeaders","LA_URL","certificateURL","certificateHeaders","playready","getEnterpriseDrmConfig","token","withCredentials","widevine_security_level","getDefaultDrmConfig","Authorization","ReactPropTypesSecret","printWarning","require$$0","has","ReactIs","assign","checkPropTypes","require$$1","require$$2","getTargetQuality","items","suggested","sorted","sort","a","b","find","matchAll","input","pattern","flags","global","ignoreCase","multiline","filter","Boolean","clone","RegExp","Array","from","matched","exec","rewriteHlsUrls","manifest","sourceUrl","matches","URL","rewriteHlsQualities","files","profiles","length","filtered","item","p","compareQuality","filterHigherQualites","qualities","targetQuality","quality","en","ja","zhTW","LanguageCode","EN","JA","ZHTW","ModuleState","UNINITIALIZATION","INITIALIZING","INITIALIZED","LOADING_CONTENT","LOADING","READY","ERROR","Infinity","StorageKey","VOLUME","LIMIT_ONE_PLAYBACK","PlayerState","UNMOUNTED","MOUNTING","MOUNTED","LOADED","STALLING","PLAYING","PAUSED","ENDED","PlayerViewMode","FULLSCREEN","INLINE","PICTURE_IN_PICTURE","APIState","DISABLE","ENABLE","AgentCommand","AUTO","PLAY","PAUSE","UNMOUNT","EnvironmentErrorName","NOT_SUPPORT_DEVICE","NOT_SUPPORT_OS","NOT_SUPPORT_OS_VERSION","NOT_SUPPORT_BROWSER","NOT_SUPPORT_BROWSER_VERSION","SeekOrigin","START","CURRENT","CastState","NO_DEVICES_AVAILABLE","CONNECTED","CONNECTING","NOT_CONNECTED","ItemType","VIDEOS","LIVES","ID","PropTypes","oneOfType","number","string","oneOf","values","LanguageCodeEnum","SupportEnvironmentItem","shape","device","type","os","version","browser","ItemTypeEnum","VideoInfo","licenseId","PlayerStateEnum","TextCode","Set","entries","lang","langItem","concat","AgentCommandEnum","linkPluginEvents","plugins","handlers","registered","plugin","eventName","handler","on","forEach","removeListener","getPlaycraftErrorMessage","code","getErrorInfo","test","message","data","response","httpStatus","status","INITIALIZE","LOAD_CONTENT","READY_TO_PLAY","BACK","CAST_STATE_CHAGNE","REPLAY","initialize","initialized","loadContent","readyToPlay","back","castStateChange","castState","replay","console","CHANGE_NEXT_EPISODE","CHANGE_PREVIOUS_EPISODE","SELECT_QUALITY","SET_QUALITY_ITEMS","SELECT_MEDIA_SOURCE","SET_MEDIA_SOURCES","CHANGE_THUMBNAIL_SEEKING","CHANGE_RECOMMENDATION_PANEL","TOGGLE_RECOMMENDATION_PANEL","OPEN_PANEL","HIDE_PANEL","OFFER_AUTOPLAY","DISMISS_AUTOPLAY","SHOW_MENU","HIDE_MENU","CHANGE_SETTINGS","DRAG","DROP","FOCUS_SEEK_BAR","DRAG_SEEK_BAR","DROP_SEEK_BAR","LEAVE_SEEK_BAR","SET_AUTO_PLAY","RESET_END_ROLL","STREAM_EVENTS_CHANGED","AD_BREAK_STARTED","AD_BREAK_ENDED","VISIBILITY_CHANGE","UPDATE_SUBTITLES_CONTENT","changeNextEpisode","videoId","changePreviousEpisode","selectQuality","to","setQualityItems","selectMediaSource","mediaSource","setMediaSources","enableRecommendationPanel","enabled","disableRecommendationPanel","toggleRecommendationPanel","openPanel","panel","hidePanel","enableThumbnailSeeking","disableThumbnailSeeking","offerAutoplay","dismissAutoplay","showTooltip","id","border","SHOW_TOOLTIP","updateTooltip","UPDATE_TOOLTIP","showMenu","hideMenu","changeSettings","section","showThumbnail","thumbnailTime","SHOW_THUMBNAIL","focusSeekBar","seekTime","dragSeekBar","dropSeekBar","leaveSeekBar","drag","drop","setAutoPlay","autoPlay","resetEndRoll","streamEventsChanged","streamEvents","playbackStatus","adBreakStarted","adProgressData","skipTimeOffset","adBreakEnded","visibilityChange","updateSubtitlesContent","content","Action","useTimeout","timer","useRef","useEffect","clearTimeout","current","setTimeout","useInterval","clearInterval","setInterval","useCache","setState","useState","shallowCompare","useDebounce","delay","dispatch","waiting","useAutoHide","hideTimeMs","pinned","tapToHide","onHide","mode","setMode","interact","hide","show","onClick","tagName","onMouseMove","window","addEventListener","removeEventListener","once","oneTime","uuidv4","crypto","msCrypto","c","getRandomValues","toString","modes","videos","lives","mapLogEvents","session","video","playerName","getPlaybackStatus","emitter","mitt","seeking","playerStartTime","moduleStartTime","getContent","commonPropties","player_name","playback_module_version","playback_mode","playback_session_id","sessionId","title","current_position","video_total_duration","section_id","name_2","channelName","SSAI","ssaiProvider","dispatchStart","lastStartTime","isPlayingAd","emit","dispatchStop","played","adPlayedDuration","playedDuration","ad_played_duration","module_error_code","player_startup_time","video_startup_time","seekingFrom","seeking_from","seeking_to","video_playback_ended_at_percentage","video_total_played_duration","ad_total_played_duration","all","reset","off","createSession","dispatchEvent","end","playerContext","createContext","logEventNames","playbackBegan","playbackStarted","playbackStopped","playbackEnded","seeked","adPlaybackStarted","adPlaybackStopped","PlayerProvider","options","videoRef","uiRef","children","sendLog","instance","logTarget","_jsx","propTypes","node","useSetPlayer","ref","useContext","player","usePlayer","useUiContainer","useUiRef","useVideoRef","useOptions","useDispatchSessionEvent","Context","Adapter","React","Full","Module","LocalStorage","Player","PlayerProgress","PlayerVolume","API","UI","StoreProvider","store","addChangedListener","getState","dispatchSessionEvent","handleStart","uiAction","getStreamData","getAd","getSkipTimeOffset","cuepointsChanged","cuepoints","adProgress","playerState","viewMode","progress","volume","array","loadScript","url","Promise","resolve","script","document","createElement","async","src","body","appendChild","SENDER_URL","getContext","cast","framework","CastContext","getInstance","ensureSenderFramework","reject","chrome","__onGCastApiAvailable","isAvailable","getMediaSession","context","currentSession","getCurrentSession","ensureSession","requestSession","then","requestLoad","mediaInfo","request","media","LoadRequest","MediaInfo","metadata","GenericMediaMetadata","loadMedia","castContext","initState","castingMedia","deviceName","mediaTitle","progressTime","customData","muted","streamType","defaultCastContext","actions","hasPrevious","hasNext","CastProvider","appId","accessToken","deviceId","customHeader","onConnected","onCasting","onError","customHeaders","setCastState","setOptions","receiverApplicationId","resumeSavedSession","autoJoinPolicy","AutoJoinPolicy","ORIGIN_SCOPED","CastContextEventType","CAST_STATE_CHANGED","getCastDevice","friendlyName","getVolume","isMute","RemotePlayer","controller","RemotePlayerController","RemotePlayerEventType","PLAYER_STATE_CHANGED","TITLE_CHANGED","MEDIA_INFO_CHANGED","DURATION_CHANGED","CURRENT_TIME_CHANGED","VOLUME_LEVEL_CHANGED","IS_MUTED_CHANGED","IS_PLAYING_BREAK_CHANGED","isPlayingBreak","BREAK_CLIP_ID_CHANGED","breakClipId","clickThroughUrl","breakClips","CURRENT_BREAK_TIME_CHANGED","currentBreakTime","whenSkippable","getItem","index","connect","customQuery","contentID","itemType","catch","stopCasting","endCurrentSession","play","PlayRequest","pause","PauseRequest","seek","origin","getEstimatedTime","SeekRequest","skipAd","currentItemId","itemId","queuePrev","queueNext","setVolume","setMute","mute","result","Types","useCastContext","CastConsumer","Consumer","useCastVolume","changeVolume","toggleMuted","getMediaSource","defaultMediaSource","selectedMediaSource","mediaSourcePrecedence","MOUNT","LOAD","UNLOAD","UNLOADED","FETCH_STATE","SET_STATE","UPDATE_CURRENT_TIME","SEEK","SEEKED","UPDATE_VOLUME","SET_VOLUME","MUTE","MUTED","UNMUTE","UNMUTED","ENTER_FULL_SCREEN","LEAVE_FULL_SCREEN","UPDATE_VIEW_MODE","UPDATE_BUFFER_TIME","STALLED","CHANGE_DASH_QUALITY","mount","mounted","load","loaded","payload","unload","unloaded","ready","fetchState","unmount","playing","paused","ended","updateCurrentTime","time","adRemainingTime","updateVolume","unmute","unmuted","enterFullScreen","leaveFullScreen","updateViewMode","updateBufferTime","stalling","stalled","changeDashQuality","SAVE","key","save","getLocalStorageValue","defaultValue","source","localStorage","JSON","parse","setLocalStorageValue","setItem","stringify","_localStorage","next","CLEAN","PREVIEW_CONTENT","PREPARE_PLAYBACK","PREPARE_THUMBNAIL","SET_PLAYBACK","SET_THUMBNAILS","REFRESH_PLAYBACK_TOKEN","UPDATE_LAST_PLAYED_TIME","UPDATE_PLAYED_END","REFRESH_CONTENT","SET_CONTENT","END_PROGRAM","CHANGE_PROGRAM","END_SECTION","CHANGE_SECTION","CONTENT_CHANGE","END_LIVE_TYPE","contentChange","clean","disable","enable","previewContent","preparePlayback","prepareThumbnail","setPlayback","playbackInfo","setThumbnails","thumbnails","refreshPlaybackToken","sessionData","updateLastPlayedTime","updatePlayedEnd","refreshContent","setContent","endProgram","changeProgram","oldId","newId","endSection","changeSection","endLiveType","waitStateChange","check","waitActionDispatch","addDispatchedListener","waitChainReaction","trigger","_result","operator","LocalStorageAction","PlayerAction","PlayerType","getModuleState","apiState","APIAction","APIType","manifests","availableSources","UIAction","resolutions","Error","changeQuality","changeMediaSource","retry","prepareCast","abs","contentEqual","useDebounced","timeMs","CastAdapter","lastState","contentIsLoaded","defaultProps","bytesToUuid","v4","v1","LIMIT_INFO_LIFE_MS","CHECK_INTERVAL_MS","getSavedAuthId","limitInfo","expiresAt","authId","LimitOnePlayback","authRef","moduleState","startInterval","stopInterval","checkOnePlayback","savedAuthId","clearKey","addUnloadListeners","removeUnloadListeners","uuid","parseVTT","lines","line","text","replaceLast","path","parseThumbnails","imagePath","y","image","position","axios","get","responseType","req","resp","createObjectURL","blobUrls","mapSrcToBlobUrl","blobUrl","getHeader","retry3","PromiseRejectFilter","condition","filterNetworkError","method","query","params","sessionPath","last_played","last_position","endStart","end_start_position","recommend","previous","prev_video","images","image_url","next_video","playbackStart","playback_token","heartbeat","playbackEnd","playbackTokenInfo","Session","constructor","resource","resourceInfo","playbackToken","_startPromise","_endPromise","start","tokenInfo","info","restart","HEARTBEAT_INTERVAL","preferredConfig","preferredMediaSource","isActivatable","Resource","fetchContent","fetchFullPlayback","targetSourceType","contentInfo","sources","drm","drm__fairplay","drm_portal_url","drm__playready","drm__widevine","playingSourceType","thumbnailSeekingsURL","thumbnail_seeking_url","thumbnailUrl","heartbeatInProgress","newContent","oldSectionId","newSectionId","Event","onBack","onReplay","onMediaSourceChanged","onChangeVideo","onChangeToNextVideo","onChangeToPreviousVideo","onSectionChange","UIType","Agent","command","preload","playerRef","useImperativeHandle","autoPlayByUI","parser","UAParser","getOS","getDevice","osName","getBrowser","isDesktop","compareVersion","v2","v1parts","Number","v2parts","i","I","checkEnvironment","supportEnvironmentList","toUnique","list","validators","errorName","getErrorProps","allowDevices","env","allowOSs","minVersion","allowBrowsers","scopes","validator","newScopes","havePointerQuery","EnvironmentValidator","arrayOf","MobileSafariPlugin","containerRef","onViewModeChange","onEnterFullscreen","onExitFullscreen","videoEle","querySelector","syncToStore","webkitPresentationMode","webkitExitFullScreen","abortMultiTouch","element","isRequired","OTP_1878","isMuted","Provider","langCustomCode","translations","LANGS","getMessage","property","substring","translate","Message","wrap","Wrap","elementType","useTranslations","getDefault","_","FormattedMessage","DeviceDetector","setDevice","touchable","blurPause","shouldPause","getVideoElement","layer","display","justifyContent","alignItems","mask","backgroundColor","flexDirection","whiteSpace","textAlign","color","userSelect","button","outline","cursor","padding","flexShrink","pointerEvents","touchAction","activationTriggeringEvents","isSafariVideo","videoElement","canPlayType","eventNames","autoUnlockAutoplay","unlock","setUnlocked","cleanup","capture","log","removeListeners","preventLeaveFullscreenPause","lastLeave","minInteractionDelay","resumeSystemPause","lastPause","setUserPause","ISSUER","getMaxQuality","manifestType","selectedQualityName","qualityItems","qualityPrecedence","allQualities","getQualityOptions","selected","default","parseInt","getLoadOptions","mostRobustLevel","drmHost","dash","hls","widevine_blacklist","applyLoadPlugins","last","handleSeek","seekHandler","realPosition","getCurrentTime","getDuration","loadStream","self","preferredManifestFormat","getSupportedTech","streaming","baseOptions","contentChangedTimes","manifestUrl","streamInfo","adContainer","adContainerRef","loadOptions","getFilteredManifest","maxQuality","onVideoQualityChanged","Blob","handleSafariStalledTooLong","getStreamType","isStalled","timeout","handleSelectQuality","availableQualities","getAvailableVideoQualities","BitmovinPlayer","Component","createRef","componentDidMount","container","convertToPlayerState","ApiType","requestFullscreen","navigationUI","setViewMode","fullscreenElement","hasEnded","selectedQualities","componentWillUnmount","removeBlurListener","destroy","PlayerEvent","licenseKey","playback","autoplay","tweaks","stop_download_on_pause","native_hls_parsing","adaptation","onVideoAdaptation","targetBitrate","bitrate","setPlayer","setVideoElement","preferredStreaming","withErrorHandling","SourceLoaded","setAttribute","workaround_ST_3009","workaround_ST_4489","isLive","onSourceLoaded","Ready","onReady","Play","onPlay","Playing","onPlaying","Paused","onPaused","PlaybackFinished","onEnded","TimeChanged","workaround_OTP_1783","onTimeChanged","lastSeekEventIssuer","Seek","seekTarget","issuer","onSeek","Seeked","onSeeked","VolumeChanged","targetVolume","sourceVolume","onVolumeChanged","Muted","onMuted","Unmuted","onUnmuted","ViewModeChanged","viewModeEvent","getContainer","SegmentRequestFinished","getBufferLength","getVideoBufferLength","getAudioBufferLength","StallStarted","onStallStarted","StallEnded","onStallEnded","CueEnter","CueExit","getViewMode","isFinite","bufferTime","getSource","timerId","lastTime","startDetect","isPlaying","stopDetect","Destroy","videoElem","_play","fromExternalPlay","render","bool","PlayerVideo","useStore","formattedTime","sourceTime","padStart","getPlaybackInfo","subtitle","start_time","end_time","seekbarFocused","isSettingsOpen","activePanel","ad","focused","controlsDisplay","autoplayDialogOpening","programTime","channelTitle","ceil","adStatus","total","adUrl","adSkipTimeOffset","seekable","subtitlesContent","useUiActions","imageStyle","objectFit","transform","CoverImageWrap","getPlaybackState","loading","forward10","rewind10","volumeHight","volumeLow","setting","previousEpisode","nextEpisode","pauseCircle","playCircle","playCircleBorder","arrowTop","close","castNotConnected","castConnected","castConntecting0","castConntecting1","castConntecting2","warning","cancel","style","zIndex","borderRadius","isOverflowing","scrollWidth","clientWidth","Tooltip","bottom","overflowOnly","tooltipRef","boxes","open","setOpen","setPosition","childProps","onMouseEnter","currentTarget","getBoundingClientRect","onMouseLeave","targetPosition","matchMedia","_jsxs","cloneElement","createPortal","ControlsTooltip","uiContainer","playAction","_style","SquareButton","others","classnames","Icon","backgroundPosition","backgroundSize","backgroundImage","IconButton","Button","icon","tooltip","PlayButton","playbackState","shallow","disabled","buttonProps","cx","railStyle","flex","overflow","background","markStyle","thumbStyle","boxShadow","getPointerData","pageX","pageY","touches","changedTouches","getSliderValue","debouncedPointerHandlers","onMove","onLeave","scheduled","schedule","requestAnimationFrame","onPointerMove","buttons","onPointerLeave","eventHandlers","onPointerDown","onPointerUp","onTouchStart","onTouchMove","onTouchEnd","SimpleSlider","marks","className","classes","onChange","onChangeCommitted","pointerState","focusValue","setFocusValue","currentPosition","pointerHandlers","pointerValue","handlePointerUp","pointerId","releasePointerCapture","stopPropagation","setPointerCapture","rail","track","marked","thumb","containerStyle","VideoThumbnail","memo","useThumbnail","thumbnailSeekings","t","seekbarStyle","fontSize","letterSpacing","sliderStyle","margin","opacity","transition","thumbnailStyle","getSliderStyle","css","getThumbailOffset","pointerX","leftOffset","offsetLeft","rightOffset","offsetWidth","reducePointer","hover","Seekbar","thumbnailSeeking","dispatchPointer","useReducer","pointerActive","displayTime","thumbnail","displayThumbnail","ClassNames","_css","LiveSeekbar","slider","RewindButton","ForwardButton","VolumeControl","useVolumeState","displaySlider","TooltipComponent","iconName","usePlayerVolume","BaseVolumeControl","logger","flag","process","NODE_ENV","debug","groupEnd","thunk","createGate","internalSync","updateTime","convertDRMToNameMap","convertManifestToNameMap","placeholder","protocol","userAction","playingQuality","mergePlayerState","other","mergeProgress","mergeVolume","mergeViewMode","uiType","mediaSources","recommendationPanel","opening","hadShownEndRoll","getAdStatus","adPosition","totalAds","openRecommendationAfterEnd","playerType","reducer","changeListeners","dispatchListeners","errorGate","middlewares","applyMiddlewares","middleware","reduceRight","createRegister","listeners","push","indexOf","splice","zustand","create","devtools","redux","createHook","oldState","finalAction","useMenu","shouldShowVersions","shouldShowQuality","shouldShowSubtitles","subtitlesMenu","shouldShowAudio","audioMenu","defaultQualityName","valueMatch","it","targetHeight","speedItems","label","getSettingSections","subtitleItems","selectedSubtitleName","audioItems","selectedAudioName","playbackRate","selectedValue","useSettings","defaultQuality","subtitles","getAvailableAudio","getAudio","getPlaybackSpeed","useChangeSettings","setPlaybackSpeed","setter","cueExit","setAudio","SettingButton","haveSettings","connectingAnimation","keyframes","styles","animation","CastButton","toLocaleLowerCase","CastVideoButton","handleCast","FunctionButtons","full","toolPanels","FullScreenButton","PreEpisodeButton","preEpisode","keep","NextEpisodeButton","BackButton","ErrorMessage","errorAction","I18n","CODE","errorMessage","TextButton","rotateInfinite","borderRightColor","Loading","fadeout","animating","animationName","backgroundRepeat","animationFillMode","animationDelay","animationDuration","PlayPanel","href","setAnimating","Link","maxWidth","fontWeight","LinearEnd","onRetry","iconStyle","CastMask","marginLeft","SkipButton","remainingTime","PlayPane","UiAction","ErrorOverlay","CastingOverlay","Casting","LinearEndedOverlay","LinearEnded","getAdSkipTimeOffset","AdSkipButton","streamTime","setStreamTime","upadteTime","getComponents","PreviousEpisodeButton","expand","boxSizing","h1","lineHeight","textDecoration","dropTop","responsiveStyles","rowStyle","marginRight","displayStyles","hidden","shown","controlsDisplayStyles","controlsStyle","textEllipsis","textOverflow","infoStyle","backStyle","skipStyle","dekstopStyle","desktopControls","flexWrap","marginBottom","ControlsBlock","order","playButton","rewindButton","forwardButton","previousEpisodeButton","nextEpisodeButton","DefaultLayout","size","haveBottomItem","seekbar","controlButtons","volumeControl","functionButtons","fullscreenButton","backButton","adLink","adSkipButton","backItems","backRef","rest","openIcon","closeIcon","titleStyle","contentStyle","contentHiddenStyle","RecommendationBox","toggle","foldedHeight","folded","RecommendationPanel","panelStyle","alignSelf","panelOpenStyle","panelClosedStyle","backdropStyle","backdropOpenStyle","BottomPanels","recommendation","hasBackdrop","panelOpen","active","subtitlesStyle","textShadow","Subtitles","sizes","embed","PlayerUi","Layout","currentBreakpoint","useDimensions","polyfill","ResizeObserver","breakpoints","uiElements","normal","big","cover","imageUrl","dismiss","PlayDialog","coverImageUrl","useCountdownSecond","timeLeft","setTimeLeft","intervalId","AutoplayDialog","playNext","head","overlay","maxHeight","row","space","hasOptions","MenuItemText","MenuSection","sharedStyle","onSelect","MenuItem","PlayerSettings","hasBottomPanel","setPath","menuSections","useOnclickOutside","refs","eventTypes","Fragment","selectedName","SimplePlayerUi","SYNC_INTERVAL","useSyncLinearInfo","clearTimer","getEndedStatus","endStartSeconds","getAutoplayNextActive","endStatus","useUpdateLastPlayed","playStatus","isVod","useUpdateEnded","useAutoPlayNext","useVodHandlers","autoPlayNext","PlaybackHooks","limitOnePlaybackAtSameTime","APIAdapter","needThumbnailSeeking","LocalStorageAdapter","LimitOnePlaybackAdapter","EventAdapter","DeviceDetecter","forwardRef","defaultConfig","onLogging","useMemo","createStore","onSourceUnloaded","EnterprisePlayer","DefaultPlayer","getManifestUrl","findIndex","fetchManifests","endsWith","fetch","innerUrl","_IsNumber","AD_TIME_EVENT_TYPE","doNothing","skipOffset","percentageOffset","match","timeOffset","startTimeInSeconds","durationInSeconds","inRange","getCurrentAd","adBreak","ads","adEventData","_common","currentAd","adItems","waitingForPlayAds","avail","trackingEvents","eventType","beaconUrls","Impression","onAdBreakStarted","onAdProgress","onAdBreakEnded","onSkippableStateChanged","adBreaks","waitingForPlayAdIndex","resumeUserSeekTime","resumeAdStartTime","isResumed","checkAdEventProcess","checkAdCueTone","getAdIndex","availId","getActiveAdIndex","getAdTimingInfo","isWithinTimeRange","adInfo","adStartTime","adDuration","getSkippedAds","isFired","setAdIsFiredByIndex","activeAdIndex","checkAdEvent","currentAdStartTime","currentAdEndTime","isAdStillPlaying","nextAd","adIndex","nextAdStartTime","updateWaitingForPlayIndex","updateCurrentAd","updateWaitingForPlayAds","lastPosition","isSkippableEventFired","currentBreak","trackingTypes","isSkippable","adEventIndex","skippedAds","seekTargetAdIndex","setAllAdsFired","resetSession","getLastAd","avails","getStreamTime","contentTime","getContentTime","seekingHandler","handleSeeking","originTime","addFetchPolyfill","json","fetchStreamInfo","eventTarget","listener","seekVideo","initialState","mpdStartTime","isUserSkipAd","skipAdEndTime","getAdEndTime","streamData","pipeEvent","getMpdStartTime","mpdDocument","DOMParser","parseFromString","availabilityStartTime","firstChild","getAttribute","snapback","streamManager","cuePoint","previousCuePointForStreamTime","createStreamManager","impression","adEndTime","refreshTrackingData","trackingUrl","trackingData","handleTimeUpdate","requestStream","reportingUrl","client_side_reporting_url","streamTimeForContentTime","contentTimeForStreamTime","setMpdStartTime","getVastAvails","diff","init","skipWatched","getManifest","MediaTailorPlugin","manifestItem","mediaTailorOptions","ssai","media_tailor","warn","vastAvails","barStyle","minWidth","fadeStyle","FunctionBar","fade","part","FormattedTime","showHour","second","minute","hour","String","controlStyle","messageStyle","adStatusStyle","castButtonTooltip","MiniControl","secondsToSkip","isIdle","showIfConnected","messageProperties","VIDEO","CHROMECAST","connectedMessage","castingMessage","NextVideoButton","CastSender","handleIOSHeadphonesDisconnection","maxStuckSeconds","playState","saveState","lastTimeUpdate","pauseDetection","delta","secondsStuck"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,aAAe;AACbA,EAAAA,cADa;AAEbC,EAAAA,kBAAkB,EAAE;AAClBC,IAAAA,OADkB;AAElBC,IAAAA;AAFkB;AAFP,CAAf;;ACFO,MAAMC,cAAc,GAAGC,SAAS,IAAI;AACzC,QAAMC,KAAK,GAAGC,MAAM,CAACC,IAAP,CAAYH,SAAZ,CAAd;AACA,SAAO,CAACI,KAAD,EAAQC,MAAR,KAAmB;AACxB,UAAMC,QAAQ,GAAGL,KAAK,CAACM,MAAN,CAAa,CAACC,GAAD,EAAMC,IAAN,KAAe;AAC3CD,MAAAA,GAAG,CAACC,IAAD,CAAH,GAAYT,SAAS,CAACS,IAAD,CAAT,CAAgBL,KAAK,CAACK,IAAD,CAArB,EAA6BJ,MAA7B,CAAZ;AACA,aAAOG,GAAP;AACD,KAHgB,EAGd,EAHc,CAAjB;AAIA,UAAME,QAAQ,GAAGT,KAAK,CAACU,IAAN,CAAWF,IAAI,IAAIL,KAAK,CAACK,IAAD,CAAL,KAAgBH,QAAQ,CAACG,IAAD,CAA3C,CAAjB;AACA,WAAOC,QAAQ,GAAGJ,QAAH,GAAcF,KAA7B;AACD,GAPD;AAQD,CAVM;;AAYP,MAAMQ,WAAW,GAAGC,MAAM,IACxBA,MAAM,IACN,OAAOA,MAAP,KAAkB,QADlB,IAEAX,MAAM,CAACY,mBAAP,CAA2BD,MAA3B,EACGE,GADH,CACON,IAAI,IAAK,GAAEA,IAAK,IAAGO,kBAAkB,CAACH,MAAM,CAACJ,IAAD,CAAP,CAAe,EAD3D,EAEGQ,IAFH,CAEQ,GAFR,CAHF;AAiCO,MAAMC,OAAO,GAAGC,KAAK,IAAIC,IAAI,IAAI,CAAC,GAAGC,IAAJ,KAAa;AACnD,MAAI;AACF,WAAOD,IAAI,CAACE,KAAL,CAAWC,SAAX,EAAiBF,IAAjB,CAAP;AACD,GAFD,CAEE,OAAOG,CAAP,EAAU;AACV,WAAOL,KAAK,CAACK,CAAD,CAAZ;AACD;AACF,CANM;AAQA,SAASC,KAAT,CAAeC,GAAf,EAAoBC,KAApB,EAA2BC,GAA3B,EAAgC;AACrC,MAAIF,GAAG,GAAGC,KAAV,EAAiB,OAAOD,GAAP;AACjB,MAAIE,GAAG,GAAGD,KAAV,EAAiB,OAAOC,GAAP;AACjB,SAAOD,KAAP;AACD;AAEM,MAAME,WAAW,GAAGC,MAAM,IAAI;AACnC,QAAMC,SAAS,GAAGC,wBAAI,CAACF,MAAD,EAAS,YAAT,CAAJ,IAA8BE,wBAAI,CAACF,MAAD,EAAS,WAAT,CAAlC,IAA2D,CAA7E;AACA,QAAMG,OAAO,GAAGD,wBAAI,CAACF,MAAD,EAAS,UAAT,CAAJ,IAA4BE,wBAAI,CAACF,MAAD,EAAS,SAAT,CAAhC,IAAuD,CAAvE;AACA,QAAMI,QAAQ,GAAGD,OAAO,GAAGF,SAA3B;AACA,QAAMI,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,GAAL,KAAa,IAAxB,CAAlB;AAEA,SAAO;AACLC,IAAAA,WAAW,EAAEf,KAAK,CAAC,CAAD,EAAIU,SAAS,GAAGJ,SAAhB,EAA2BG,QAA3B,CADb;AAELA,IAAAA;AAFK,GAAP;AAID,CAVM;AAYA,SAASO,mBAAT,CAA6BC,IAA7B,EAAmCC,GAAnC,EAAwC;AAC7C,SAAOA,GAAG,CACPC,OADI,CACI,OADJ,EACc,OAAMF,IAAI,CAACG,WAAL,EAAmB,EAA1B,CAA4BC,KAA5B,CAAkC,CAAC,CAAnC,CADb,EAEJF,OAFI,CAEI,KAFJ,EAEY,KAAIF,IAAI,CAACK,QAAL,KAAkB,CAAE,EAAzB,CAA2BD,KAA3B,CAAiC,CAAC,CAAlC,CAFX,EAGJF,OAHI,CAGI,KAHJ,EAGY,KAAIF,IAAI,CAACM,OAAL,EAAe,EAApB,CAAsBF,KAAtB,CAA4B,CAAC,CAA7B,CAHX,EAIJF,OAJI,CAII,KAJJ,EAIY,KAAIF,IAAI,CAACO,QAAL,EAAgB,EAArB,CAAuBH,KAAvB,CAA6B,CAAC,CAA9B,CAJX,EAKJF,OALI,CAKI,KALJ,EAKY,KAAIF,IAAI,CAACQ,UAAL,EAAkB,EAAvB,CAAyBJ,KAAzB,CAA+B,CAAC,CAAhC,CALX,EAMJF,OANI,CAMI,KANJ,EAMY,KAAIF,IAAI,CAACS,UAAL,EAAkB,EAAvB,CAAyBL,KAAzB,CAA+B,CAAC,CAAhC,CANX,CAAP;AAOD;AAEM,SAASM,gBAAT,CAA0BC,UAA1B,EAAsC;AAC3C,QAAM,CAACC,KAAD,EAAQC,OAAR,EAAiBC,OAAjB,IAA4BH,UAAU,CAACI,KAAX,CAAiB,GAAjB,EAAsB1C,GAAtB,CAA0B2C,UAA1B,CAAlC;AACA,SAAOJ,KAAK,GAAG,IAAR,GAAeC,OAAO,GAAG,EAAzB,GAA8BC,OAArC;AACD;AAEM,SAASG,SAAT,CAAmBjC,GAAnB,EAAwBC,KAAxB,EAA+BC,GAA/B,EAAoC;AACzC,SAAOF,GAAG,IAAIC,KAAP,IAAgBA,KAAK,IAAIC,GAAhC;AACD;AAEM,SAASgC,UAAT,GAAsB;AAC3B,MAAI;AACF;AACA,WAAO,OAAP;AACD,GAHD,CAGE,OAAOpC,CAAP,EAAU;AACV,WAAOqC,SAAP;AACD;AACF;AAEM,SAASC,kBAAT,CAA4BC,IAA5B,EAAkCC,MAAlC,EAA0CC,QAA1C,EAAoD;AACzD,QAAMC,KAAK,GAAGH,IAAI,CAACI,CAAL,IAAUJ,IAAI,CAACK,IAA7B;AACA,QAAMC,SAAS,GAAGJ,QAAQ,CAACE,CAAT,IAAcF,QAAQ,CAACG,IAAzC;AACA,QAAME,OAAO,GAAGL,QAAQ,CAACM,KAAT,GAAiBR,IAAI,CAACQ,KAAtC;AACA,QAAMC,YAAY,GAAG,CAACR,MAAM,CAACI,IAAP,GAAcJ,MAAM,CAACS,KAAtB,IAA+B,CAA/B,GAAmCJ,SAAxD;AACA,QAAMK,MAAM,GAAGR,KAAK,GAAGH,IAAI,CAACQ,KAAL,GAAa,CAArB,GAAyBF,SAAxC;AACA,QAAMM,SAAS,GAAGT,KAAK,IAAIM,YAAY,GAAGE,MAAnB,CAAL,GAAkCL,SAApD;AACA,SAAO;AACLD,IAAAA,IAAI,EAAEhC,IAAI,CAACR,GAAL,CAAS,CAAT,EAAYQ,IAAI,CAACV,GAAL,CAASiD,SAAT,EAAoBL,OAApB,CAAZ,CADD;AAELM,IAAAA,GAAG,EAAEZ,MAAM,CAACY,GAAP,GAAab,IAAI,CAACc;AAFlB,GAAP;AAID;AAWM,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAWC,EAAX,KAAkB;AACxC,MAAIC,YAAY,GAAG,CAAnB;AACA,SAAOC,KAAK,IAAI;AACd,UAAM3C,GAAG,GAAG,IAAID,IAAJ,GAAW6C,OAAX,EAAZ;;AACA,QAAI5C,GAAG,GAAG0C,YAAN,IAAsBD,EAA1B,EAA8B;AAC5BE,MAAAA,KAAK,CAACE,cAAN;AACD,KAFD,MAEO;AACLL,MAAAA,QAAQ,CAACG,KAAD,CAAR;AACAD,MAAAA,YAAY,GAAG1C,GAAf;AACD;AACF,GARD;AASD,CAXM;;AC3HP;AAGA,MAAM8C,iBAAiB,GAAG;AACxBC,EAAAA,gBAAgB,EAAEC,UAAU,IAAI;AAC9B,UAAMC,QAAQ,GAAGD,UAAU,CAAC9B,KAAX,CAAiB,KAAjB,CAAjB;AACA,UAAMgC,SAAS,GAAGD,QAAQ,CAAC,CAAD,CAAR,IAAe,EAAjC;AACA,WAAOA,QAAQ,CAAC,CAAD,CAAR,CAAY1C,KAAZ,CAAkB,CAAC,CAAnB,EAAsB4C,WAAtB,OAAwC,KAAxC,GAAgDD,SAAhD,GAA4D,EAAnE;AACD,GALuB;AAMxBE,EAAAA,kBAAkB,EAAEC,IAAI,IAAI,IAAIC,UAAJ,CAAeD,IAAf,CANJ;AAOxBE,EAAAA,cAAc,EAAE,CAACC,eAAD,EAAkBC,UAAlB,KAAiC;AAC/C,UAAMC,GAAG,GAAGjF,kBAAkB,CAAC+E,eAAe,CAACG,oBAAjB,CAA9B;AACA,UAAMC,OAAO,GAAGnF,kBAAkB,CAACgF,UAAU,CAACP,SAAZ,CAAlC;AAEA,WAAQ,OAAMQ,GAAI,aAAYE,OAAQ,EAAtC;AACD,GAZuB;AAaxBC,EAAAA,cAAc,EAAEC,OAAO,IAAI;AACzB,QAAIA,OAAO,CAACC,MAAR,CAAe,CAAf,EAAkB,CAAlB,MAAyB,OAAzB,IAAoCD,OAAO,CAACC,MAAR,CAAe,CAAC,CAAhB,MAAuB,QAA/D,EAAyE;AACvE,aAAOD,OAAO,CAACvD,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAAP;AACD;;AAED,WAAOuD,OAAP;AACD;AAnBuB,CAA1B;AAsBA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAME,gBAAgB,GAAG,YAAY;AACnC,QAAMC,MAAM,GAAG,CACb,eADa,EAEb,kBAFa,EAGb,kBAHa,EAIb,kBAJa,EAKb,kBALa,CAAf;;AAQA,MAAI;AAAA;;AACF,UAAMC,SAAS,GAAG,MAAMC,SAAS,CAACC,2BAAV,CACtB,oBADsB,EAEtBH,MAAM,CAACzF,GAAP,CAAW6F,UAAU,KAAK;AACxBC,MAAAA,iBAAiB,EAAE,CACjB;AACEC,QAAAA,WAAW,EAAE,gCADf;AAEEF,QAAAA;AAFF,OADiB;AADK,KAAL,CAArB,CAFsB,CAAxB;AAWA,WAAO,0BAAAH,SAAS,CAACM,gBAAV,kFAA8BF,iBAA9B,CAAgD,CAAhD,EAAmDD,UAAnD,KAAiE,EAAxE;AACD,GAbD,CAaE,OAAOpF,CAAP,EAAU;AACV,WAAO,EAAP;AACD;AACF,CAzBD;;AA2BA,MAAMwF,cAAc,GAAGC,KAAK;AAAA;;AAAA,SAAKA,KAAK,SAAL,IAAAA,KAAK,WAAL,yBAAAA,KAAK,CAAEC,UAAP,qEAAAD,KAAK,EAAe,IAAf,CAAL,GAA4B,CAA5B,GAAgC,CAArC;AAAA,CAA5B;;AAEA,MAAME,aAAa,GAAGC,QAAQ,IAAI;AAChC,QAAMC,WAAW,GAAGL,cAAc,CAACI,QAAQ,CAACH,KAAV,CAAlC;AACA,QAAMK,MAAM,GAAGF,QAAQ,CAACE,MAAT,IAAmB,QAAlC;AACA,QAAMC,OAAO,GAAG,CAACH,QAAQ,CAACI,cAAT,IAA2B,EAA5B,EAAgC7G,IAAhC,CAAqCF,IAAI,IACvDiG,SAAS,CAACe,SAAV,CAAoBC,QAApB,CAA6BjH,IAA7B,CADc,CAAhB;AAGA,SAAO6G,MAAM,KAAK,UAAX,GACH,kBADG,GAEHA,MAAM,KAAK,MAAX,GACAzD,SADA,GAEAyD,MAAM,KAAK,UAAX,GACAD,WAAW,KAAK,CAAhB,GACED,QAAQ,CAACH,KADX,GAEE,kBAHF,GAIAM,OAAO,GACP,kBADO,GAEPH,QAAQ,CAACH,KAVb;AAWD,CAjBD;;AAmBA,MAAMU,YAAY,GAAG,CAACC,MAAD,EAAS;AAACC,EAAAA,IAAD;AAAOT,EAAAA,QAAQ,GAAG,EAAlB;AAAsBU,EAAAA,QAAQ,GAAG;AAAjC,CAAT,KAAkD;AACrE,QAAMC,eAAe,GAAGZ,aAAa,CAACC,QAAD,CAArC;AACA,QAAMY,eAAe,GAAG,EACtB,GAAGJ,MAAM,CAACK,OADY;AAEtB,QAAGb,QAAH,aAAGA,QAAH,uBAAGA,QAAQ,CAAEa,OAAb;AAFsB,GAAxB;AAIA,QAAMC,eAAe,GAAG,EACtB,GAAGN,MAAM,CAACK,OADY;AAEtB,QAAGH,QAAH,aAAGA,QAAH,uBAAGA,QAAQ,CAAEG,OAAb;AAFsB,GAAxB;AAKA,SAAO;AACLb,IAAAA,QAAQ,EAAE;AACRe,MAAAA,MAAM,EAAEN,IAAI,CAACT,QADL;AAER,SAAGQ,MAFK;AAGRK,MAAAA,OAAO,EAAED,eAHD;AAIR,UAAID,eAAe,IAAI;AAACA,QAAAA;AAAD,OAAvB;AAJQ,KADL;AAOLD,IAAAA,QAAQ,EAAE;AACRK,MAAAA,MAAM,EAAEN,IAAI,CAACC,QADL;AAER,SAAGF,MAFK;AAGRK,MAAAA,OAAO,EAAEC,eAHD;AAIRE,MAAAA,cAAc,EAAG,GAAEP,IAAI,CAACC,QAAL,CAAclF,OAAd,CAAsB,KAAtB,EAA6B,EAA7B,CAAiC,gBAJ5C;AAKRyF,MAAAA,kBAAkB,EAAEP,QAAQ,CAACO,kBALrB;AAMR,SAAGhD;AANK,KAPL;AAeLiD,IAAAA,SAAS,EAAE;AACTH,MAAAA,MAAM,EAAEN,IAAI,CAACS,SADJ;AAET,SAAGV;AAFM;AAfN,GAAP;AAoBD,CA/BD;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;MACMW,sBAAsB,GAAG,CAAC;AAACV,EAAAA,IAAD;AAAOW,EAAAA,KAAP;AAAcP,EAAAA,OAAO,GAAG,EAAxB;AAA4Bb,EAAAA,QAAQ,GAAG;AAAvC,CAAD,KAAgD;AAC7E,QAAMQ,MAAM,GAAG;AACba,IAAAA,eAAe,EAAE,KADJ;AAEbR,IAAAA,OAAO,EAAE;AACP,uBAAkB,mCAAkCO,KAAM,EADnD;AAEP,yBAAmB5H,WAAW,CAACqH,OAAD;AAFvB;AAFI,GAAf;AAOA,QAAMZ,WAAW,GAAGL,cAAc,CAACI,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEH,KAAX,CAAlC;AAEA,SAAOU,YAAY,CAACC,MAAD,EAAS;AAC1BC,IAAAA,IAD0B;AAE1BT,IAAAA,QAAQ,EAAE,EACR,GAAGA,QADK;AAERa,MAAAA,OAAO,EAAE;AACP,2BAAmBrH,WAAW,CAAC,EAC7B,GAAGqH,OAD0B;AAE7BS,UAAAA,uBAAuB,EAAG,IAAGrB,WAAY;AAFZ,SAAD;AADvB;AAFD;AAFgB,GAAT,CAAnB;AAYD;;MAEKsB,mBAAmB,GAAG,CAAC;AAACd,EAAAA,IAAD;AAAOW,EAAAA,KAAP;AAAcpB,EAAAA,QAAQ,GAAG;AAAzB,CAAD,KAAkC;AAC5D,QAAMQ,MAAM,GAAG;AACba,IAAAA,eAAe,EAAE,KADJ;AAEbR,IAAAA,OAAO,EAAE;AACPW,MAAAA,aAAa,EAAG,UAASJ,KAAM;AADxB;AAFI,GAAf;AAMA,QAAMV,QAAQ,GAAG;AACfG,IAAAA,OAAO,EAAE;AAAC,sBAAgB;AAAjB,KADM;AAEfI,IAAAA,kBAAkB,EAAE;AAACO,MAAAA,aAAa,EAAG,UAASJ,KAAM;AAAhC;AAFL,GAAjB;AAKA,SAAOb,YAAY,CAACC,MAAD,EAAS;AAACC,IAAAA,IAAD;AAAOT,IAAAA,QAAP;AAAiBU,IAAAA;AAAjB,GAAT,CAAnB;AACD;;;;;;;;;;;;AC3JD;AACA,IAAI,qBAAqB,GAAG,MAAM,CAAC,qBAAqB,CAAC;AACzD,IAAI,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC;AACrD,IAAI,gBAAgB,GAAG,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC;AAC7D;AACA,SAAS,QAAQ,CAAC,GAAG,EAAE;AACvB,CAAC,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,SAAS,EAAE;AACxC,EAAE,MAAM,IAAI,SAAS,CAAC,uDAAuD,CAAC,CAAC;AAC/E,EAAE;AACF;AACA,CAAC,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;AACpB,CAAC;AACD;AACA,SAAS,eAAe,GAAG;AAC3B,CAAC,IAAI;AACL,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;AACtB,GAAG,OAAO,KAAK,CAAC;AAChB,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE,IAAI,KAAK,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;AAChC,EAAE,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;AAClB,EAAE,IAAI,MAAM,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;AACpD,GAAG,OAAO,KAAK,CAAC;AAChB,GAAG;AACH;AACA;AACA,EAAE,IAAI,KAAK,GAAG,EAAE,CAAC;AACjB,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;AAC/B,GAAG,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AAC3C,GAAG;AACH,EAAE,IAAI,MAAM,GAAG,MAAM,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;AAClE,GAAG,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC;AACnB,GAAG,CAAC,CAAC;AACL,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,YAAY,EAAE;AACxC,GAAG,OAAO,KAAK,CAAC;AAChB,GAAG;AACH;AACA;AACA,EAAE,IAAI,KAAK,GAAG,EAAE,CAAC;AACjB,EAAE,sBAAsB,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;AAC7D,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC;AAC1B,GAAG,CAAC,CAAC;AACL,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC;AACpD,IAAI,sBAAsB,EAAE;AAC5B,GAAG,OAAO,KAAK,CAAC;AAChB,GAAG;AACH;AACA,EAAE,OAAO,IAAI,CAAC;AACd,EAAE,CAAC,OAAO,GAAG,EAAE;AACf;AACA,EAAE,OAAO,KAAK,CAAC;AACf,EAAE;AACF,CAAC;AACD;AACA,gBAAc,GAAG,eAAe,EAAE,GAAG,MAAM,CAAC,MAAM,GAAG,UAAU,MAAM,EAAE,MAAM,EAAE;AAC/E,CAAC,IAAI,IAAI,CAAC;AACV,CAAC,IAAI,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;AAC3B,CAAC,IAAI,OAAO,CAAC;AACb;AACA,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC5C,EAAE,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9B;AACA,EAAE,KAAK,IAAI,GAAG,IAAI,IAAI,EAAE;AACxB,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE;AACvC,IAAI,EAAE,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;AACxB,IAAI;AACJ,GAAG;AACH;AACA,EAAE,IAAI,qBAAqB,EAAE;AAC7B,GAAG,OAAO,GAAG,qBAAqB,CAAC,IAAI,CAAC,CAAC;AACzC,GAAG,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC5C,IAAI,IAAI,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;AACjD,KAAK,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACvC,KAAK;AACL,IAAI;AACJ,GAAG;AACH,EAAE;AACF;AACA,CAAC,OAAO,EAAE,CAAC;AACX,CAAC;;;;;;;;ACjFD;AACA,IAAIe,sBAAoB,GAAG,8CAA8C,CAAC;AAC1E;AACA,0BAAc,GAAGA,sBAAoB;;;;;;;;ACHrC;AACA,IAAIC,cAAY,GAAG,WAAW,EAAE,CAAC;AACjC;AACA,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AAC3C,EAAE,IAAI,oBAAoB,GAAGC,sBAAqC,CAAC;AACnE,EAAE,IAAI,kBAAkB,GAAG,EAAE,CAAC;AAC9B,EAAE,IAAIC,KAAG,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;AAChE;AACA,EAAEF,cAAY,GAAG,SAAS,IAAI,EAAE;AAChC,IAAI,IAAI,OAAO,GAAG,WAAW,GAAG,IAAI,CAAC;AACrC,IAAI,IAAI,OAAO,OAAO,KAAK,WAAW,EAAE;AACxC,MAAM,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AAC7B,KAAK;AACL,IAAI,IAAI;AACR;AACA;AACA;AACA,MAAM,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;AAC/B,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE;AAClB,GAAG,CAAC;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,cAAc,CAAC,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE;AAC9E,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AAC7C,IAAI,KAAK,IAAI,YAAY,IAAI,SAAS,EAAE;AACxC,MAAM,IAAIE,KAAG,CAAC,SAAS,EAAE,YAAY,CAAC,EAAE;AACxC,QAAQ,IAAI,KAAK,CAAC;AAClB;AACA;AACA;AACA,QAAQ,IAAI;AACZ;AACA;AACA,UAAU,IAAI,OAAO,SAAS,CAAC,YAAY,CAAC,KAAK,UAAU,EAAE;AAC7D,YAAY,IAAI,GAAG,GAAG,KAAK;AAC3B,cAAc,CAAC,aAAa,IAAI,aAAa,IAAI,IAAI,GAAG,QAAQ,GAAG,SAAS,GAAG,YAAY,GAAG,gBAAgB;AAC9G,cAAc,8EAA8E,GAAG,OAAO,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI;AACpI,aAAa,CAAC;AACd,YAAY,GAAG,CAAC,IAAI,GAAG,qBAAqB,CAAC;AAC7C,YAAY,MAAM,GAAG,CAAC;AACtB,WAAW;AACX,UAAU,KAAK,GAAG,SAAS,CAAC,YAAY,CAAC,CAAC,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,QAAQ,EAAE,IAAI,EAAE,oBAAoB,CAAC,CAAC;AACrH,SAAS,CAAC,OAAO,EAAE,EAAE;AACrB,UAAU,KAAK,GAAG,EAAE,CAAC;AACrB,SAAS;AACT,QAAQ,IAAI,KAAK,IAAI,EAAE,KAAK,YAAY,KAAK,CAAC,EAAE;AAChD,UAAUF,cAAY;AACtB,YAAY,CAAC,aAAa,IAAI,aAAa,IAAI,0BAA0B;AACzE,YAAY,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,iCAAiC;AAC9E,YAAY,2DAA2D,GAAG,OAAO,KAAK,GAAG,IAAI;AAC7F,YAAY,iEAAiE;AAC7E,YAAY,gEAAgE;AAC5E,YAAY,iCAAiC;AAC7C,WAAW,CAAC;AACZ,SAAS;AACT,QAAQ,IAAI,KAAK,YAAY,KAAK,IAAI,EAAE,KAAK,CAAC,OAAO,IAAI,kBAAkB,CAAC,EAAE;AAC9E;AACA;AACA,UAAU,kBAAkB,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;AACnD;AACA,UAAU,IAAI,KAAK,GAAG,QAAQ,GAAG,QAAQ,EAAE,GAAG,EAAE,CAAC;AACjD;AACA,UAAUA,cAAY;AACtB,YAAY,SAAS,GAAG,QAAQ,GAAG,SAAS,GAAG,KAAK,CAAC,OAAO,IAAI,KAAK,IAAI,IAAI,GAAG,KAAK,GAAG,EAAE,CAAC;AAC3F,WAAW,CAAC;AACZ,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,CAAC,iBAAiB,GAAG,WAAW;AAC9C,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AAC7C,IAAI,kBAAkB,GAAG,EAAE,CAAC;AAC5B,GAAG;AACH,EAAC;AACD;AACA,oBAAc,GAAG,cAAc;;;;;;;;AC7F/B;AACkC;AACI;AACtC;AACiE;AAChB;AACjD;AACA,IAAI,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;AAC9D,IAAI,YAAY,GAAG,WAAW,EAAE,CAAC;AACjC;AACA,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AAC3C,EAAE,YAAY,GAAG,SAAS,IAAI,EAAE;AAChC,IAAI,IAAI,OAAO,GAAG,WAAW,GAAG,IAAI,CAAC;AACrC,IAAI,IAAI,OAAO,OAAO,KAAK,WAAW,EAAE;AACxC,MAAM,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AAC7B,KAAK;AACL,IAAI,IAAI;AACR;AACA;AACA;AACA,MAAM,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;AAC/B,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE;AAClB,GAAG,CAAC;AACJ,CAAC;AACD;AACA,SAAS,4BAA4B,GAAG;AACxC,EAAE,OAAO,IAAI,CAAC;AACd,CAAC;AACD;AACA,2BAAc,GAAG,SAAS,cAAc,EAAE,mBAAmB,EAAE;AAC/D;AACA,EAAE,IAAI,eAAe,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,QAAQ,CAAC;AACxE,EAAE,IAAI,oBAAoB,GAAG,YAAY,CAAC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,aAAa,CAAC,aAAa,EAAE;AACxC,IAAI,IAAI,UAAU,GAAG,aAAa,KAAK,eAAe,IAAI,aAAa,CAAC,eAAe,CAAC,IAAI,aAAa,CAAC,oBAAoB,CAAC,CAAC,CAAC;AACjI,IAAI,IAAI,OAAO,UAAU,KAAK,UAAU,EAAE;AAC1C,MAAM,OAAO,UAAU,CAAC;AACxB,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,SAAS,GAAG,eAAe,CAAC;AAClC;AACA;AACA;AACA,EAAE,IAAI,cAAc,GAAG;AACvB,IAAI,KAAK,EAAE,0BAA0B,CAAC,OAAO,CAAC;AAC9C,IAAI,IAAI,EAAE,0BAA0B,CAAC,SAAS,CAAC;AAC/C,IAAI,IAAI,EAAE,0BAA0B,CAAC,UAAU,CAAC;AAChD,IAAI,MAAM,EAAE,0BAA0B,CAAC,QAAQ,CAAC;AAChD,IAAI,MAAM,EAAE,0BAA0B,CAAC,QAAQ,CAAC;AAChD,IAAI,MAAM,EAAE,0BAA0B,CAAC,QAAQ,CAAC;AAChD,IAAI,MAAM,EAAE,0BAA0B,CAAC,QAAQ,CAAC;AAChD;AACA,IAAI,GAAG,EAAE,oBAAoB,EAAE;AAC/B,IAAI,OAAO,EAAE,wBAAwB;AACrC,IAAI,OAAO,EAAE,wBAAwB,EAAE;AACvC,IAAI,WAAW,EAAE,4BAA4B,EAAE;AAC/C,IAAI,UAAU,EAAE,yBAAyB;AACzC,IAAI,IAAI,EAAE,iBAAiB,EAAE;AAC7B,IAAI,QAAQ,EAAE,yBAAyB;AACvC,IAAI,KAAK,EAAE,qBAAqB;AAChC,IAAI,SAAS,EAAE,sBAAsB;AACrC,IAAI,KAAK,EAAE,sBAAsB;AACjC,IAAI,KAAK,EAAE,4BAA4B;AACvC,GAAG,CAAC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;AACpB;AACA,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE;AACjB;AACA;AACA,MAAM,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACxC,KAAK,MAAM;AACX;AACA,MAAM,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAChC,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,aAAa,CAAC,OAAO,EAAE;AAClC,IAAI,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AAC3B,IAAI,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;AACpB,GAAG;AACH;AACA,EAAE,aAAa,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;AAC5C;AACA,EAAE,SAAS,0BAA0B,CAAC,QAAQ,EAAE;AAChD,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AAC/C,MAAM,IAAI,uBAAuB,GAAG,EAAE,CAAC;AACvC,MAAM,IAAI,0BAA0B,GAAG,CAAC,CAAC;AACzC,KAAK;AACL,IAAI,SAAS,SAAS,CAAC,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE,MAAM,EAAE;AACnG,MAAM,aAAa,GAAG,aAAa,IAAI,SAAS,CAAC;AACjD,MAAM,YAAY,GAAG,YAAY,IAAI,QAAQ,CAAC;AAC9C;AACA,MAAM,IAAI,MAAM,KAAKD,sBAAoB,EAAE;AAC3C,QAAQ,IAAI,mBAAmB,EAAE;AACjC;AACA,UAAU,IAAI,GAAG,GAAG,IAAI,KAAK;AAC7B,YAAY,sFAAsF;AAClG,YAAY,iDAAiD;AAC7D,YAAY,gDAAgD;AAC5D,WAAW,CAAC;AACZ,UAAU,GAAG,CAAC,IAAI,GAAG,qBAAqB,CAAC;AAC3C,UAAU,MAAM,GAAG,CAAC;AACpB,SAAS,MAAM,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,IAAI,OAAO,OAAO,KAAK,WAAW,EAAE;AAC5F;AACA,UAAU,IAAI,QAAQ,GAAG,aAAa,GAAG,GAAG,GAAG,QAAQ,CAAC;AACxD,UAAU;AACV,YAAY,CAAC,uBAAuB,CAAC,QAAQ,CAAC;AAC9C;AACA,YAAY,0BAA0B,GAAG,CAAC;AAC1C,YAAY;AACZ,YAAY,YAAY;AACxB,cAAc,wDAAwD;AACtE,cAAc,oBAAoB,GAAG,YAAY,GAAG,aAAa,GAAG,aAAa,IAAI,wBAAwB;AAC7G,cAAc,yDAAyD;AACvE,cAAc,gEAAgE;AAC9E,cAAc,+DAA+D,GAAG,cAAc;AAC9F,aAAa,CAAC;AACd,YAAY,uBAAuB,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;AACrD,YAAY,0BAA0B,EAAE,CAAC;AACzC,WAAW;AACX,SAAS;AACT,OAAO;AACP,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE;AACnC,QAAQ,IAAI,UAAU,EAAE;AACxB,UAAU,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,IAAI,EAAE;AACxC,YAAY,OAAO,IAAI,aAAa,CAAC,MAAM,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,0BAA0B,IAAI,MAAM,GAAG,aAAa,GAAG,6BAA6B,CAAC,CAAC,CAAC;AACtK,WAAW;AACX,UAAU,OAAO,IAAI,aAAa,CAAC,MAAM,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,6BAA6B,IAAI,GAAG,GAAG,aAAa,GAAG,kCAAkC,CAAC,CAAC,CAAC;AACzK,SAAS;AACT,QAAQ,OAAO,IAAI,CAAC;AACpB,OAAO,MAAM;AACb,QAAQ,OAAO,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC;AAChF,OAAO;AACP,KAAK;AACL;AACA,IAAI,IAAI,gBAAgB,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;AACvD,IAAI,gBAAgB,CAAC,UAAU,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAC7D;AACA,IAAI,OAAO,gBAAgB,CAAC;AAC5B,GAAG;AACH;AACA,EAAE,SAAS,0BAA0B,CAAC,YAAY,EAAE;AACpD,IAAI,SAAS,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE,MAAM,EAAE;AACtF,MAAM,IAAI,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;AACtC,MAAM,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;AAC5C,MAAM,IAAI,QAAQ,KAAK,YAAY,EAAE;AACrC;AACA;AACA;AACA,QAAQ,IAAI,WAAW,GAAG,cAAc,CAAC,SAAS,CAAC,CAAC;AACpD;AACA,QAAQ,OAAO,IAAI,aAAa,CAAC,UAAU,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,YAAY,IAAI,GAAG,GAAG,WAAW,GAAG,iBAAiB,GAAG,aAAa,GAAG,cAAc,CAAC,IAAI,GAAG,GAAG,YAAY,GAAG,IAAI,CAAC,CAAC,CAAC;AACtM,OAAO;AACP,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL,IAAI,OAAO,0BAA0B,CAAC,QAAQ,CAAC,CAAC;AAChD,GAAG;AACH;AACA,EAAE,SAAS,oBAAoB,GAAG;AAClC,IAAI,OAAO,0BAA0B,CAAC,4BAA4B,CAAC,CAAC;AACpE,GAAG;AACH;AACA,EAAE,SAAS,wBAAwB,CAAC,WAAW,EAAE;AACjD,IAAI,SAAS,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE;AAC9E,MAAM,IAAI,OAAO,WAAW,KAAK,UAAU,EAAE;AAC7C,QAAQ,OAAO,IAAI,aAAa,CAAC,YAAY,GAAG,YAAY,GAAG,kBAAkB,GAAG,aAAa,GAAG,iDAAiD,CAAC,CAAC;AACvJ,OAAO;AACP,MAAM,IAAI,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;AACtC,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AACrC,QAAQ,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;AAC9C,QAAQ,OAAO,IAAI,aAAa,CAAC,UAAU,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,YAAY,IAAI,GAAG,GAAG,QAAQ,GAAG,iBAAiB,GAAG,aAAa,GAAG,uBAAuB,CAAC,CAAC,CAAC;AAC9K,OAAO;AACP,MAAM,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACjD,QAAQ,IAAI,KAAK,GAAG,WAAW,CAAC,SAAS,EAAE,CAAC,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,EAAEA,sBAAoB,CAAC,CAAC;AAC3H,QAAQ,IAAI,KAAK,YAAY,KAAK,EAAE;AACpC,UAAU,OAAO,KAAK,CAAC;AACvB,SAAS;AACT,OAAO;AACP,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL,IAAI,OAAO,0BAA0B,CAAC,QAAQ,CAAC,CAAC;AAChD,GAAG;AACH;AACA,EAAE,SAAS,wBAAwB,GAAG;AACtC,IAAI,SAAS,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE;AAC9E,MAAM,IAAI,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;AACtC,MAAM,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;AACtC,QAAQ,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;AAC9C,QAAQ,OAAO,IAAI,aAAa,CAAC,UAAU,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,YAAY,IAAI,GAAG,GAAG,QAAQ,GAAG,iBAAiB,GAAG,aAAa,GAAG,oCAAoC,CAAC,CAAC,CAAC;AAC3L,OAAO;AACP,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL,IAAI,OAAO,0BAA0B,CAAC,QAAQ,CAAC,CAAC;AAChD,GAAG;AACH;AACA,EAAE,SAAS,4BAA4B,GAAG;AAC1C,IAAI,SAAS,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE;AAC9E,MAAM,IAAI,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;AACtC,MAAM,IAAI,CAACI,2BAAO,CAAC,kBAAkB,CAAC,SAAS,CAAC,EAAE;AAClD,QAAQ,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;AAC9C,QAAQ,OAAO,IAAI,aAAa,CAAC,UAAU,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,YAAY,IAAI,GAAG,GAAG,QAAQ,GAAG,iBAAiB,GAAG,aAAa,GAAG,yCAAyC,CAAC,CAAC,CAAC;AAChM,OAAO;AACP,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL,IAAI,OAAO,0BAA0B,CAAC,QAAQ,CAAC,CAAC;AAChD,GAAG;AACH;AACA,EAAE,SAAS,yBAAyB,CAAC,aAAa,EAAE;AACpD,IAAI,SAAS,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE;AAC9E,MAAM,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,YAAY,aAAa,CAAC,EAAE;AACvD,QAAQ,IAAI,iBAAiB,GAAG,aAAa,CAAC,IAAI,IAAI,SAAS,CAAC;AAChE,QAAQ,IAAI,eAAe,GAAG,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC5D,QAAQ,OAAO,IAAI,aAAa,CAAC,UAAU,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,YAAY,IAAI,GAAG,GAAG,eAAe,GAAG,iBAAiB,GAAG,aAAa,GAAG,cAAc,CAAC,IAAI,eAAe,GAAG,iBAAiB,GAAG,IAAI,CAAC,CAAC,CAAC;AAC3N,OAAO;AACP,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL,IAAI,OAAO,0BAA0B,CAAC,QAAQ,CAAC,CAAC;AAChD,GAAG;AACH;AACA,EAAE,SAAS,qBAAqB,CAAC,cAAc,EAAE;AACjD,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE;AACxC,MAAM,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AACjD,QAAQ,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;AAClC,UAAU,YAAY;AACtB,YAAY,8DAA8D,GAAG,SAAS,CAAC,MAAM,GAAG,cAAc;AAC9G,YAAY,0EAA0E;AACtF,WAAW,CAAC;AACZ,SAAS,MAAM;AACf,UAAU,YAAY,CAAC,wDAAwD,CAAC,CAAC;AACjF,SAAS;AACT,OAAO;AACP,MAAM,OAAO,4BAA4B,CAAC;AAC1C,KAAK;AACL;AACA,IAAI,SAAS,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE;AAC9E,MAAM,IAAI,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;AACtC,MAAM,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACtD,QAAQ,IAAI,EAAE,CAAC,SAAS,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE;AAC9C,UAAU,OAAO,IAAI,CAAC;AACtB,SAAS;AACT,OAAO;AACP;AACA,MAAM,IAAI,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,SAAS,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE;AACtF,QAAQ,IAAI,IAAI,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC;AACzC,QAAQ,IAAI,IAAI,KAAK,QAAQ,EAAE;AAC/B,UAAU,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC;AAC/B,SAAS;AACT,QAAQ,OAAO,KAAK,CAAC;AACrB,OAAO,CAAC,CAAC;AACT,MAAM,OAAO,IAAI,aAAa,CAAC,UAAU,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,GAAG,IAAI,IAAI,eAAe,GAAG,aAAa,GAAG,qBAAqB,GAAG,YAAY,GAAG,GAAG,CAAC,CAAC,CAAC;AACzM,KAAK;AACL,IAAI,OAAO,0BAA0B,CAAC,QAAQ,CAAC,CAAC;AAChD,GAAG;AACH;AACA,EAAE,SAAS,yBAAyB,CAAC,WAAW,EAAE;AAClD,IAAI,SAAS,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE;AAC9E,MAAM,IAAI,OAAO,WAAW,KAAK,UAAU,EAAE;AAC7C,QAAQ,OAAO,IAAI,aAAa,CAAC,YAAY,GAAG,YAAY,GAAG,kBAAkB,GAAG,aAAa,GAAG,kDAAkD,CAAC,CAAC;AACxJ,OAAO;AACP,MAAM,IAAI,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;AACtC,MAAM,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;AAC5C,MAAM,IAAI,QAAQ,KAAK,QAAQ,EAAE;AACjC,QAAQ,OAAO,IAAI,aAAa,CAAC,UAAU,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,YAAY,IAAI,GAAG,GAAG,QAAQ,GAAG,iBAAiB,GAAG,aAAa,GAAG,wBAAwB,CAAC,CAAC,CAAC;AAC/K,OAAO;AACP,MAAM,KAAK,IAAI,GAAG,IAAI,SAAS,EAAE;AACjC,QAAQ,IAAI,GAAG,CAAC,SAAS,EAAE,GAAG,CAAC,EAAE;AACjC,UAAU,IAAI,KAAK,GAAG,WAAW,CAAC,SAAS,EAAE,GAAG,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,GAAG,GAAG,GAAG,GAAG,EAAEJ,sBAAoB,CAAC,CAAC;AAC3H,UAAU,IAAI,KAAK,YAAY,KAAK,EAAE;AACtC,YAAY,OAAO,KAAK,CAAC;AACzB,WAAW;AACX,SAAS;AACT,OAAO;AACP,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL,IAAI,OAAO,0BAA0B,CAAC,QAAQ,CAAC,CAAC;AAChD,GAAG;AACH;AACA,EAAE,SAAS,sBAAsB,CAAC,mBAAmB,EAAE;AACvD,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAE;AAC7C,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,GAAG,YAAY,CAAC,wEAAwE,CAAC,GAAG,KAAK,CAAC,CAAC;AAC9I,MAAM,OAAO,4BAA4B,CAAC;AAC1C,KAAK;AACL;AACA,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,mBAAmB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACzD,MAAM,IAAI,OAAO,GAAG,mBAAmB,CAAC,CAAC,CAAC,CAAC;AAC3C,MAAM,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;AACzC,QAAQ,YAAY;AACpB,UAAU,oFAAoF;AAC9F,UAAU,WAAW,GAAG,wBAAwB,CAAC,OAAO,CAAC,GAAG,YAAY,GAAG,CAAC,GAAG,GAAG;AAClF,SAAS,CAAC;AACV,QAAQ,OAAO,4BAA4B,CAAC;AAC5C,OAAO;AACP,KAAK;AACL;AACA,IAAI,SAAS,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE;AAC9E,MAAM,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,mBAAmB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC3D,QAAQ,IAAI,OAAO,GAAG,mBAAmB,CAAC,CAAC,CAAC,CAAC;AAC7C,QAAQ,IAAI,OAAO,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAEA,sBAAoB,CAAC,IAAI,IAAI,EAAE;AAC3G,UAAU,OAAO,IAAI,CAAC;AACtB,SAAS;AACT,OAAO;AACP;AACA,MAAM,OAAO,IAAI,aAAa,CAAC,UAAU,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,gBAAgB,IAAI,GAAG,GAAG,aAAa,GAAG,IAAI,CAAC,CAAC,CAAC;AAC9H,KAAK;AACL,IAAI,OAAO,0BAA0B,CAAC,QAAQ,CAAC,CAAC;AAChD,GAAG;AACH;AACA,EAAE,SAAS,iBAAiB,GAAG;AAC/B,IAAI,SAAS,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE;AAC9E,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE;AACpC,QAAQ,OAAO,IAAI,aAAa,CAAC,UAAU,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,gBAAgB,IAAI,GAAG,GAAG,aAAa,GAAG,0BAA0B,CAAC,CAAC,CAAC;AACtJ,OAAO;AACP,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL,IAAI,OAAO,0BAA0B,CAAC,QAAQ,CAAC,CAAC;AAChD,GAAG;AACH;AACA,EAAE,SAAS,sBAAsB,CAAC,UAAU,EAAE;AAC9C,IAAI,SAAS,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE;AAC9E,MAAM,IAAI,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;AACtC,MAAM,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;AAC5C,MAAM,IAAI,QAAQ,KAAK,QAAQ,EAAE;AACjC,QAAQ,OAAO,IAAI,aAAa,CAAC,UAAU,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,aAAa,GAAG,QAAQ,GAAG,IAAI,IAAI,eAAe,GAAG,aAAa,GAAG,uBAAuB,CAAC,CAAC,CAAC;AAC9K,OAAO;AACP,MAAM,KAAK,IAAI,GAAG,IAAI,UAAU,EAAE;AAClC,QAAQ,IAAI,OAAO,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;AACtC,QAAQ,IAAI,CAAC,OAAO,EAAE;AACtB,UAAU,SAAS;AACnB,SAAS;AACT,QAAQ,IAAI,KAAK,GAAG,OAAO,CAAC,SAAS,EAAE,GAAG,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,GAAG,GAAG,GAAG,GAAG,EAAEA,sBAAoB,CAAC,CAAC;AACrH,QAAQ,IAAI,KAAK,EAAE;AACnB,UAAU,OAAO,KAAK,CAAC;AACvB,SAAS;AACT,OAAO;AACP,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL,IAAI,OAAO,0BAA0B,CAAC,QAAQ,CAAC,CAAC;AAChD,GAAG;AACH;AACA,EAAE,SAAS,4BAA4B,CAAC,UAAU,EAAE;AACpD,IAAI,SAAS,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE;AAC9E,MAAM,IAAI,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;AACtC,MAAM,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;AAC5C,MAAM,IAAI,QAAQ,KAAK,QAAQ,EAAE;AACjC,QAAQ,OAAO,IAAI,aAAa,CAAC,UAAU,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,aAAa,GAAG,QAAQ,GAAG,IAAI,IAAI,eAAe,GAAG,aAAa,GAAG,uBAAuB,CAAC,CAAC,CAAC;AAC9K,OAAO;AACP;AACA;AACA,MAAM,IAAI,OAAO,GAAGK,YAAM,CAAC,EAAE,EAAE,KAAK,CAAC,QAAQ,CAAC,EAAE,UAAU,CAAC,CAAC;AAC5D,MAAM,KAAK,IAAI,GAAG,IAAI,OAAO,EAAE;AAC/B,QAAQ,IAAI,OAAO,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;AACtC,QAAQ,IAAI,CAAC,OAAO,EAAE;AACtB,UAAU,OAAO,IAAI,aAAa;AAClC,YAAY,UAAU,GAAG,QAAQ,GAAG,IAAI,GAAG,YAAY,GAAG,SAAS,GAAG,GAAG,GAAG,iBAAiB,GAAG,aAAa,GAAG,IAAI;AACpH,YAAY,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;AAC1E,YAAY,gBAAgB,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;AACnF,WAAW,CAAC;AACZ,SAAS;AACT,QAAQ,IAAI,KAAK,GAAG,OAAO,CAAC,SAAS,EAAE,GAAG,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,GAAG,GAAG,GAAG,GAAG,EAAEL,sBAAoB,CAAC,CAAC;AACrH,QAAQ,IAAI,KAAK,EAAE;AACnB,UAAU,OAAO,KAAK,CAAC;AACvB,SAAS;AACT,OAAO;AACP,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL;AACA,IAAI,OAAO,0BAA0B,CAAC,QAAQ,CAAC,CAAC;AAChD,GAAG;AACH;AACA,EAAE,SAAS,MAAM,CAAC,SAAS,EAAE;AAC7B,IAAI,QAAQ,OAAO,SAAS;AAC5B,MAAM,KAAK,QAAQ,CAAC;AACpB,MAAM,KAAK,QAAQ,CAAC;AACpB,MAAM,KAAK,WAAW;AACtB,QAAQ,OAAO,IAAI,CAAC;AACpB,MAAM,KAAK,SAAS;AACpB,QAAQ,OAAO,CAAC,SAAS,CAAC;AAC1B,MAAM,KAAK,QAAQ;AACnB,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AACtC,UAAU,OAAO,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AACzC,SAAS;AACT,QAAQ,IAAI,SAAS,KAAK,IAAI,IAAI,cAAc,CAAC,SAAS,CAAC,EAAE;AAC7D,UAAU,OAAO,IAAI,CAAC;AACtB,SAAS;AACT;AACA,QAAQ,IAAI,UAAU,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC;AAClD,QAAQ,IAAI,UAAU,EAAE;AACxB,UAAU,IAAI,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACpD,UAAU,IAAI,IAAI,CAAC;AACnB,UAAU,IAAI,UAAU,KAAK,SAAS,CAAC,OAAO,EAAE;AAChD,YAAY,OAAO,CAAC,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE;AACnD,cAAc,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AACvC,gBAAgB,OAAO,KAAK,CAAC;AAC7B,eAAe;AACf,aAAa;AACb,WAAW,MAAM;AACjB;AACA,YAAY,OAAO,CAAC,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE;AACnD,cAAc,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;AACrC,cAAc,IAAI,KAAK,EAAE;AACzB,gBAAgB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;AACvC,kBAAkB,OAAO,KAAK,CAAC;AAC/B,iBAAiB;AACjB,eAAe;AACf,aAAa;AACb,WAAW;AACX,SAAS,MAAM;AACf,UAAU,OAAO,KAAK,CAAC;AACvB,SAAS;AACT;AACA,QAAQ,OAAO,IAAI,CAAC;AACpB,MAAM;AACN,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL,GAAG;AACH;AACA,EAAE,SAAS,QAAQ,CAAC,QAAQ,EAAE,SAAS,EAAE;AACzC;AACA,IAAI,IAAI,QAAQ,KAAK,QAAQ,EAAE;AAC/B,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL;AACA;AACA,IAAI,IAAI,CAAC,SAAS,EAAE;AACpB,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL;AACA;AACA,IAAI,IAAI,SAAS,CAAC,eAAe,CAAC,KAAK,QAAQ,EAAE;AACjD,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL;AACA;AACA,IAAI,IAAI,OAAO,MAAM,KAAK,UAAU,IAAI,SAAS,YAAY,MAAM,EAAE;AACrE,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL;AACA,IAAI,OAAO,KAAK,CAAC;AACjB,GAAG;AACH;AACA;AACA,EAAE,SAAS,WAAW,CAAC,SAAS,EAAE;AAClC,IAAI,IAAI,QAAQ,GAAG,OAAO,SAAS,CAAC;AACpC,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AAClC,MAAM,OAAO,OAAO,CAAC;AACrB,KAAK;AACL,IAAI,IAAI,SAAS,YAAY,MAAM,EAAE;AACrC;AACA;AACA;AACA,MAAM,OAAO,QAAQ,CAAC;AACtB,KAAK;AACL,IAAI,IAAI,QAAQ,CAAC,QAAQ,EAAE,SAAS,CAAC,EAAE;AACvC,MAAM,OAAO,QAAQ,CAAC;AACtB,KAAK;AACL,IAAI,OAAO,QAAQ,CAAC;AACpB,GAAG;AACH;AACA;AACA;AACA,EAAE,SAAS,cAAc,CAAC,SAAS,EAAE;AACrC,IAAI,IAAI,OAAO,SAAS,KAAK,WAAW,IAAI,SAAS,KAAK,IAAI,EAAE;AAChE,MAAM,OAAO,EAAE,GAAG,SAAS,CAAC;AAC5B,KAAK;AACL,IAAI,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;AAC1C,IAAI,IAAI,QAAQ,KAAK,QAAQ,EAAE;AAC/B,MAAM,IAAI,SAAS,YAAY,IAAI,EAAE;AACrC,QAAQ,OAAO,MAAM,CAAC;AACtB,OAAO,MAAM,IAAI,SAAS,YAAY,MAAM,EAAE;AAC9C,QAAQ,OAAO,QAAQ,CAAC;AACxB,OAAO;AACP,KAAK;AACL,IAAI,OAAO,QAAQ,CAAC;AACpB,GAAG;AACH;AACA;AACA;AACA,EAAE,SAAS,wBAAwB,CAAC,KAAK,EAAE;AAC3C,IAAI,IAAI,IAAI,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC;AACrC,IAAI,QAAQ,IAAI;AAChB,MAAM,KAAK,OAAO,CAAC;AACnB,MAAM,KAAK,QAAQ;AACnB,QAAQ,OAAO,KAAK,GAAG,IAAI,CAAC;AAC5B,MAAM,KAAK,SAAS,CAAC;AACrB,MAAM,KAAK,MAAM,CAAC;AAClB,MAAM,KAAK,QAAQ;AACnB,QAAQ,OAAO,IAAI,GAAG,IAAI,CAAC;AAC3B,MAAM;AACN,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK;AACL,GAAG;AACH;AACA;AACA,EAAE,SAAS,YAAY,CAAC,SAAS,EAAE;AACnC,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE;AAC/D,MAAM,OAAO,SAAS,CAAC;AACvB,KAAK;AACL,IAAI,OAAO,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC;AACtC,GAAG;AACH;AACA,EAAE,cAAc,CAAC,cAAc,GAAGM,gBAAc,CAAC;AACjD,EAAE,cAAc,CAAC,iBAAiB,GAAGA,gBAAc,CAAC,iBAAiB,CAAC;AACtE,EAAE,cAAc,CAAC,SAAS,GAAG,cAAc,CAAC;AAC5C;AACA,EAAE,OAAO,cAAc,CAAC;AACxB,CAAC;;;;;;;;ACtkBD;AACiE;AACjE;AACA,SAAS,aAAa,GAAG,EAAE;AAC3B,SAAS,sBAAsB,GAAG,EAAE;AACpC,sBAAsB,CAAC,iBAAiB,GAAG,aAAa,CAAC;AACzD;AACA,4BAAc,GAAG,WAAW;AAC5B,EAAE,SAAS,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE,MAAM,EAAE;AAChF,IAAI,IAAI,MAAM,KAAKN,sBAAoB,EAAE;AACzC;AACA,MAAM,OAAO;AACb,KAAK;AACL,IAAI,IAAI,GAAG,GAAG,IAAI,KAAK;AACvB,MAAM,sFAAsF;AAC5F,MAAM,+CAA+C;AACrD,MAAM,gDAAgD;AACtD,KAAK,CAAC;AACN,IAAI,GAAG,CAAC,IAAI,GAAG,qBAAqB,CAAC;AACrC,IAAI,MAAM,GAAG,CAAC;AACd,GACA,EAAE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AACzB,EAAE,SAAS,OAAO,GAAG;AACrB,IAAI,OAAO,IAAI,CAAC;AAChB,GACA;AACA;AACA,EAAE,IAAI,cAAc,GAAG;AACvB,IAAI,KAAK,EAAE,IAAI;AACf,IAAI,IAAI,EAAE,IAAI;AACd,IAAI,IAAI,EAAE,IAAI;AACd,IAAI,MAAM,EAAE,IAAI;AAChB,IAAI,MAAM,EAAE,IAAI;AAChB,IAAI,MAAM,EAAE,IAAI;AAChB,IAAI,MAAM,EAAE,IAAI;AAChB;AACA,IAAI,GAAG,EAAE,IAAI;AACb,IAAI,OAAO,EAAE,OAAO;AACpB,IAAI,OAAO,EAAE,IAAI;AACjB,IAAI,WAAW,EAAE,IAAI;AACrB,IAAI,UAAU,EAAE,OAAO;AACvB,IAAI,IAAI,EAAE,IAAI;AACd,IAAI,QAAQ,EAAE,OAAO;AACrB,IAAI,KAAK,EAAE,OAAO;AAClB,IAAI,SAAS,EAAE,OAAO;AACtB,IAAI,KAAK,EAAE,OAAO;AAClB,IAAI,KAAK,EAAE,OAAO;AAClB;AACA,IAAI,cAAc,EAAE,sBAAsB;AAC1C,IAAI,iBAAiB,EAAE,aAAa;AACpC,GAAG,CAAC;AACJ;AACA,EAAE,cAAc,CAAC,SAAS,GAAG,cAAc,CAAC;AAC5C;AACA,EAAE,OAAO,cAAc,CAAC;AACxB,CAAC;;;;;;;;;;ACxDD,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AAC3C,EAAE,IAAI,OAAO,GAAGE,2BAAmB,CAAC;AACpC;AACA;AACA;AACA,EAAE,IAAI,mBAAmB,GAAG,IAAI,CAAC;AACjC,EAAE,iBAAiBK,uBAAoC,CAAC,OAAO,CAAC,SAAS,EAAE,mBAAmB,CAAC,CAAC;AAChG,CAAC,MAAM;AACP;AACA;AACA,EAAE,iBAAiBC,wBAAqC,EAAE,CAAC;AAC3D;;;AClBA,MAAMC,gBAAgB,GAAG,CAACC,KAAD,EAAQC,SAAR,KAAsB;AAC7C,QAAMC,MAAM,GAAGF,KAAK,CAACG,IAAN,CAAW,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,GAAGD,CAAzB,CAAf;;AACA,MAAI,CAACH,SAAL,EAAgB;AACd,WAAOC,MAAM,CAAC,CAAD,CAAb;AACD;;AACD,SAAOA,MAAM,CAACI,IAAP,CAAYlI,KAAK,IAAIA,KAAK,IAAI6H,SAA9B,KAA4CC,MAAM,CAAC3G,KAAP,CAAa,CAAC,CAAd,EAAiB,CAAjB,CAAnD;AACD,CAND;;AA4BA,MAAMgH,QAAQ,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAoB;AACnC,QAAMC,KAAK,GAAG,CACZD,OAAO,CAACE,MAAR,IAAkB,GADN,EAEZF,OAAO,CAACG,UAAR,IAAsB,GAFV,EAGZH,OAAO,CAACI,SAAR,IAAqB,GAHT,EAKXC,MALW,CAKJC,OALI,EAMXrJ,IANW,CAMN,EANM,CAAd;AAOA,QAAMsJ,KAAK,GAAG,IAAIC,MAAJ,CAAWR,OAAX,EAAoBC,KAApB,CAAd;AAEA,SAAOQ,KAAK,CAACC,IAAN,CACJ,aAAa;AACZ,QAAIC,OAAO,GAAG,IAAd;;AACA,WAAO,CAAP,EAAU;AACRA,MAAAA,OAAO,GAAGJ,KAAK,CAACK,IAAN,CAAWb,KAAX,CAAV;;AACA,UAAI,CAACY,OAAL,EAAc;AACZ;AACD;;AACD,YAAMA,OAAN;AACD;AACF,GATD,EADK,CAAP;AAYD,CAtBD;;AAwBA,MAAME,cAAc,GAAG,CAACC,QAAD,EAAWC,SAAX,KACrBD,QAAQ,CAAClI,OAAT,CACE,sEADF,EAEE,CAAC,GAAGoI,OAAJ,KACE,CAACA,OAAO,CAAC,CAAD,CAAR,EAAaA,OAAO,CAAC,CAAD,CAApB,EAAyB,IAAIC,GAAJ,CAAQD,OAAO,CAAC,CAAD,CAAP,IAAcA,OAAO,CAAC,CAAD,CAA7B,EAAkCD,SAAlC,CAAzB,EACGV,MADH,CACUC,OADV,EAEGrJ,IAFH,CAEQ,EAFR,CAHJ,CADF;;AASA,MAAMiK,mBAAmB,GAAG,CAACJ,QAAD,EAAW;AAACC,EAAAA,SAAD;AAAYV,EAAAA;AAAZ,CAAX,KAAmC;AAC7D,MAAI,CAACA,MAAL,EAAa;AACX;AACD;;AACD,QAAMc,KAAK,GAAGrB,QAAQ,CACpBgB,QADoB,EAEpB,yBAFoB,CAAR,CAGZ/J,GAHY,CAGR,CAAC,GAAGwD,KAAH,EAAUM,MAAV,CAAD,MAAwB;AAACN,IAAAA,KAAK,EAAE,CAACA,KAAT;AAAgBM,IAAAA,MAAM,EAAE,CAACA;AAAzB,GAAxB,CAHQ,CAAd;AAIA,QAAMuG,QAAQ,GAAGf,MAAM,CAACc,KAAD,CAAN,IAAiBA,KAAlC;;AACA,MAAIC,QAAQ,CAACC,MAAT,KAAoB,CAAxB,EAA2B;AACzB;AACD;;AACD,QAAMC,QAAQ,GAAGR,QAAQ,CAAClI,OAAT,CACf,oDADe,EAEf,CAAC2I,IAAD,EAAOhH,KAAP,EAAcM,MAAd,KACEuG,QAAQ,CAACzK,IAAT,CAAc6K,CAAC,IAAIA,CAAC,CAACjH,KAAF,KAAY,CAACA,KAAb,IAAsBiH,CAAC,CAAC3G,MAAF,KAAa,CAACA,MAAvD,IAAiE0G,IAAjE,GAAwE,EAH3D,CAAjB;;AAKA,MAAID,QAAQ,KAAKR,QAAjB,EAA2B;AACzB;AACD;;AACD,SAAOD,cAAc,CAACS,QAAD,EAAWP,SAAX,CAArB;AACD,CArBD;;AAuBA,MAAMU,cAAc,GAAG,CAAC9B,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAAC9E,MAAF,GAAW+E,CAAC,CAAC/E,MAA9C;;AAEA,MAAM6G,oBAAoB,GAAG,CAAC;AAACC,EAAAA,SAAD;AAAYC,EAAAA;AAAZ,CAAD,KAAgC;AAC3D,MAAID,SAAS,CAAChL,IAAV,CAAekL,OAAO,IAAIJ,cAAc,CAACI,OAAD,EAAUD,aAAV,CAAd,IAA0C,CAApE,CAAJ,EAA4E;AAC1E,WAAOD,SAAS,CAACtB,MAAV,CACLwB,OAAO,IAAIJ,cAAc,CAACI,OAAD,EAAUD,aAAV,CAAd,IAA0C,CADhD,CAAP;AAGD;;AACD,SAAO,CAACD,SAAS,CAACpL,MAAV,CAAiB,CAACoJ,CAAD,EAAIC,CAAJ,KAAW6B,cAAc,CAAC9B,CAAD,EAAIC,CAAJ,CAAd,IAAwB,CAAxB,GAA4BD,CAA5B,GAAgCC,CAA5D,CAAD,CAAP;AACD,CAPD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClFA,YAAe;AACbkC,EAAAA,EADa;AAEbC,EAAAA,EAFa;AAGb,WAASC;AAHI,CAAf;;ACJO,MAAMC,cAAY,GAAG;AAC1BC,EAAAA,EAAE,EAAE,IADsB;AAE1BC,EAAAA,EAAE,EAAE,IAFsB;AAG1BC,EAAAA,IAAI,EAAE;AAHoB,CAArB;AAKA,MAAMC,WAAW,GAAG;AACzBC,EAAAA,gBAAgB,EAAE,CADO;AAEzBC,EAAAA,YAAY,EAAE,CAFW;AAGzBC,EAAAA,WAAW,EAAE,CAHY;AAIzBC,EAAAA,eAAe,EAAE,CAJQ;AAKzBC,EAAAA,OAAO,EAAE,GALgB;AAMzBC,EAAAA,KAAK,EAAE,CANkB;AAOzBC,EAAAA,KAAK,EAAEC;AAPkB,CAApB;AASA,MAAMC,UAAU,GAAG;AACxBC,EAAAA,MAAM,EAAE,oBADgB;AAExBC,EAAAA,kBAAkB,EAAE;AAFI,CAAnB;AAIA,MAAMC,aAAW,GAAG;AACzBC,EAAAA,SAAS,EAAE,CADc;AAEzBC,EAAAA,QAAQ,EAAE,CAFe;AAGzBC,EAAAA,OAAO,EAAE,CAHgB;AAIzBV,EAAAA,OAAO,EAAE,CAJgB;AAKzBW,EAAAA,MAAM,EAAE,CALiB;AAMzBV,EAAAA,KAAK,EAAE,CANkB;AAOzBW,EAAAA,QAAQ,EAAE,GAPe;AAQzBC,EAAAA,OAAO,EAAE,CARgB;AASzBC,EAAAA,MAAM,EAAE,CATiB;AAUzBC,EAAAA,KAAK,EAAE;AAVkB,CAApB;AAYA,MAAMC,cAAc,GAAG;AAC5BC,EAAAA,UAAU,EAAE,YADgB;AAE5BC,EAAAA,MAAM,EAAE,QAFoB;AAG5BC,EAAAA,kBAAkB,EAAE;AAHQ,CAAvB;AAKA,MAAMC,QAAQ,GAAG;AACtBC,EAAAA,OAAO,EAAE,CADa;AAEtBC,EAAAA,MAAM,EAAE,CAFc;AAGtBtB,EAAAA,OAAO,EAAE,CAHa;AAItBC,EAAAA,KAAK,EAAE;AAJe,CAAjB;AAOA,MAAMsB,cAAY,GAAG;AAC1BC,EAAAA,IAAI,EAAE,MADoB;AAE1BC,EAAAA,IAAI,EAAE,MAFoB;AAG1BC,EAAAA,KAAK,EAAE,OAHmB;AAI1BC,EAAAA,OAAO,EAAE;AAJiB,CAArB;AAMA,MAAMC,oBAAoB,GAAG;AAClCC,EAAAA,kBAAkB,EAAE,mCADc;AAElCC,EAAAA,cAAc,EAAE,+BAFkB;AAGlCC,EAAAA,sBAAsB,EAAE,6BAHU;AAIlCC,EAAAA,mBAAmB,EAAE,oCAJa;AAKlCC,EAAAA,2BAA2B,EAAE;AALK,CAA7B;AAOA,MAAMC,UAAU,GAAG;AACxBC,EAAAA,KAAK,EAAE,OADiB;AAExBC,EAAAA,OAAO,EAAE;AAFe,CAAnB;AAIA,MAAMC,SAAS,GAAG;AACvBC,EAAAA,oBAAoB,EAAE,sBADC;AAEvBC,EAAAA,SAAS,EAAE,WAFY;AAGvBC,EAAAA,UAAU,EAAE,YAHW;AAIvBC,EAAAA,aAAa,EAAE;AAJQ,CAAlB;AAMA,MAAMC,UAAQ,GAAG;AACtBC,EAAAA,MAAM,EAAE,QADc;AAEtBC,EAAAA,KAAK,EAAE;AAFe,CAAjB;;ACxDP,MAAMC,EAAE,GAAGC,SAAS,CAACC,SAAV,CAAoB,CAACD,SAAS,CAACE,MAAX,EAAmBF,SAAS,CAACG,MAA7B,CAApB,CAAX;AACA,MAAM1D,YAAY,GAAGuD,SAAS,CAACI,KAAV,CAAgB1P,MAAM,CAAC2P,MAAP,CAAcC,cAAd,CAAhB,CAArB;AACA,MAAMC,sBAAsB,GAAGP,SAAS,CAACQ,KAAV,CAAgB;AAC7CC,EAAAA,MAAM,EAAET,SAAS,CAACQ,KAAV,CAAgB;AAACE,IAAAA,IAAI,EAAEV,SAAS,CAACG;AAAjB,GAAhB,CADqC;AAE7CQ,EAAAA,EAAE,EAAEX,SAAS,CAACQ,KAAV,CAAgB;AAACvP,IAAAA,IAAI,EAAE+O,SAAS,CAACG,MAAjB;AAAyBS,IAAAA,OAAO,EAAEZ,SAAS,CAACG;AAA5C,GAAhB,CAFyC;AAG7CU,EAAAA,OAAO,EAAEb,SAAS,CAACQ,KAAV,CAAgB;AAACvP,IAAAA,IAAI,EAAE+O,SAAS,CAACG,MAAjB;AAAyBS,IAAAA,OAAO,EAAEZ,SAAS,CAACG;AAA5C,GAAhB;AAHoC,CAAhB,CAA/B;AAKA,MAAMP,QAAQ,GAAGI,SAAS,CAACI,KAAV,CAAgB1P,MAAM,CAAC2P,MAAP,CAAcS,UAAd,CAAhB,CAAjB;AACA,MAAMC,SAAS,GAAGf,SAAS,CAACQ,KAAV,CAAgB;AAChCvK,EAAAA,SAAS,EAAE8J,EADqB;AAEhCzI,EAAAA,WAAW,EAAEsI,QAFmB;AAGhCoB,EAAAA,SAAS,EAAEjB;AAHqB,CAAhB,CAAlB;AAKA,MAAMtC,WAAW,GAAGuC,SAAS,CAACI,KAAV,CAAgB1P,MAAM,CAAC2P,MAAP,CAAcY,aAAd,CAAhB,CAApB;AACA,MAAMC,QAAQ,GAAGlB,SAAS,CAACI,KAAV,CACfnF,KAAK,CAACC,IAAN,CACE,IAAIiG,GAAJ,CACEzQ,MAAM,CAAC0Q,OAAP,CAAeC,KAAf,EAAqBtQ,MAArB,CACE,CAACC,GAAD,EAAMsQ,QAAN,KAAmBtQ,GAAG,CAACuQ,MAAJ,CAAW7Q,MAAM,CAACC,IAAP,CAAY2Q,QAAQ,CAAC,CAAD,CAApB,CAAX,CADrB,EAEE,EAFF,CADF,CADF,CADe,CAAjB;AAUA,MAAM7C,YAAY,GAAGuB,SAAS,CAACI,KAAV,CAAgB1P,MAAM,CAAC2P,MAAP,CAAcmB,cAAd,CAAhB,CAArB;AAEA,YAAe;AACbzB,EAAAA,EADa;AAEbtD,EAAAA,YAFa;AAGb8D,EAAAA,sBAHa;AAIbQ,EAAAA,SAJa;AAKbtD,EAAAA,WALa;AAMbyD,EAAAA,QANa;AAObzC,EAAAA,YAPa;AAQbmB,EAAAA;AARa,CAAf;;ACxBA,MAAM6B,gBAAgB,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAuB;AAC9C,QAAMC,UAAU,GAAGF,OAAO,CAACnQ,GAAR,CAAYsQ,MAAM,IACnCnR,MAAM,CAAC0Q,OAAP,CAAeO,QAAf,EAAyBpQ,GAAzB,CAA6B,CAAC,CAACuQ,SAAD,EAAYC,OAAZ,CAAD;AAAA;;AAAA,yBAC3BF,MAAM,CAACG,EADoB,+CAC3B,gBAAAH,MAAM,EAAMC,SAAN,EAAiBpM,KAAK,IAAIqM,OAAO,CAACrM,KAAD,EAAQmM,MAAR,CAAjC,CADqB;AAAA,GAA7B,CADiB,CAAnB;AAMA,SAAO,MACL,GAAGN,MAAH,CAAU,GAAGK,UAAb,EAAyBK,OAAzB,CAAiCC,cAAc,IAAIA,cAAJ,aAAIA,cAAJ,uBAAIA,cAAc,EAAjE,CADF;AAED,CATD;;ACXA,MAAMC,wBAAwB,GAAGC,IAAI,IAAI;AACvC,UAAQ,CAACA,IAAT;AACE;AACA,SAAK,GAAL;AAAU;AACR,aAAO,yBAAP;;AAEF,SAAK,GAAL;AAAU;AACR,aAAO,yBAAP;;AAEF,SAAK,GAAL;AAAU;AACR,aAAO,yBAAP;;AAEF,SAAK,GAAL;AAAU;AACR,aAAO,yBAAP;AAEF;;AACA,SAAK,IAAL;AAAW;AACT,aAAO,0BAAP;;AAEF,SAAK,IAAL;AAAW;AACT,aAAO,0BAAP;;AAEF,SAAK,IAAL,CArBF;;AAsBE,SAAK,KAAL;AAAY;AACV,aAAO,0BAAP;;AAEF,SAAK,IAAL;AAAW;AACT,aAAO,0BAAP;AAEF;;AACA,SAAK,IAAL;AAAW;AACT,aAAO,0BAAP;AAEF;;AACA,SAAK,GAAL,CAjCF;;AAkCE,SAAK,GAAL,CAlCF;;AAmCE,SAAK,GAAL;AACA,SAAK,GAAL;AACA;AACE,aAAO,WAAP;AAtCJ;AAwCD,CAzCD;;AA2CA,MAAMC,YAAY,GAAG,CAAC1Q,KAAK,GAAG,EAAT,KAAgB;AAAA;;AACnC,MACE,WAAW2Q,IAAX,CAAgB3Q,KAAK,CAACV,IAAN,GAAaU,KAAK,CAAC4Q,OAAnC,KACA,QAAQD,IAAR,CAAa3Q,KAAK,CAACV,IAAN,GAAaU,KAAK,CAACyQ,IAAhC,CAFF,EAGE;AACA,UAAMA,IAAI,GAAG,CAAC,CAAD,EAAIzQ,KAAK,CAACyQ,IAAV,EAAgBvH,MAAhB,CAAuBC,OAAvB,EAAgCrJ,IAAhC,CAAqC,GAArC,CAAb;AACA,WAAO;AAAC2Q,MAAAA,IAAD;AAAOG,MAAAA,OAAO,EAAE;AAAhB,KAAP;AACD;;AACD,MAAI5Q,KAAK,CAACyQ,IAAV,EAAgB;AACd,WAAO,EAAC,GAAGzQ,KAAJ;AAAW4Q,MAAAA,OAAO,EAAEJ,wBAAwB,CAACxQ,KAAK,CAACyQ,IAAP;AAA5C,KAAP;AACD;;AACD,QAAMI,IAAI,sBAAG7Q,KAAK,CAAC8Q,QAAT,4EAAG,gBAAgBD,IAAnB,yDAAG,qBAAsB7Q,KAAnC;;AACA,MAAI6Q,IAAJ,aAAIA,IAAJ,eAAIA,IAAI,CAAEJ,IAAV,EAAgB;AACd,WAAO,EAAC,GAAGI,IAAJ;AAAUD,MAAAA,OAAO,EAAEJ,wBAAwB,CAACK,IAAI,CAACJ,IAAN;AAA3C,KAAP;AACD;;AACD,QAAMM,UAAU,uBAAG/Q,KAAK,CAAC8Q,QAAT,qDAAG,iBAAgBE,MAAnC;;AACA,MAAID,UAAJ,EAAgB;AACd,WAAO;AAACN,MAAAA,IAAI,EAAEM,UAAP;AAAmBH,MAAAA,OAAO,EAAG,uBAAsBG,UAAW;AAA9D,KAAP;AACD;;AAED,SAAO;AAACN,IAAAA,IAAI,EAAE,GAAP;AAAYG,IAAAA,OAAO,EAAE;AAArB,GAAP;AACD,CArBD;;ACzCO,MAAM7B,MAAI,GAAG;AAClBkC,EAAAA,UAAU,EAAE,YADM;AAElB5F,EAAAA,WAAW,EAAE,aAFK;AAGlB6F,EAAAA,YAAY,EAAE,cAHI;AAIlBC,EAAAA,aAAa,EAAE,eAJG;AAKlBC,EAAAA,IAAI,EAAE,MALY;AAMlBC,EAAAA,iBAAiB,EAAE,mBAND;AAOlBC,EAAAA,MAAM,EAAE,QAPU;AASlB7F,EAAAA,KAAK,EAAE;AATW,CAAb;AAWP,aAAe;AACb8F,EAAAA,UAAU,EAAE,OAAO;AAACxC,IAAAA,IAAI,EAAEA,MAAI,CAACkC;AAAZ,GAAP,CADC;AAEbO,EAAAA,WAAW,EAAE,OAAO;AAACzC,IAAAA,IAAI,EAAEA,MAAI,CAAC1D;AAAZ,GAAP,CAFA;AAGboG,EAAAA,WAAW,EAAE,OAAO;AAAC1C,IAAAA,IAAI,EAAEA,MAAI,CAACmC;AAAZ,GAAP,CAHA;AAIbQ,EAAAA,WAAW,EAAE,OAAO;AAAC3C,IAAAA,IAAI,EAAEA,MAAI,CAACoC;AAAZ,GAAP,CAJA;AAKbQ,EAAAA,IAAI,EAAE,OAAO;AAAC5C,IAAAA,IAAI,EAAEA,MAAI,CAACqC;AAAZ,GAAP,CALO;AAMbQ,EAAAA,eAAe,EAAEC,SAAS,KAAK;AAAC9C,IAAAA,IAAI,EAAEA,MAAI,CAACsC,iBAAZ;AAA+BQ,IAAAA;AAA/B,GAAL,CANb;AAObC,EAAAA,MAAM,EAAE,OAAO;AAAC/C,IAAAA,IAAI,EAAEA,MAAI,CAACuC;AAAZ,GAAP,CAPK;AASbtR,EAAAA,KAAK,EAAE,CAACuJ,IAAD,EAAOvJ,KAAP,KAAiB;AACtB+R,IAAAA,OAAO,CAAC/R,KAAR,CAAcA,KAAd;AACA,WAAO;AAAC+O,MAAAA,IAAI,EAAEA,MAAI,CAACtD,KAAZ;AAAmBlC,MAAAA,IAAnB;AAAyBvJ,MAAAA,KAAK,EAAE0Q,YAAY,CAAC1Q,KAAK,IAAI0C,SAAV;AAA5C,KAAP;AACD;AAZY,CAAf;;ACXO,MAAMqM,MAAI,GAAG;AAClBiD,EAAAA,mBAAmB,EAAE,wBADH;AAElBC,EAAAA,uBAAuB,EAAE,4BAFP;AAGlBC,EAAAA,cAAc,EAAE,mBAHE;AAIlBC,EAAAA,iBAAiB,EAAE,sBAJD;AAKlBC,EAAAA,mBAAmB,EAAE,wBALH;AAMlBC,EAAAA,iBAAiB,EAAE,sBAND;AAOlBC,EAAAA,wBAAwB,EAAE,0BAPR;AAQlBC,EAAAA,2BAA2B,EAAE,6BARX;AASlBC,EAAAA,2BAA2B,EAAE,6BATX;AAUlBC,EAAAA,UAAU,EAAE,YAVM;AAWlBC,EAAAA,UAAU,EAAE,YAXM;AAYlBC,EAAAA,cAAc,EAAE,gBAZE;AAalBC,EAAAA,gBAAgB,EAAE,kBAbA;AAclBC,EAAAA,SAAS,EAAE,cAdO;AAelBC,EAAAA,SAAS,EAAE,cAfO;AAgBlBC,EAAAA,eAAe,EAAE,oBAhBC;AAiBlBtH,EAAAA,KAAK,EAAE,UAjBW;AAkBlBuH,EAAAA,IAAI,EAAE,SAlBY;AAmBlBC,EAAAA,IAAI,EAAE,SAnBY;AAoBlBC,EAAAA,cAAc,EAAE,mBApBE;AAqBlBC,EAAAA,aAAa,EAAE,kBArBG;AAsBlBC,EAAAA,aAAa,EAAE,kBAtBG;AAuBlBC,EAAAA,cAAc,EAAE,mBAvBE;AAwBlBC,EAAAA,aAAa,EAAE,kBAxBG;AAyBlBC,EAAAA,cAAc,EAAE,gBAzBE;AA0BlBC,EAAAA,qBAAqB,EAAE,uBA1BL;AA2BlBC,EAAAA,gBAAgB,EAAE,kBA3BA;AA4BlBC,EAAAA,cAAc,EAAE,gBA5BE;AA6BlBC,EAAAA,iBAAiB,EAAE,mBA7BD;AA8BlBC,EAAAA,wBAAwB,EAAE;AA9BR,CAAb;AAgCP,eAAe;AACbC,EAAAA,iBAAiB,EAAEC,OAAO,KAAK;AAAC/E,IAAAA,IAAI,EAAEA,MAAI,CAACiD,mBAAZ;AAAiC8B,IAAAA;AAAjC,GAAL,CADb;AAEbC,EAAAA,qBAAqB,EAAED,OAAO,KAAK;AACjC/E,IAAAA,IAAI,EAAEA,MAAI,CAACkD,uBADsB;AAEjC6B,IAAAA;AAFiC,GAAL,CAFjB;AAMbE,EAAAA,aAAa,EAAE,CAACC,EAAD,EAAK1K,IAAL,MAAe;AAACwF,IAAAA,IAAI,EAAEA,MAAI,CAACmD,cAAZ;AAA4B+B,IAAAA,EAA5B;AAAgC1K,IAAAA;AAAhC,GAAf,CANF;AAOb2K,EAAAA,eAAe,EAAE9L,KAAK,KAAK;AAAC2G,IAAAA,IAAI,EAAEA,MAAI,CAACoD,iBAAZ;AAA+B/J,IAAAA;AAA/B,GAAL,CAPT;AAQb+L,EAAAA,iBAAiB,EAAEC,WAAW,KAAK;AACjCrF,IAAAA,IAAI,EAAEA,MAAI,CAACqD,mBADsB;AAEjCgC,IAAAA;AAFiC,GAAL,CARjB;AAYbC,EAAAA,eAAe,EAAE,CAACjM,KAAK,GAAG,EAAT,MAAiB;AAAC2G,IAAAA,IAAI,EAAEA,MAAI,CAACsD,iBAAZ;AAA+BjK,IAAAA;AAA/B,GAAjB,CAZJ;AAabkM,EAAAA,yBAAyB,EAAE,OAAO;AAChCvF,IAAAA,IAAI,EAAEA,MAAI,CAACwD,2BADqB;AAEhCgC,IAAAA,OAAO,EAAE;AAFuB,GAAP,CAbd;AAiBbC,EAAAA,0BAA0B,EAAE,OAAO;AACjCzF,IAAAA,IAAI,EAAEA,MAAI,CAACwD,2BADsB;AAEjCgC,IAAAA,OAAO,EAAE;AAFwB,GAAP,CAjBf;AAqBbE,EAAAA,yBAAyB,EAAE,OAAO;AAAC1F,IAAAA,IAAI,EAAEA,MAAI,CAACyD;AAAZ,GAAP,CArBd;AAsBbkC,EAAAA,SAAS,EAAEC,KAAK,KAAK;AAAC5F,IAAAA,IAAI,EAAEA,MAAI,CAAC0D,UAAZ;AAAwBkC,IAAAA;AAAxB,GAAL,CAtBH;AAuBbC,EAAAA,SAAS,EAAE,OAAO;AAAC7F,IAAAA,IAAI,EAAEA,MAAI,CAAC2D;AAAZ,GAAP,CAvBE;AAwBbmC,EAAAA,sBAAsB,EAAE,OAAO;AAC7B9F,IAAAA,IAAI,EAAEA,MAAI,CAACuD,wBADkB;AAE7BiC,IAAAA,OAAO,EAAE;AAFoB,GAAP,CAxBX;AA4BbO,EAAAA,uBAAuB,EAAE,OAAO;AAC9B/F,IAAAA,IAAI,EAAEA,MAAI,CAACuD,wBADmB;AAE9BiC,IAAAA,OAAO,EAAE;AAFqB,GAAP,CA5BZ;AAgCbQ,EAAAA,aAAa,EAAE,OAAO;AAAChG,IAAAA,IAAI,EAAEA,MAAI,CAAC4D;AAAZ,GAAP,CAhCF;AAiCbqC,EAAAA,eAAe,EAAE,OAAO;AAACjG,IAAAA,IAAI,EAAEA,MAAI,CAAC6D;AAAZ,GAAP,CAjCJ;AAkCbqC,EAAAA,WAAW,EAAE,CAACC,EAAD,EAAKC,MAAL,EAAavE,OAAb,MAA0B;AACrC7B,IAAAA,IAAI,EAAEA,MAAI,CAACqG,YAD0B;AAErCxE,IAAAA,OAFqC;AAGrCuE,IAAAA,MAHqC;AAIrCD,IAAAA;AAJqC,GAA1B,CAlCA;AAwCbG,EAAAA,aAAa,EAAE,CAACH,EAAD,EAAKtE,OAAL,MAAkB;AAAC7B,IAAAA,IAAI,EAAEA,MAAI,CAACuG,cAAZ;AAA4B1E,IAAAA,OAA5B;AAAqCsE,IAAAA;AAArC,GAAlB,CAxCF;AAyCbK,EAAAA,QAAQ,EAAE,OAAO;AAACxG,IAAAA,IAAI,EAAEA,MAAI,CAAC8D;AAAZ,GAAP,CAzCG;AA0Cb2C,EAAAA,QAAQ,EAAEN,EAAE,KAAK;AAACnG,IAAAA,IAAI,EAAEA,MAAI,CAAC+D,SAAZ;AAAuBoC,IAAAA;AAAvB,GAAL,CA1CC;AA2CbO,EAAAA,cAAc,EAAE,CAAC;AAACP,IAAAA,EAAD;AAAKQ,IAAAA,OAAL;AAAclV,IAAAA;AAAd,GAAD,MAA2B;AACzCuO,IAAAA,IAAI,EAAEA,MAAI,CAACgE,eAD8B;AAEzC2C,IAAAA,OAFyC;AAGzClV,IAAAA,KAHyC;AAIzC0U,IAAAA;AAJyC,GAA3B,CA3CH;AAiDbS,EAAAA,aAAa,EAAE,CAACT,EAAD,EAAKC,MAAL,EAAaS,aAAb,MAAgC;AAC7C7G,IAAAA,IAAI,EAAEA,MAAI,CAAC8G,cADkC;AAE7CD,IAAAA,aAF6C;AAG7CT,IAAAA,MAH6C;AAI7CD,IAAAA;AAJ6C,GAAhC,CAjDF;AAuDbY,EAAAA,YAAY,EAAEC,QAAQ,KAAK;AAAChH,IAAAA,IAAI,EAAEA,MAAI,CAACmE,cAAZ;AAA4B6C,IAAAA;AAA5B,GAAL,CAvDT;AAwDbC,EAAAA,WAAW,EAAE,OAAO;AAACjH,IAAAA,IAAI,EAAEA,MAAI,CAACoE;AAAZ,GAAP,CAxDA;AAyDb8C,EAAAA,WAAW,EAAE,OAAO;AAAClH,IAAAA,IAAI,EAAEA,MAAI,CAACqE;AAAZ,GAAP,CAzDA;AA0Db8C,EAAAA,YAAY,EAAE,OAAO;AAACnH,IAAAA,IAAI,EAAEA,MAAI,CAACsE;AAAZ,GAAP,CA1DD;AA2Db8C,EAAAA,IAAI,EAAE,OAAO;AAACpH,IAAAA,IAAI,EAAEA,MAAI,CAACiE;AAAZ,GAAP,CA3DO;AA4DboD,EAAAA,IAAI,EAAE,OAAO;AAACrH,IAAAA,IAAI,EAAEA,MAAI,CAACkE;AAAZ,GAAP,CA5DO;AA6DboD,EAAAA,WAAW,EAAE7V,KAAK,KAAK;AAACuO,IAAAA,IAAI,EAAEA,MAAI,CAACuE,aAAZ;AAA2BgD,IAAAA,QAAQ,EAAE9V;AAArC,GAAL,CA7DL;AA8Db+V,EAAAA,YAAY,EAAE/V,KAAK,KAAK;AAACuO,IAAAA,IAAI,EAAEA,MAAI,CAACwE,cAAZ;AAA4B+C,IAAAA,QAAQ,EAAE9V;AAAtC,GAAL,CA9DN;AA+DbgW,EAAAA,mBAAmB,EAAE,CAACC,YAAD,EAAeC,cAAf,MAAmC;AACtD3H,IAAAA,IAAI,EAAEA,MAAI,CAACyE,qBAD2C;AAEtDiD,IAAAA,YAFsD;AAGtDC,IAAAA;AAHsD,GAAnC,CA/DR;AAoEbC,EAAAA,cAAc,EAAE,CAACC,cAAD,EAAiBC,cAAjB,MAAqC;AACnD9H,IAAAA,IAAI,EAAEA,MAAI,CAAC0E,gBADwC;AAEnDmD,IAAAA,cAFmD;AAGnDC,IAAAA;AAHmD,GAArC,CApEH;AAyEbC,EAAAA,YAAY,EAAE,OAAO;AAAC/H,IAAAA,IAAI,EAAEA,MAAI,CAAC2E;AAAZ,GAAP,CAzED;AA0EbqD,EAAAA,gBAAgB,EAAE,OAAO;AAAChI,IAAAA,IAAI,EAAEA,MAAI,CAAC4E;AAAZ,GAAP,CA1EL;AA2EbqD,EAAAA,sBAAsB,EAAExW,KAAK,KAAK;AAChCuO,IAAAA,IAAI,EAAEA,MAAI,CAAC6E,wBADqB;AAEhCqD,IAAAA,OAAO,EAAEzW;AAFuB,GAAL,CA3EhB;AA+EbR,EAAAA,KAAK,EAAEA,KAAK,IAAIkX,MAAM,CAAClX,KAAP,CAAa,IAAb,EAAmBA,KAAnB;AA/EH,CAAf;;AC/BO,MAAMmX,UAAU,GAAG,MAAM;AAC9B,QAAMC,KAAK,GAAGC,YAAM,CAAC,EAAD,CAApB;AACAC,EAAAA,eAAS,CAAC,MAAM,MAAMC,YAAY,CAACH,KAAK,CAACI,OAAN,CAActC,EAAf,CAAzB,EAA6C,EAA7C,CAAT;AACA,SAAO,CACL,CAACtR,QAAD,EAAWC,EAAX,KAAkB;AAChB0T,IAAAA,YAAY,CAACH,KAAK,CAACI,OAAN,CAActC,EAAf,CAAZ;AACAkC,IAAAA,KAAK,CAACI,OAAN,CAActC,EAAd,GAAmBuC,UAAU,CAAC7T,QAAD,EAAWC,EAAX,CAA7B;AACD,GAJI,EAKL,MAAM0T,YAAY,CAACH,KAAK,CAACI,OAAN,CAActC,EAAf,CALb,CAAP;AAOD,CAVM;AAYA,MAAMwC,WAAW,GAAG,MAAM;AAC/B,QAAMN,KAAK,GAAGC,YAAM,CAAC,EAAD,CAApB;AACAC,EAAAA,eAAS,CAAC,MAAM,MAAMK,aAAa,CAACP,KAAK,CAACI,OAAN,CAActC,EAAf,CAA1B,EAA8C,EAA9C,CAAT;AACA,SAAO,CACL,CAACtR,QAAD,EAAWC,EAAX,KAAkB;AAChB8T,IAAAA,aAAa,CAACP,KAAK,CAACI,OAAN,CAActC,EAAf,CAAb;AACAkC,IAAAA,KAAK,CAACI,OAAN,CAActC,EAAd,GAAmB0C,WAAW,CAAChU,QAAD,EAAWC,EAAX,CAA9B;AACD,GAJI,EAKL,MAAM8T,aAAa,CAACP,KAAK,CAACI,OAAN,CAActC,EAAf,CALd,CAAP;AAOD,CAVM;AAYA,MAAM2C,QAAQ,GAAG1Y,QAAQ,IAAI;AAClC,QAAM,CAACF,KAAD,EAAQ6Y,QAAR,IAAoBC,cAAQ,EAAlC;AACAT,EAAAA,eAAS,CAAC,MAAM;AACd,QAAI,CAACU,2BAAc,CAAC/Y,KAAD,EAAQE,QAAR,CAAnB,EAAsC2Y,QAAQ,CAAC3Y,QAAD,CAAR;AACvC,GAFQ,CAAT;AAGA,SAAO6Y,2BAAc,CAAC/Y,KAAD,EAAQE,QAAR,CAAd,GAAkCF,KAAlC,GAA0CE,QAAjD;AACD,CANM;;AAaP,MAAM8Y,WAAW,GAAG,CAAC;AAACzX,EAAAA,KAAD;AAAQ0X,EAAAA;AAAR,CAAD,KAAoB;AACtC,QAAM,CAACjZ,KAAD,EAAQkZ,QAAR,IAAoBJ,cAAQ,CAACvX,KAAD,CAAlC;AACA,QAAM4X,OAAO,GAAGf,YAAM,EAAtB;AAEAC,EAAAA,eAAS,CAAC,MAAM;AACd,QAAIc,OAAO,CAACZ,OAAZ,EAAqB;AACnBY,MAAAA,OAAO,CAACZ,OAAR,CAAgBhX,KAAhB,GAAwBA,KAAxB;AACD,KAFD,MAEO;AACL4X,MAAAA,OAAO,CAACZ,OAAR,GAAkB,EAAlB;AACAC,MAAAA,UAAU,CAAC,MAAM;AACf,YAAI,WAAWW,OAAO,CAACZ,OAAvB,EAAgC;AAC9BW,UAAAA,QAAQ,CAACC,OAAO,CAACZ,OAAR,CAAgBhX,KAAjB,CAAR;AACD;;AACD4X,QAAAA,OAAO,CAACZ,OAAR,GAAkB9U,SAAlB;AACD,OALS,EAKPwV,KALO,CAAV;AAMAC,MAAAA,QAAQ,CAAC3X,KAAD,CAAR;AACD;AACF,GAbQ,EAaN,CAACA,KAAD,CAbM,CAAT;AAeA,SAAOvB,KAAP;AACD,CApBD;;AAsBA,MAAMoZ,WAAW,GAAG,CAAC;AAACC,EAAAA,UAAU,GAAG,IAAd;AAAoBC,EAAAA,MAApB;AAA4BC,EAAAA,SAA5B;AAAuCC,EAAAA;AAAvC,IAAiD,EAAlD,KAAyD;AAC3E,QAAMrB,KAAK,GAAGC,YAAM,EAApB;AACA,QAAM,CAACqB,IAAD,EAAOC,OAAP,IAAkBZ,cAAQ,CAAC,QAAD,CAAhC;;AAEA,QAAMa,QAAQ,GAAG,MAAM;AACrB,QAAIF,IAAI,KAAK,OAAb,EAAsB;AACpBC,MAAAA,OAAO,CAAC,OAAD,CAAP;AACD;;AACDpB,IAAAA,YAAY,CAACH,KAAK,CAACI,OAAP,CAAZ;AACAJ,IAAAA,KAAK,CAACI,OAAN,GAAgBC,UAAU,CAAC,MAAMkB,OAAO,CAAC,QAAD,CAAd,EAA0BL,UAA1B,CAA1B;AACD,GAND;;AAOA,QAAMO,IAAI,GAAG,MAAM;AACjBtB,IAAAA,YAAY,CAACH,KAAK,CAACI,OAAP,CAAZ;AACAmB,IAAAA,OAAO,CAAC,QAAD,CAAP;AACAF,IAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM;AACP,GAJD;;AAMAnB,EAAAA,eAAS,CAAC,MAAM;AACd,QAAIoB,IAAI,KAAK,OAAb,EAAsB;AACpBE,MAAAA,QAAQ;AACT;AACF,GAJQ,EAIN,CAACN,UAAD,CAJM,CAAT;AAMAhB,EAAAA,eAAS,CAAC,MAAM;AACd,QAAIiB,MAAJ,EAAY;AACVhB,MAAAA,YAAY,CAACH,KAAK,CAACI,OAAP,CAAZ;AACD,KAFD,MAEO;AACLoB,MAAAA,QAAQ;AACT;AACF,GANQ,EAMN,CAACL,MAAD,CANM,CAAT;AAQAjB,EAAAA,eAAS,CAAC,MAAM,MAAMC,YAAY,CAACH,KAAK,CAACI,OAAP,CAAzB,EAA0C,EAA1C,CAAT;AAEA,SAAO;AACLkB,IAAAA,IAAI,EAAEH,MAAM,GAAG,OAAH,GAAaG,IADpB;AAELI,IAAAA,IAAI,EAAEF,QAFD;AAGLC,IAAAA,IAHK;AAILE,IAAAA,OAAO,EAAEhV,KAAK,IAAI;AAChB,UAAI2U,IAAI,KAAK,QAAb,EAAuB;AACrBE,QAAAA,QAAQ;AACT,OAFD,MAEO,IAAIJ,SAAS,IAAIzU,KAAK,CAAClB,MAAN,CAAamW,OAAb,KAAyB,QAA1C,EAAoD;AACzD;AACAH,QAAAA,IAAI;AACL;AACF,KAXI;AAYLI,IAAAA,WAAW,EAAE,MAAM;AACjB;AACA,UAAI,EAAE,kBAAkBC,MAApB,CAAJ,EAAiC;AAC/BN,QAAAA,QAAQ;AACT;AACF;AAjBI,GAAP;AAmBD,CApDD;;AC9DA,MAAMvI,IAAE,GAAG,CAACxN,MAAD,EAASvD,IAAT,EAAe8Q,OAAf,KAA2B;AACpCvN,EAAAA,MAAM,CAACsW,gBAAP,CAAwB7Z,IAAxB,EAA8B8Q,OAA9B;AACA,SAAO,MAAMvN,MAAM,CAACuW,mBAAP,CAA2B9Z,IAA3B,EAAiC8Q,OAAjC,CAAb;AACD,CAHD;;AAKA,MAAMiJ,MAAI,GAAG,CAACxW,MAAD,EAASvD,IAAT,EAAe8Q,OAAf,KAA2B;AACtC,QAAMkJ,OAAO,GAAG,CAAC,GAAGpZ,IAAJ,KAAa;AAC3BkQ,IAAAA,OAAO,CAAC,GAAGlQ,IAAJ,CAAP;AACA2C,IAAAA,MAAM,CAACuW,mBAAP,CAA2B9Z,IAA3B,EAAiCga,OAAjC;AACD,GAHD;;AAIAzW,EAAAA,MAAM,CAACsW,gBAAP,CAAwB7Z,IAAxB,EAA8Bga,OAA9B;AACA,SAAO,MAAMzW,MAAM,CAACuW,mBAAP,CAA2B9Z,IAA3B,EAAiCga,OAAjC,CAAb;AACD,CAPD;;ACLA;;AAIA,MAAMC,MAAM,GAAG,MAAM;AACnB,QAAMC,MAAM,GAAGN,MAAM,CAACM,MAAP,IAAiBN,MAAM,CAACO,QAAvC;AACA,SAAO,uCAAuChY,OAAvC,CAA+C,QAA/C,EAAyDiY,CAAC,IAC/D,CACEA,CAAC,GACAF,MAAM,CAACG,eAAP,CAAuB,IAAIjV,UAAJ,CAAe,CAAf,CAAvB,EAA0C,CAA1C,IAAgD,MAAOgV,CAAC,GAAG,CAF9D,EAGEE,QAHF,CAGW,EAHX,CADK,CAAP;AAMD,CARD;;AAUA,MAAMC,KAAK,GAAG;AAACC,EAAAA,MAAM,EAAE,OAAT;AAAkBC,EAAAA,KAAK,EAAE;AAAzB,CAAd;;AAEA,MAAMC,YAAY,GAAG,CAAC;AACpBC,EAAAA,OADoB;AAEpBC,EAAAA,KAFoB;AAGpBjL,EAAAA,OAHoB;AAIpBkL,EAAAA,UAJoB;AAKpBC,EAAAA,iBAAiB,GAAG,MAAMF;AALN,CAAD,KAMf;AACJ,QAAMG,OAAO,GAAGC,wBAAI,EAApB;AACA,QAAMrb,KAAK,GAAG;AACZ+R,IAAAA,MAAM,EAAE,MADI;AAEZuJ,IAAAA,OAAO,EAAE,KAFG;AAGZC,IAAAA,eAAe,EAAErZ,IAAI,CAACC,GAAL,EAHL;AAIZqZ,IAAAA,eAAe,EAAEtZ,IAAI,CAACC,GAAL,EAJL;AAKZ6V,IAAAA,OAAO,EAAEgD,OAAO,CAACS,UAAR;AALG,GAAd;;AAOA,QAAMC,cAAc,GAAG,OAAO;AAC5BC,IAAAA,WAAW,EAAET,UADe;AAE5BU,IAAAA,uBAAuB,EAAE5L,OAFG;AAG5B6L,IAAAA,aAAa,EAAEjB,KAAK,CAAC5a,KAAK,CAACgY,OAAN,CAAclI,IAAf,CAHQ;AAI5BgM,IAAAA,mBAAmB,EAAE9b,KAAK,CAAC+b,SAJC;AAK5B9F,IAAAA,EAAE,EAAEjW,KAAK,CAACgY,OAAN,CAAc/B,EALU;AAM5B5V,IAAAA,IAAI,EAAEL,KAAK,CAACgY,OAAN,CAAcgE,KANQ;AAO5B,QAAIhc,KAAK,CAACgY,OAAN,CAAclI,IAAd,KAAuB,QAAvB,IAAmC;AACrCmM,MAAAA,gBAAgB,EAAEjc,KAAK,CAACoC,WADa;AAErC8Z,MAAAA,oBAAoB,EAAElc,KAAK,CAAC8B;AAFS,KAAvC,CAP4B;AAW5B,QAAI9B,KAAK,CAACgY,OAAN,CAAclI,IAAd,KAAuB,OAAvB,IAAkC;AACpCqM,MAAAA,UAAU,EAAEnc,KAAK,CAACgY,OAAN,CAAcmE,UADU;AAEpCC,MAAAA,MAAM,EAAEpc,KAAK,CAACgY,OAAN,CAAcqE;AAFc,KAAtC,CAX4B;AAe5BC,IAAAA,IAAI,EAAEtc,KAAK,CAACuc,YAAN,IAAsB;AAfA,GAAP,CAAvB;;AAiBA,QAAMC,aAAa,GAAG,MAAM;AAC1B,QAAIxc,KAAK,CAAC+R,MAAN,KAAiB,SAArB,EAAgC;AAC9B;AACD;;AACD/R,IAAAA,KAAK,CAAC+R,MAAN,GAAe,SAAf;AACA/R,IAAAA,KAAK,CAACyc,aAAN,GAAsBva,IAAI,CAACC,GAAL,EAAtB;AACA,UAAM+O,SAAS,GAAGlR,KAAK,CAAC0c,WAAN,GACd,mBADc,GAEd,iBAFJ;AAGAtB,IAAAA,OAAO,CAACuB,IAAR,CAAazL,SAAb,EAAwBwK,cAAc,EAAtC;AACD,GAVD;;AAWA,QAAMkB,YAAY,GAAG,MAAM;AACzB,QAAI5c,KAAK,CAAC+R,MAAN,KAAiB,SAArB,EAAgC;AAC9B;AACD;;AACD/R,IAAAA,KAAK,CAAC+R,MAAN,GAAe,SAAf;AACA,UAAM8K,MAAM,GAAG,CAAC3a,IAAI,CAACC,GAAL,KAAanC,KAAK,CAACyc,aAApB,IAAqC,IAApD;;AACA,QAAIzc,KAAK,CAAC0c,WAAV,EAAuB;AACrB1c,MAAAA,KAAK,CAAC8c,gBAAN,IAA0BD,MAA1B;AACD,KAFD,MAEO;AACL7c,MAAAA,KAAK,CAAC+c,cAAN,IAAwBF,MAAxB;AACD;;AACD,UAAM3L,SAAS,GAAGlR,KAAK,CAAC0c,WAAN,GACd,mBADc,GAEd,iBAFJ;AAGAtB,IAAAA,OAAO,CAACuB,IAAR,CAAazL,SAAb,EAAwB,EACtB,GAAGwK,cAAc,EADK;AAEtB,UAAI1b,KAAK,CAAC0c,WAAN,IAAqB;AAACM,QAAAA,kBAAkB,EAAEH;AAArB,OAAzB;AAFsB,KAAxB;AAID,GAlBD;;AAmBA,QAAM7L,UAAU,GAAG,CACjBI,IAAE,CAAC4J,OAAD,EAAU,OAAV,EAAmBja,KAAK,IAAI;AAC5Bqa,IAAAA,OAAO,CAACuB,IAAR,CAAa,eAAb,EAA8B;AAC5BM,MAAAA,iBAAiB,EAAElc,KAAK,CAACyQ,IADG;AAE5B,SAAGkK,cAAc;AAFW,KAA9B;AAID,GALC,CADe,EAOjBtB,MAAI,CAACY,OAAD,EAAU,eAAV,EAA2B,MAAM;AACnChb,IAAAA,KAAK,CAACub,eAAN,GAAwBrZ,IAAI,CAACC,GAAL,EAAxB;AACD,GAFG,CAPa,EAUjBiY,MAAI,CAACY,OAAD,EAAU,eAAV,EAA2BlW,KAAK,IAAI;AAAA;;AACtC9E,IAAAA,KAAK,CAAC+b,SAAN,GAAkBzB,MAAM,EAAxB;AACAta,IAAAA,KAAK,CAAC+c,cAAN,GAAuB,CAAvB;AACA/c,IAAAA,KAAK,CAACgY,OAAN,GAAgBgD,OAAO,CAACS,UAAR,EAAhB;AACAzb,IAAAA,KAAK,CAACuc,YAAN,kBAAqBzX,KAAK,CAAC8M,IAA3B,gDAAqB,YAAY2K,YAAjC;AACAvc,IAAAA,KAAK,CAAC8c,gBAAN,GAAyB,CAAzB;AACD,GANG,CAVa,EAiBjB1L,IAAE,CAAC6J,KAAD,EAAQ,gBAAR,EAA0B,MAAM;AAChC;AACA,QAAI,CAACjb,KAAK,CAAC8B,QAAX,EAAqB;AACnB9B,MAAAA,KAAK,CAAC8B,QAAN,GAAiBqZ,iBAAiB,GAAGrZ,QAArC;AACD;AACF,GALC,CAjBe,EAuBjBsY,MAAI,CAACa,KAAD,EAAQ,SAAR,EAAmB,MAAM;AAC3Bjb,IAAAA,KAAK,CAAC+R,MAAN,GAAe,OAAf;AACAqJ,IAAAA,OAAO,CAACuB,IAAR,CAAa,eAAb,EAA8B;AAC5BO,MAAAA,mBAAmB,EACjB,CAACld,KAAK,CAACub,eAAN,GAAwBvb,KAAK,CAACwb,eAA/B,IAAkD,IAFxB;AAG5B2B,MAAAA,kBAAkB,EAAE,CAACjb,IAAI,CAACC,GAAL,KAAanC,KAAK,CAACwb,eAApB,IAAuC,IAH/B;AAI5B,SAAGE,cAAc;AAJW,KAA9B;AAMD,GARG,CAvBa,EAgCjBtK,IAAE,CAAC6J,KAAD,EAAQ,SAAR,EAAmBuB,aAAnB,CAhCe,EAiCjBpL,IAAE,CAAC6J,KAAD,EAAQ,YAAR,EAAsB,MAAM;AAC5Bjb,IAAAA,KAAK,CAACoC,WAAN,GAAoB+Y,iBAAiB,GAAG/Y,WAAxC;AACD,GAFC,CAjCe,EAoCjBgP,IAAE,CAAC6J,KAAD,EAAQ,OAAR,EAAiB2B,YAAjB,CApCe,EAqCjBxL,IAAE,CAAC6J,KAAD,EAAQ,SAAR,EAAmB,MAAM;AACzBjb,IAAAA,KAAK,CAACod,WAAN,GAAoBpd,KAAK,CAACoC,WAA1B;AACD,GAFC,CArCe,EAwCjBgP,IAAE,CAAC4J,OAAD,EAAU,aAAV,EAAyB,MAAM;AAC/Bhb,IAAAA,KAAK,CAACsb,OAAN,GAAgB,IAAhB;AACD,GAFC,CAxCe,EA2CjBlK,IAAE,CAAC6J,KAAD,EAAQ,QAAR,EAAkB,MAAM;AACxB,QAAIjb,KAAK,CAACsb,OAAV,EAAmB;AACjBF,MAAAA,OAAO,CAACuB,IAAR,CAAa,QAAb,EAAuB;AACrBU,QAAAA,YAAY,EAAErd,KAAK,CAACod,WADC;AAErBE,QAAAA,UAAU,EAAErC,KAAK,CAAC7Y,WAFG;AAGrB,WAAGsZ,cAAc;AAHI,OAAvB;AAKD;;AACD1b,IAAAA,KAAK,CAACsb,OAAN,GAAgB,KAAhB;AACD,GATC,CA3Ce,EAqDjBlK,IAAE,CAAC4J,OAAD,EAAU,eAAV,EAA2B,MAAM;AACjC4B,IAAAA,YAAY;AACZ5c,IAAAA,KAAK,CAACgY,OAAN,GAAgBgD,OAAO,CAACS,UAAR,EAAhB;AACAe,IAAAA,aAAa;AACd,GAJC,CArDe,EA0DjBpC,MAAI,CAACY,OAAD,EAAU,eAAV,EAA2B,MAAM;AACnC,QAAIhb,KAAK,CAAC+R,MAAN,KAAiB,SAArB,EAAgC;AAC9B6K,MAAAA,YAAY;AACb;;AACD5c,IAAAA,KAAK,CAAC+R,MAAN,GAAe,MAAf;AACAqJ,IAAAA,OAAO,CAACuB,IAAR,CAAa,eAAb,EAA8B;AAC5BY,MAAAA,kCAAkC,EAAEvd,KAAK,CAACoC,WAAN,GAAoBpC,KAAK,CAAC8B,QADlC;AAE5B0b,MAAAA,2BAA2B,EAAExd,KAAK,CAAC+c,cAFP;AAG5B,UAAI/c,KAAK,CAACuc,YAAN,IAAsB;AACxBkB,QAAAA,wBAAwB,EAAEzd,KAAK,CAAC8c;AADR,OAA1B,CAH4B;AAM5B,SAAGpB,cAAc;AANW,KAA9B;AAQD,GAbG,CA1Da,EAwEjBtK,IAAE,CAAC4J,OAAD,EAAU,gBAAV,EAA4B,MAAM;AAClC4B,IAAAA,YAAY;AACZ5c,IAAAA,KAAK,CAAC0c,WAAN,GAAoB,IAApB;;AACA,QAAI,CAAC1c,KAAK,CAACsb,OAAX,EAAoB;AAClBkB,MAAAA,aAAa;AACd;AACF,GANC,CAxEe,EA+EjBpL,IAAE,CAAC4J,OAAD,EAAU,cAAV,EAA0B,MAAM;AAChC4B,IAAAA,YAAY;AACZ5c,IAAAA,KAAK,CAAC0c,WAAN,GAAoB,KAApB;;AACA,QAAI,CAAC1c,KAAK,CAACsb,OAAX,EAAoB;AAClBkB,MAAAA,aAAa;AACd;AACF,GANC,CA/Ee,CAAnB;AAwFA,SAAO;AACLtC,IAAAA,gBAAgB,EAAE,CAAC7Z,IAAD,EAAO8Q,OAAP,KAAmBiK,OAAO,CAAChK,EAAR,CAAW/Q,IAAX,EAAiB8Q,OAAjB,CADhC;AAELuM,IAAAA,GAAG,EAAEvM,OAAO,IAAIiK,OAAO,CAAChK,EAAR,CAAW,GAAX,EAAgBD,OAAhB,CAFX;AAGLwM,IAAAA,KAAK,EAAE,MAAM3M,UAAU,CAACK,OAAX,CAAmBuM,GAAG,IAAIA,GAAG,EAA7B;AAHR,GAAP;AAKD,CA3JD;;ACbA,MAAMC,aAAa,GAAG,MAAM;AAC1B,QAAM7d,KAAK,GAAG;AAACgY,IAAAA,OAAO,EAAE;AAAV,GAAd;AACA,QAAMoD,OAAO,GAAGC,wBAAI,EAApB;AAEA,SAAO;AACLnB,IAAAA,gBAAgB,EAAE,CAAC7Z,IAAD,EAAO8Q,OAAP,KAAmBiK,OAAO,CAAChK,EAAR,CAAW/Q,IAAX,EAAiB8Q,OAAjB,CADhC;AAELgJ,IAAAA,mBAAmB,EAAE,CAAC9Z,IAAD,EAAO8Q,OAAP,KAAmBiK,OAAO,CAACwC,GAAR,CAAYvd,IAAZ,EAAkB8Q,OAAlB,CAFnC;AAGL2M,IAAAA,aAAa,EAAEhZ,KAAK,IAAI;AAAA;;AACtB,yBAAIA,KAAK,CAAC8M,IAAV,wCAAI,YAAYoG,OAAhB,EAAyB;AACvBhY,QAAAA,KAAK,CAACgY,OAAN,GAAgB;AACdlI,UAAAA,IAAI,EAAEhL,KAAK,CAAC8M,IAAN,CAAWoG,OAAX,CAAmBtR,WADX;AAEduP,UAAAA,EAAE,EAAEnR,KAAK,CAAC8M,IAAN,CAAWoG,OAAX,CAAmB/B,EAFT;AAGd+F,UAAAA,KAAK,EAAElX,KAAK,CAAC8M,IAAN,CAAWoG,OAAX,CAAmBgE;AAHZ,SAAhB;AAKD;;AACDZ,MAAAA,OAAO,CAACuB,IAAR,CAAa7X,KAAK,CAACgL,IAAnB,EAAyBhL,KAAzB;AACD,KAZI;AAaL2W,IAAAA,UAAU,EAAE,MAAMzb,KAAK,CAACgY,OAbnB;AAcL+F,IAAAA,GAAG,EAAE,MAAM;AACT3C,MAAAA,OAAO,CAACuB,IAAR,CAAa,eAAb;AACD;AAhBI,GAAP;AAkBD,CAtBD;;ACGA,MAAMqB,aAAa,gBAAGC,mBAAa,CAAC,EAAD,CAAnC;;AAEA,MAAM9C,mBAAiB,GAAG,CAACF,KAAD,EAAQnK,OAAR,KACxBhR,MAAM,CAACgJ,MAAP,CACE;AACE1G,EAAAA,WAAW,EAAE6Y,KAAK,CAAC7Y,WADrB;AAEEN,EAAAA,QAAQ,EAAEmZ,KAAK,CAACnZ;AAFlB,CADF,EAKE,GAAGgP,OAAO,CAACnQ,GAAR,CAAYsQ,MAAM;AAAA;;AAAA,kCAAIA,MAAM,CAACkK,iBAAX,0DAAI,2BAAAlK,MAAM,CAAV;AAAA,CAAlB,CALL,CADF;;AASA,MAAMiN,aAAa,GAAG;AACpBC,EAAAA,aAAa,EAAE,sBADK;AAEpBC,EAAAA,eAAe,EAAE,wBAFG;AAGpBC,EAAAA,eAAe,EAAE,wBAHG;AAIpBC,EAAAA,aAAa,EAAE,sBAJK;AAKpBC,EAAAA,MAAM,EAAE,qBALY;AAMpBxd,EAAAA,KAAK,EAAE,+BANa;AAOpByd,EAAAA,iBAAiB,EAAE,qBAPC;AAQpBC,EAAAA,iBAAiB,EAAE;AARC,CAAtB;;AAWA,MAAMC,cAAc,GAAG,CAAC;AACtBC,EAAAA,OADsB;AAEtB3G,EAAAA,OAFsB;AAGtB4G,EAAAA,QAHsB;AAItBC,EAAAA,KAJsB;AAKtBC,EAAAA,QALsB;AAMtBC,EAAAA;AANsB,CAAD,KAOjB;AACJ,QAAMC,QAAQ,GAAG5G,YAAM,CAAC,EAAD,CAAvB;AACA4G,EAAAA,QAAQ,CAACzG,OAAT,CAAiBqG,QAAjB,GAA4BA,QAA5B;AACAI,EAAAA,QAAQ,CAACzG,OAAT,CAAiBsG,KAAjB,GAAyBA,KAAzB;AACAG,EAAAA,QAAQ,CAACzG,OAAT,CAAiBoG,OAAjB,GAA2BA,OAA3B;AAEAtG,EAAAA,eAAS,CAAC,MAAM;AACd2G,IAAAA,QAAQ,CAACzG,OAAT,CAAiByC,OAAjB,GAA2B6C,aAAa,EAAxC;AACA,UAAMoB,SAAS,GAAGlE,YAAY,CAAC;AAC7BC,MAAAA,OAAO,EAAEgE,QAAQ,CAACzG,OAAT,CAAiByC,OADG;AAE7BE,MAAAA,UAAU,EAAE,UAFiB;AAG7BlL,MAAAA,OAAO,EAAE,OAHoB;AAI7BiL,MAAAA,KAAK,EAAE2D,QAAQ,CAACrG,OAJa;AAK7B4C,MAAAA,iBAAiB,EAAE,MACjBA,mBAAiB,CAACyD,QAAQ,CAACrG,OAAV,EAAmBoG,OAAO,CAAC7N,OAA3B;AANU,KAAD,CAA9B;;AAQA,QAAI,OAAOiO,OAAP,KAAmB,UAAvB,EAAmC;AACjCE,MAAAA,SAAS,CAACvB,GAAV,CAAc,CAAC5N,IAAD,EAAO8B,IAAP,KAAgBmN,OAAO,CAACb,aAAa,CAACpO,IAAD,CAAd,EAAsB8B,IAAtB,CAArC;AACD;;AAED,WAAO,MAAM;AACXoN,MAAAA,QAAQ,CAACzG,OAAT,CAAiByC,OAAjB,CAAyB+C,GAAzB;AACAkB,MAAAA,SAAS,CAACtB,KAAV;AACD,KAHD;AAID,GAlBQ,EAkBN,CAAC3F,OAAO,CAACtR,WAAT,EAAsBsR,OAAO,CAAC3S,SAA9B,CAlBM,CAAT;AAoBA,sBACE6Z,eAAC,aAAD,CAAe,QAAf;AAAwB,IAAA,KAAK,EAAEF,QAAQ,CAACzG,OAAxC;AAAA,cACGuG;AADH,IADF;AAKD,CAtCD;;AAwCAJ,cAAc,CAACS,SAAf,GAA2B;AACzBR,EAAAA,OAAO,EAAEvP,SAAS,CAAC3O,MADM;AAEzBuX,EAAAA,OAAO,EAAE5I,SAAS,CAAC3O,MAFM;AAGzBme,EAAAA,QAAQ,EAAExP,SAAS,CAAC3O,MAHK;AAIzBoe,EAAAA,KAAK,EAAEzP,SAAS,CAAC3O,MAJQ;AAKzBse,EAAAA,OAAO,EAAE3P,SAAS,CAACpO,IALM;AAMzB8d,EAAAA,QAAQ,EAAE1P,SAAS,CAACgQ;AANK,CAA3B;;AASA,MAAMC,YAAY,GAAG,MAAM;AACzB,QAAMC,GAAG,GAAGC,gBAAU,CAACvB,aAAD,CAAtB;AACA,SAAOwB,MAAM,IAAI;AACfF,IAAAA,GAAG,CAACE,MAAJ,GAAaA,MAAb;AACD,GAFD;AAGD,CALD;;AAOA,MAAMC,SAAS,GAAG,MAAM;AACtB,QAAMH,GAAG,GAAGC,gBAAU,CAACvB,aAAD,CAAtB;AACA,SAAOsB,GAAG,CAACE,MAAX;AACD,CAHD;;AAKA,MAAME,cAAc,GAAG,MAAM;AAAA;;AAC3B,QAAMJ,GAAG,GAAGC,gBAAU,CAACvB,aAAD,CAAtB;AACA,uBAAOsB,GAAG,CAACT,KAAX,+CAAO,WAAWtG,OAAlB;AACD,CAHD;;AAKA,MAAMoH,QAAQ,GAAG,MAAM;AACrB,QAAML,GAAG,GAAGC,gBAAU,CAACvB,aAAD,CAAtB;AACA,SAAOsB,GAAG,CAACT,KAAX;AACD,CAHD;;AAKA,MAAMe,WAAW,GAAG,MAAM;AACxB,QAAMN,GAAG,GAAGC,gBAAU,CAACvB,aAAD,CAAtB;AACA,SAAOsB,GAAG,CAACV,QAAX;AACD,CAHD;;AAKA,MAAMiB,UAAU,GAAG,MAAMN,gBAAU,CAACvB,aAAD,CAAV,CAA0BW,OAAnD;;AAEA,MAAMmB,uBAAuB,GAAG,MAAM;AACpC,QAAMR,GAAG,GAAGC,gBAAU,CAACvB,aAAD,CAAtB;AACA,SAAO,CAAClO,IAAD,EAAO8B,IAAP,KAAgB0N,GAAG,CAACtE,OAAJ,CAAY8C,aAAZ,CAA0B;AAAChO,IAAAA,IAAD;AAAO8B,IAAAA;AAAP,GAA1B,CAAvB;AACD,CAHD;;AClGO,MAAMmO,OAAO,GAAG;AACrBC,EAAAA,OAAO,eAAEC,yBAAK,CAAChC,aAAN,EADY;AAErBiC,EAAAA,IAAI,eAAED,yBAAK,CAAChC,aAAN,EAFe;AAGrBkC,EAAAA,MAAM,eAAEF,yBAAK,CAAChC,aAAN,EAHa;AAIrBmC,EAAAA,YAAY,eAAEH,yBAAK,CAAChC,aAAN,EAJO;AAKrBoC,EAAAA,MAAM,eAAEJ,yBAAK,CAAChC,aAAN,EALa;AAMrBpR,EAAAA,WAAW,eAAEoT,yBAAK,CAAChC,aAAN,EANQ;AAOrB3Q,EAAAA,cAAc,eAAE2S,yBAAK,CAAChC,aAAN,EAPK;AAQrBqC,EAAAA,cAAc,eAAEL,yBAAK,CAAChC,aAAN,EARK;AASrBsC,EAAAA,YAAY,eAAEN,yBAAK,CAAChC,aAAN,EATO;AAUrBuC,EAAAA,GAAG,eAAEP,yBAAK,CAAChC,aAAN,EAVgB;AAWrBwC,EAAAA,EAAE,eAAER,yBAAK,CAAChC,aAAN;AAXiB,CAAhB;;AAcP,MAAMyC,aAAa,GAAG,CAAC;AAACC,EAAAA,KAAD;AAAQhC,EAAAA,OAAO,GAAG,EAAlB;AAAsBG,EAAAA,QAAQ,GAAG;AAAjC,CAAD,KAA0C;AAC9D,QAAM,CAAC9e,KAAD,EAAQ6Y,QAAR,IAAoBC,cAAQ,CAAC,MAAM;AACvC6H,IAAAA,KAAK,CAACC,kBAAN,CAAyBD,KAAK,IAAI9H,QAAQ,CAAC8H,KAAK,CAACE,QAAN,EAAD,CAA1C;AACA,WAAOF,KAAK,CAACE,QAAN,EAAP;AACD,GAHiC,CAAlC;AAIA,QAAM3H,QAAQ,GAAGyH,KAAK,CAACzH,QAAvB;AACA,QAAM4H,oBAAoB,GAAGhB,uBAAuB,EAApD;AAEAzH,EAAAA,eAAS,CAAC,MAAM;AACd,UAAM0I,WAAW,GAAGjc,KAAK,IAAI;AAAA;;AAC3Bgc,MAAAA,oBAAoB,CAAC,gBAAD,CAApB;AACAH,MAAAA,KAAK,CAACzH,QAAN,CACE8H,QAAQ,CAACtJ,cAAT,CACE5S,KAAK,CAACmc,aAAN,GAAsBtJ,cADxB,kBAEE7S,KAAK,CAACoc,KAAN,EAFF,iDAEE,aAAeC,iBAAf,EAFF,CADF;AAMD,KARD;;AAUA,WAAOtQ,gBAAgB,CAAC8N,OAAO,CAAC7N,OAAT,EAAkB;AACvCsQ,MAAAA,gBAAgB,EAAE,CAACtc,KAAD,EAAQmM,MAAR,KAChB0P,KAAK,CAACzH,QAAN,CACE8H,QAAQ,CAACzJ,mBAAT,CACEzS,KAAK,CAACmc,aAAN,GAAsBI,SADxB,EAEEpQ,MAAM,CAACkK,iBAAP,EAFF,CADF,CAFqC;AAQvCzD,MAAAA,cAAc,EAAEqJ,WARuB;AASvCO,MAAAA,UAAU,EAAEP,WAT2B;AAUvClJ,MAAAA,YAAY,EAAE,MAAM;AAClBiJ,QAAAA,oBAAoB,CAAC,cAAD,CAApB;AACAH,QAAAA,KAAK,CAACzH,QAAN,CAAe8H,QAAQ,CAACnJ,YAAT,EAAf;AACD;AAbsC,KAAlB,CAAvB;AAeD,GA1BQ,EA0BN,EA1BM,CAAT;AA4BA,sBACEqH,eAACe,yBAAD,CAAO,QAAP;AAAA,2BACEf,eAAC,OAAD,CAAS,OAAT,CAAiB,QAAjB;AAA0B,MAAA,KAAK,EAAEyB,KAAjC;AAAA,6BACEzB,eAAC,OAAD,CAAS,IAAT,CAAc,QAAd;AAAuB,QAAA,KAAK,EAAEtG,QAAQ,CAAC;AAAC5Y,UAAAA,KAAD;AAAQkZ,UAAAA;AAAR,SAAD,CAAtC;AAAA,+BACEgG,eAAC,OAAD,CAAS,MAAT,CAAgB,QAAhB;AACE,UAAA,KAAK,EAAEtG,QAAQ,CAAC;AAAC5Y,YAAAA,KAAK,EAAEA,KAAK,CAACmgB,MAAd;AAAsBxB,YAAAA,OAAtB;AAA+BzF,YAAAA;AAA/B,WAAD,CADjB;AAAA,iCAGEgG,eAAC,OAAD,CAAS,EAAT,CAAY,QAAZ;AAAqB,YAAA,KAAK,EAAEtG,QAAQ,CAAC;AAAC5Y,cAAAA,KAAK,EAAEA,KAAK,CAACygB,EAAd;AAAkBvH,cAAAA;AAAlB,aAAD,CAApC;AAAA,mCACEgG,eAAC,OAAD,CAAS,GAAT,CAAa,QAAb;AACE,cAAA,KAAK,EAAEtG,QAAQ,CAAC;AAAC5Y,gBAAAA,KAAK,EAAEA,KAAK,CAACwgB,GAAd;AAAmBtH,gBAAAA;AAAnB,eAAD,CADjB;AAAA,qCAGEgG,eAAC,OAAD,CAAS,MAAT,CAAgB,QAAhB;AACE,gBAAA,KAAK,EAAEtG,QAAQ,CAAC;AAAC5Y,kBAAAA,KAAK,EAAEA,KAAK,CAACqgB,MAAd;AAAsBnH,kBAAAA;AAAtB,iBAAD,CADjB;AAAA,uCAGEgG,eAAC,OAAD,CAAS,WAAT,CAAqB,QAArB;AACE,kBAAA,KAAK,EAAEtG,QAAQ,CAAC;AACd5Y,oBAAAA,KAAK,EAAEA,KAAK,CAACqgB,MAAN,CAAakB,WADN;AAEdrI,oBAAAA;AAFc,mBAAD,CADjB;AAAA,yCAMEgG,eAAC,OAAD,CAAS,cAAT,CAAwB,QAAxB;AACE,oBAAA,KAAK,EAAEtG,QAAQ,CAAC;AAAC5Y,sBAAAA,KAAK,EAAEA,KAAK,CAACqgB,MAAN,CAAamB,QAArB;AAA+BtI,sBAAAA;AAA/B,qBAAD,CADjB;AAAA,2CAGEgG,eAAC,OAAD,CAAS,cAAT,CAAwB,QAAxB;AACE,sBAAA,KAAK,EAAEtG,QAAQ,CAAC;AACd5Y,wBAAAA,KAAK,EAAEA,KAAK,CAACqgB,MAAN,CAAaoB,QADN;AAEdvI,wBAAAA;AAFc,uBAAD,CADjB;AAAA,6CAMEgG,eAAC,OAAD,CAAS,YAAT,CAAsB,QAAtB;AACE,wBAAA,KAAK,EAAEtG,QAAQ,CAAC;AACd5Y,0BAAAA,KAAK,EAAEA,KAAK,CAACqgB,MAAN,CAAaqB,MADN;AAEdxI,0BAAAA;AAFc,yBAAD,CADjB;AAAA,kCAMG4F;AANH;AANF;AAHF;AANF;AAHF;AAHF;AADF;AAHF;AADF;AADF;AADF,IADF;AAgDD,CApFD;;AAsFA4B,aAAa,CAACvB,SAAd,GAA0B;AACxBwB,EAAAA,KAAK,EAAEvR,SAAS,CAAC3O,MADO;AAExBke,EAAAA,OAAO,EAAEvP,SAAS,CAAC3O,MAFK;AAGxBqQ,EAAAA,OAAO,EAAE1B,SAAS,CAACuS,KAHK;AAIxB7C,EAAAA,QAAQ,EAAE1P,SAAS,CAACgQ;AAJI,CAA1B;;AC5GA,MAAMwC,UAAU,GAAGC,GAAG,IACpB,IAAIC,OAAJ,CAAYC,OAAO,IAAI;AACrB,QAAMC,MAAM,GAAGliB,MAAM,CAACgJ,MAAP,CAAcmZ,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd,EAAgD;AAC7DC,IAAAA,KAAK,EAAE,IADsD;AAE7DC,IAAAA,GAAG,EAAEP;AAFwD,GAAhD,CAAf;AAIAG,EAAAA,MAAM,CAAC9H,gBAAP,CAAwB,MAAxB,EAAgC6H,OAAhC;AACAE,EAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,MAA1B;AACD,CAPD,CADF;;ACEA,MAAMO,UAAU,GACd,4EADF;;AAGA,MAAMC,UAAU,GAAG,MAAMC,IAAI,CAACC,SAAL,CAAeC,WAAf,CAA2BC,WAA3B,EAAzB;AAEA;;;AACA,MAAMC,qBAAqB,GAAG,MAC5B,IAAIf,OAAJ,CAAY,CAACC,OAAD,EAAUe,MAAV,KAAqB;AAC/B,MAAI7I,MAAM,CAACwI,IAAP,IAAeA,IAAI,CAACC,SAApB,IAAiCzI,MAAM,CAAC8I,MAAxC,IAAkDA,MAAM,CAACN,IAA7D,EAAmE;AACjEV,IAAAA,OAAO,CAACS,UAAU,EAAX,CAAP;AACD,GAFD,MAEO;AACL;AACAvI,IAAAA,MAAM,CAAC+I,qBAAP,GAA+BC,WAAW,IAAI;AAC5CA,MAAAA,WAAW,GAAGlB,OAAO,CAACS,UAAU,EAAX,CAAV,GAA2BM,MAAM,EAA5C;AACD,KAFD;;AAGAlB,IAAAA,UAAU,CAACW,UAAD,CAAV;AACD;AACF,CAVD,CADF;;AAaA,MAAMW,eAAe,GAAG,MAAM;AAC5B,QAAMC,OAAO,GAAGX,UAAU,EAA1B;AACA,QAAMY,cAAc,GAAGD,OAAO,CAACE,iBAAR,EAAvB;AACA,SAAOD,cAAc,IAAIA,cAAc,CAACF,eAAf,EAAzB;AACD,CAJD;;AAMA,MAAMI,aAAa,GAAG,MAAM;AAC1B,QAAMH,OAAO,GAAGX,UAAU,EAA1B;AACA,QAAMY,cAAc,GAAGD,OAAO,CAACE,iBAAR,EAAvB;;AACA,MAAID,cAAJ,EAAoB;AAClB,WAAOtB,OAAO,CAACC,OAAR,CAAgBqB,cAAhB,CAAP;AACD;;AACD,SAAOD,OAAO,CAACI,cAAR,GAAyBC,IAAzB,CAA8B,MAAML,OAAO,CAACE,iBAAR,EAApC,CAAP;AACD,CAPD;;AASA,MAAMI,WAAW,GAAG,CAACL,cAAD,EAAiB;AAACnN,EAAAA,EAAD;AAAKyN,EAAAA,SAAL;AAAgBthB,EAAAA;AAAhB,CAAjB,KAAkD;AACpE,QAAMuhB,OAAO,GAAG,IAAIZ,MAAM,CAACN,IAAP,CAAYmB,KAAZ,CAAkBC,WAAtB,CACd/jB,MAAM,CAACgJ,MAAP,CAAc,IAAIia,MAAM,CAACN,IAAP,CAAYmB,KAAZ,CAAkBE,SAAtB,CAAgC7N,EAAhC,CAAd,EAAmD,EACjD,GAAGyN,SAD8C;AAEjDK,IAAAA,QAAQ,EAAE,IAAIhB,MAAM,CAACN,IAAP,CAAYmB,KAAZ,CAAkBI,oBAAtB;AAFuC,GAAnD,CADc,CAAhB;;AAMA,MAAI,OAAO5hB,WAAP,KAAuB,QAA3B,EAAqC;AACnCuhB,IAAAA,OAAO,CAACvhB,WAAR,GAAsBA,WAAtB;AACD;;AACD,SAAOghB,cAAc,CAACa,SAAf,CAAyBN,OAAzB,CAAP;AACD,CAXD;;ACzBA,MAAMO,WAAW,gBAAGjG,mBAAa,EAAjC;AAEA,MAAMkG,WAAS,GAAG;AAChBvR,EAAAA,SAAS,EAAE,IADK;AAEhB2O,EAAAA,WAAW,EAAE,IAFG;AAGhB6C,EAAAA,YAAY,EAAE,IAHE;AAIhBC,EAAAA,UAAU,EAAE,IAJI;AAKhBC,EAAAA,UAAU,EAAE,IALI;AAMhBxiB,EAAAA,QAAQ,EAAE,CANM;AAOhByiB,EAAAA,YAAY,EAAE,CAPE;AAQhBC,EAAAA,UAAU,EAAE,EARI;AAShB9C,EAAAA,MAAM,EAAE,GATQ;AAUhB+C,EAAAA,KAAK,EAAE,KAVS;AAWhBC,EAAAA,UAAU,EAAE;AAXI,CAAlB;AAcA,MAAMC,kBAAkB,GAAG;AACzB3kB,EAAAA,KAAK,EAAE,EADkB;AAEzB4kB,EAAAA,OAAO,EAAE;AACPC,IAAAA,WAAW,EAAE,MAAM,KADZ;AAEPC,IAAAA,OAAO,EAAE,MAAM;AAFR;AAFgB,CAA3B;AAQA;;AACA,MAAMC,YAAY,GAAG,CAAC;AACpBC,EAAAA,KADoB;AAEpBvd,EAAAA,IAFoB;AAGpBwd,EAAAA,WAHoB;AAIpBC,EAAAA,QAJoB;AAKpBC,EAAAA,YALoB;AAMpB1U,EAAAA,IANoB;AAOpB2U,EAAAA,WAPoB;AAQpBC,EAAAA,SARoB;AASpBC,EAAAA,OAToB;AAUpBxG,EAAAA;AAVoB,CAAD,KAWf;AACJ,QAAM8F,OAAO,GAAGxM,YAAM,CAACuM,kBAAkB,CAACC,OAApB,CAAtB;AACA,QAAM,CAAC5kB,KAAD,EAAQ6Y,QAAR,IAAoBC,cAAQ,CAACqL,WAAD,CAAlC;AACA,QAAM3c,MAAM,GAAG4Q,YAAM,EAArB;AACA5Q,EAAAA,MAAM,CAAC+Q,OAAP,GAAiB;AACfyM,IAAAA,KADe;AAEfvd,IAAAA,IAFe;AAGfwd,IAAAA,WAHe;AAIfC,IAAAA,QAJe;AAKfK,IAAAA,aAAa,EAAEJ,YALA;AAMf1U,IAAAA;AANe,GAAjB;AASA4H,EAAAA,eAAS,CAAC,MAAM;AACd,UAAMmN,YAAY,GAAGjkB,KAAK,IAAIsX,QAAQ,CAACN,OAAO,KAAK,EAAC,GAAGA,OAAJ;AAAa,SAAGhX;AAAhB,KAAL,CAAR,CAAtC;;AACAshB,IAAAA,qBAAqB,GAClBW,IADH,CACQL,OAAO,IAAI;AACfA,MAAAA,OAAO,CAACsC,UAAR,CAAmB;AACjBC,QAAAA,qBAAqB,EAAEV,KADN;AAEjBW,QAAAA,kBAAkB,EAAE,IAFH;AAGjBC,QAAAA,cAAc,EAAE7C,MAAM,CAACN,IAAP,CAAYoD,cAAZ,CAA2BC;AAH1B,OAAnB;AAKA3C,MAAAA,OAAO,CAACjJ,gBAAR,CACEuI,IAAI,CAACC,SAAL,CAAeqD,oBAAf,CAAoCC,kBADtC,EAEE,CAAC;AAACpT,QAAAA;AAAD,OAAD,KAAiB;AACf,cAAMwQ,cAAc,GAAGD,OAAO,CAACE,iBAAR,EAAvB;AACA,cAAM9K,OAAO,GAAG;AACd3F,UAAAA,SADc;AAEdyR,UAAAA,UAAU,EACRzR,SAAS,KAAK,WAAd,IACAwQ,cAAc,CAAC6C,aAAf,GAA+BC,YAJnB;AAKd,cAAI9C,cAAc,IAAI;AACpB1B,YAAAA,MAAM,EAAE0B,cAAc,CAAC+C,SAAf,EADY;AAEpB1B,YAAAA,KAAK,EAAErB,cAAc,CAACgD,MAAf;AAFa,WAAtB;AALc,SAAhB;;AAUA,YAAIxT,SAAS,KAAK,WAAlB,EAA+B;AAC7B,cAAI,OAAOwS,WAAP,KAAuB,UAA3B,EAAuCA,WAAW,CAAC7M,OAAD,CAAX;AACxC;;AAEDiN,QAAAA,YAAY,CAACjN,OAAD,CAAZ;AACD,OAnBH;AAsBA,YAAMiH,MAAM,GAAG,IAAIiD,IAAI,CAACC,SAAL,CAAe2D,YAAnB,EAAf;AACA,YAAMC,UAAU,GAAG,IAAI7D,IAAI,CAACC,SAAL,CAAe6D,sBAAnB,CAA0C/G,MAA1C,CAAnB;AAEA8G,MAAAA,UAAU,CAACpM,gBAAX,CACEuI,IAAI,CAACC,SAAL,CAAe8D,qBAAf,CAAqCC,oBADvC,EAEE,CAAC;AAACllB,QAAAA;AAAD,OAAD,KACEikB,YAAY,CAAC;AACXjE,QAAAA,WAAW,EAAEhgB,KADF;AAEX6iB,QAAAA,YAAY,EAAE7iB,KAAK,KAAK,MAAV,GAAmB2hB,eAAe,GAAGU,KAArC,GAA6C;AAFhD,OAAD,CAHhB;AAQA0C,MAAAA,UAAU,CAACpM,gBAAX,CACEuI,IAAI,CAACC,SAAL,CAAe8D,qBAAf,CAAqCE,aADvC,EAEE,CAAC;AAACnlB,QAAAA;AAAD,OAAD,KAAaikB,YAAY,CAAC;AAAClB,QAAAA,UAAU,EAAE/iB;AAAb,OAAD,CAF3B;AAIA+kB,MAAAA,UAAU,CAACpM,gBAAX,CACEuI,IAAI,CAACC,SAAL,CAAe8D,qBAAf,CAAqCG,kBADvC,EAEE,CAAC;AAACplB,QAAAA;AAAD,OAAD,KACEikB,YAAY,CAAC;AACXpB,QAAAA,YAAY,EAAE7iB,KADH;AAEX;AACA;AACA,YAAIA,KAAK,GACLA,KAAK,CAACijB,UAAN,IAAoB;AAACA,UAAAA,UAAU,EAAEjjB,KAAK,CAACijB;AAAnB,SADf,GAEL;AAACA,UAAAA,UAAU,EAAE;AAAb,SAFJ;AAJW,OAAD,CAHhB;AAYA8B,MAAAA,UAAU,CAACpM,gBAAX,CACEuI,IAAI,CAACC,SAAL,CAAe8D,qBAAf,CAAqCI,gBADvC,EAEE,CAAC;AAACrlB,QAAAA;AAAD,OAAD,KAAaikB,YAAY,CAAC;AAAC1jB,QAAAA,QAAQ,EAAEP;AAAX,OAAD,CAF3B;AAIA+kB,MAAAA,UAAU,CAACpM,gBAAX,CACEuI,IAAI,CAACC,SAAL,CAAe8D,qBAAf,CAAqCK,oBADvC,EAEE,CAAC;AAACtlB,QAAAA;AAAD,OAAD,KAAaikB,YAAY,CAAC;AAACjB,QAAAA,YAAY,EAAEhjB;AAAf,OAAD,CAF3B;AAIA+kB,MAAAA,UAAU,CAACpM,gBAAX,CACEuI,IAAI,CAACC,SAAL,CAAe8D,qBAAf,CAAqCM,oBADvC,EAEE,CAAC;AAACvlB,QAAAA;AAAD,OAAD,KAAaikB,YAAY,CAAC;AAAC9D,QAAAA,MAAM,EAAEngB;AAAT,OAAD,CAF3B;AAIA+kB,MAAAA,UAAU,CAACpM,gBAAX,CACEuI,IAAI,CAACC,SAAL,CAAe8D,qBAAf,CAAqCO,gBADvC,EAEE,CAAC;AAACxlB,QAAAA;AAAD,OAAD,KAAaikB,YAAY,CAAC;AAACf,QAAAA,KAAK,EAAEljB;AAAR,OAAD,CAF3B;AAIA+kB,MAAAA,UAAU,CAACpM,gBAAX,CACEuI,IAAI,CAACC,SAAL,CAAe8D,qBAAf,CAAqCG,kBADvC,EAEE,CAAC;AAACplB,QAAAA;AAAD,OAAD,KAAaikB,YAAY,CAAC;AAACd,QAAAA,UAAU,EAAEnjB,KAAK,IAAIA,KAAK,CAACmjB;AAA5B,OAAD,CAF3B;AAIA4B,MAAAA,UAAU,CAACpM,gBAAX,CACEuI,IAAI,CAACC,SAAL,CAAe8D,qBAAf,CAAqCQ,wBADvC,EAEE,CAAC;AAACzlB,QAAAA;AAAD,OAAD,KAAaikB,YAAY,CAAC;AAACyB,QAAAA,cAAc,EAAE1lB;AAAjB,OAAD,CAF3B;AAIA+kB,MAAAA,UAAU,CAACpM,gBAAX,CACEuI,IAAI,CAACC,SAAL,CAAe8D,qBAAf,CAAqCU,qBADvC,EAEE,CAAC;AAAC3lB,QAAAA;AAAD,OAAD;AAAA;;AAAA,eACEikB,YAAY,CAAC;AACX2B,UAAAA,WAAW,EAAE5lB,KADF;AAEX6lB,UAAAA,eAAe,WAAE,CAAC,0BAAAlE,eAAe,GAAGU,KAAlB,gFAAyByD,UAAzB,KAAuC,EAAxC,EAA4C5d,IAA5C,CACf0B,IAAI,IAAIA,IAAI,CAAC8K,EAAL,KAAY1U,KADL,CAAF,0CAAE,MAEd6lB;AAJQ,SAAD,CADd;AAAA,OAFF;AAUAd,MAAAA,UAAU,CAACpM,gBAAX,CACEuI,IAAI,CAACC,SAAL,CAAe8D,qBAAf,CAAqCc,0BADvC,EAEE,CAAC;AAAC/lB,QAAAA;AAAD,OAAD,KAAa;AACXikB,QAAAA,YAAY,CAAC;AACX+B,UAAAA,gBAAgB,EAAEhmB,KADP;AAEXimB,UAAAA,aAAa,EAAEhI,MAAM,CAACgI;AAFX,SAAD,CAAZ;AAID,OAPH;;AAUA,YAAMC,OAAO,GAAG,CAAC7D,KAAD,EAAQ8D,KAAR,KAAkB;AAChC,cAAMve,KAAK,GAAGya,KAAK,CAACza,KAAN,IAAe,EAA7B;AACA,eAAOA,KAAK,CAAC,CAACA,KAAK,CAAC8B,MAAN,GAAeyc,KAAhB,IAAyBve,KAAK,CAAC8B,MAAhC,CAAL,IAAgD,EAAvD;AACD,OAHD;;AAKA,aAAO;AACL0c,QAAAA,OAAO,EAAE,MAAMrE,aAAa,EADvB;AAEL9Q,QAAAA,WAAW,EAAE,CAAC;AACZnN,UAAAA,SADY;AAEZqB,UAAAA,WAFY;AAGZ0J,UAAAA,SAHY;AAIZ+E,UAAAA,WAJY;AAKZyS,UAAAA,WALY;AAMZjmB,UAAAA;AANY,SAAD,KAQX2hB,aAAa,GACVE,IADH,CACQJ,cAAc,IAClBK,WAAW,CAACL,cAAD,EAAiB;AAC1BnN,UAAAA,EAAE,EAAE5Q,SADsB;AAE1Bqe,UAAAA,SAAS,EAAE;AACTre,YAAAA,SADS;AAETwiB,YAAAA,SAAS,EAAExiB,SAFF;AAGTmf,YAAAA,UAAU,EAAE,EACV,GAAGhd,MAAM,CAAC+Q,OADA;AAEVuP,cAAAA,QAAQ,EAAEphB,WAFA;AAGV0J,cAAAA,SAHU;AAIV+E,cAAAA,WAJU;AAKVyS,cAAAA;AALU;AAHH,WAFe;AAa1BxlB,UAAAA,WAAW,EAAET;AAba,SAAjB,CAFf,EAkBG6hB,IAlBH,CAkBQ,MAAM;AACV,iBAAO6B,SAAP,KAAqB,UAArB,IAAmCA,SAAS,EAA5C;AACD,SApBH,EAqBG0C,KArBH,CAqBShnB,KAAK,IAAI;AACd,iBAAOukB,OAAP,KAAmB,UAAnB,IAAiCA,OAAO,CAACvkB,KAAD,CAAxC;AACA,iBAAO+gB,OAAO,CAACgB,MAAR,CAAe/hB,KAAf,CAAP;AACD,SAxBH,CAVG;AAmCLinB,QAAAA,WAAW,EAAE,MAAM7E,OAAO,CAAC8E,iBAAR,CAA0B,IAA1B,CAnCd;AAoCLC,QAAAA,IAAI,EAAE,MACJhF,eAAe,GAAGgF,IAAlB,CAAuB,IAAInF,MAAM,CAACN,IAAP,CAAYmB,KAAZ,CAAkBuE,WAAtB,EAAvB,CArCG;AAsCLC,QAAAA,KAAK,EAAE,MACLlF,eAAe,GAAGkF,KAAlB,CAAwB,IAAIrF,MAAM,CAACN,IAAP,CAAYmB,KAAZ,CAAkByE,YAAtB,EAAxB,CAvCG;AAwCLC,QAAAA,IAAI,EAAE,CAAC;AAACC,UAAAA,MAAD;AAASnlB,UAAAA;AAAT,SAAD,KAAuB;AAC3B,gBAAMwgB,KAAK,GAAGV,eAAe,EAA7B;AACA,gBAAM9gB,WAAW,GACfgB,OAAO,IACNmlB,MAAM,KAAK/Z,UAAU,CAACE,OAAtB,GAAgCkV,KAAK,CAAC4E,gBAAN,EAAhC,GAA2D,CADrD,CADT;AAGA5E,UAAAA,KAAK,CAAC0E,IAAN,CACExoB,MAAM,CAACgJ,MAAP,CAAc,IAAIia,MAAM,CAACN,IAAP,CAAYmB,KAAZ,CAAkB6E,WAAtB,EAAd,EAAmD;AAACrmB,YAAAA;AAAD,WAAnD,CADF;AAGD,SAhDI;AAiDLsmB,QAAAA,MAAM,EAAE,MAAMpC,UAAU,CAACoC,MAAX,EAjDT;AAkDL7D,QAAAA,WAAW,EAAE,MAAM;AACjB,gBAAMjB,KAAK,GAAGV,eAAe,MAAM,EAAnC;AACA,iBAAOU,KAAK,CAAC+E,aAAN,KAAwBlB,OAAO,CAAC7D,KAAD,EAAQ,CAAR,CAAP,CAAkBgF,MAAjD;AACD,SArDI;AAsDL9D,QAAAA,OAAO,EAAE,MAAM;AACb,gBAAMlB,KAAK,GAAGV,eAAe,MAAM,EAAnC;AACA,iBAAOU,KAAK,CAAC+E,aAAN,KAAwBlB,OAAO,CAAC7D,KAAD,EAAQ,CAAC,CAAT,CAAP,CAAmBgF,MAAlD;AACD,SAzDI;AA0DL9T,QAAAA,qBAAqB,EAAE,MACrB,IAAIgN,OAAJ,CAAY,CAACC,OAAD,EAAUe,MAAV,KACVI,eAAe,GAAG2F,SAAlB,CAA4B9G,OAA5B,EAAqCe,MAArC,CADF,CA3DG;AA8DLlO,QAAAA,iBAAiB,EAAE,MACjB,IAAIkN,OAAJ,CAAY,CAACC,OAAD,EAAUe,MAAV,KACVI,eAAe,GAAG4F,SAAlB,CAA4B/G,OAA5B,EAAqCe,MAArC,CADF,CA/DG;AAkELiG,QAAAA,SAAS,EAAErH,MAAM,IAAIyB,OAAO,CAACE,iBAAR,GAA4B0F,SAA5B,CAAsCrH,MAAtC,CAlEhB;AAmELsH,QAAAA,OAAO,EAAEC,IAAI,IAAI9F,OAAO,CAACE,iBAAR,GAA4B2F,OAA5B,CAAoCC,IAApC;AAnEZ,OAAP;AAqED,KA9KH,EA+KGzF,IA/KH,CA+KQ0F,MAAM,IAAI;AACdtE,MAAAA,OAAO,CAACrM,OAAR,GAAkB2Q,MAAlB;AACD,KAjLH,EAkLGnB,KAlLH,CAkLShnB,KAAK,IAAI,OAAOukB,OAAP,KAAmB,UAAnB,IAAiCA,OAAO,CAACvkB,KAAD,CAlL1D;AAmLD,GArLQ,EAqLN,EArLM,CAAT;AAuLA,sBACEme,eAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAClf,MAAAA,KAAD;AAAQ4kB,MAAAA,OAAO,EAAEA,OAAO,CAACrM;AAAzB,KAA7B;AAAA,cACGuG;AADH,IADF;AAKD,CApND;;AAsNAiG,YAAY,CAAC5F,SAAb,GAAyB;AACvB6F,EAAAA,KAAK,EAAE5V,SAAS,CAACG,MADM;AAEvB9H,EAAAA,IAAI,EAAE2H,SAAS,CAACG,MAFO;AAGvB0V,EAAAA,WAAW,EAAE7V,SAAS,CAACG,MAHA;AAIvB2V,EAAAA,QAAQ,EAAE9V,SAAS,CAACG,MAJG;AAKvB4V,EAAAA,YAAY,EAAE/V,SAAS,CAAC3O,MALD;AAMvBgQ,EAAAA,IAAI,EAAE0Y,KAAK,CAACtd,YANW;AAOvBiT,EAAAA,QAAQ,EAAE1P,SAAS,CAACgQ,IAPG;AAQvBgG,EAAAA,WAAW,EAAEhW,SAAS,CAACpO,IARA;AASvBqkB,EAAAA,SAAS,EAAEjW,SAAS,CAACpO,IATE;AAUvBskB,EAAAA,OAAO,EAAElW,SAAS,CAACpO;AAVI,CAAzB;;AAaA,MAAMooB,cAAc,GAAG,MAAM7J,gBAAU,CAAC2E,WAAD,CAAV,IAA2BS,kBAAxD;;MAEM0E,YAAY,GAAGnF,WAAW,CAACoF;;AAEjC,MAAMC,aAAa,GAAG,MAAM;AAC1B,QAAM;AACJvpB,IAAAA,KAAK,EAAE;AAAC0hB,MAAAA,MAAD;AAAS+C,MAAAA;AAAT,KADH;AAEJG,IAAAA,OAAO,EAAE;AAACmE,MAAAA,SAAD;AAAYC,MAAAA;AAAZ;AAFL,MAGFI,cAAc,EAHlB;AAKA,SAAO;AACL1H,IAAAA,MADK;AAEL+C,IAAAA,KAFK;AAGL+E,IAAAA,YAAY,EAAET,SAHT;AAILU,IAAAA,WAAW,EAAE,MAAMT,OAAO,CAAC,CAACvE,KAAF;AAJrB,GAAP;AAMD,CAZD;;AC3QA,MAAMiF,cAAc,GAAG,CAAC1pB,KAAD,EAAQ2pB,kBAAR,KAA+B;AACpD,QAAM;AACJlJ,IAAAA,EAAE,EAAE;AAACmJ,MAAAA,mBAAD;AAAsBC,MAAAA;AAAtB;AADA,MAEF7pB,KAFJ;AAGA,SAAO6pB,qBAAqB,KAAK,aAA1B,GACHF,kBADG,GAEHC,mBAFJ;AAGD,CAPD;;ACEO,MAAM9Z,MAAI,GAAG;AAClBga,EAAAA,KAAK,EAAE,cADW;AAElB9c,EAAAA,OAAO,EAAE,gBAFS;AAGlB+c,EAAAA,IAAI,EAAE,aAHY;AAIlB9c,EAAAA,MAAM,EAAE,eAJU;AAKlB+c,EAAAA,MAAM,EAAE,eALU;AAMlBC,EAAAA,QAAQ,EAAE,iBANQ;AAOlB1d,EAAAA,KAAK,EAAE,cAPW;AAQlB2d,EAAAA,WAAW,EAAE,oBARK;AASlBC,EAAAA,SAAS,EAAE,kBATO;AAUlBlc,EAAAA,OAAO,EAAE,gBAVS;AAYlBF,EAAAA,IAAI,EAAE,aAZY;AAalBZ,EAAAA,OAAO,EAAE,gBAbS;AAclBa,EAAAA,KAAK,EAAE,cAdW;AAelBZ,EAAAA,MAAM,EAAE,eAfU;AAgBlBC,EAAAA,KAAK,EAAE,cAhBW;AAiBlB+c,EAAAA,mBAAmB,EAAE,4BAjBH;AAkBlBC,EAAAA,IAAI,EAAE,aAlBY;AAmBlBC,EAAAA,MAAM,EAAE,eAnBU;AAoBlBC,EAAAA,aAAa,EAAE,sBApBG;AAqBlBC,EAAAA,UAAU,EAAE,mBArBM;AAsBlBC,EAAAA,IAAI,EAAE,aAtBY;AAuBlBC,EAAAA,KAAK,EAAE,cAvBW;AAwBlBC,EAAAA,MAAM,EAAE,eAxBU;AAyBlBC,EAAAA,OAAO,EAAE,gBAzBS;AA0BlBC,EAAAA,iBAAiB,EAAE,0BA1BD;AA2BlBC,EAAAA,iBAAiB,EAAE,0BA3BD;AA4BlBC,EAAAA,gBAAgB,EAAE,yBA5BA;AA6BlBC,EAAAA,kBAAkB,EAAE,2BA7BF;AA8BlB9d,EAAAA,QAAQ,EAAE,iBA9BQ;AA+BlB+d,EAAAA,OAAO,EAAE,gBA/BS;AAgClBC,EAAAA,mBAAmB,EAAE;AAhCH,CAAb;AAkCP,mBAAe;AACbC,EAAAA,KAAK,EAAE,OAAO;AAACrb,IAAAA,IAAI,EAAEA,MAAI,CAACga;AAAZ,GAAP,CADM;AAEbsB,EAAAA,OAAO,EAAE,OAAO;AAACtb,IAAAA,IAAI,EAAEA,MAAI,CAAC9C;AAAZ,GAAP,CAFI;AAGbqe,EAAAA,IAAI,EAAE,OAAO;AAACvb,IAAAA,IAAI,EAAEA,MAAI,CAACia;AAAZ,GAAP,CAHO;AAIbuB,EAAAA,MAAM,EAAEC,OAAO,KAAK;AAACzb,IAAAA,IAAI,EAAEA,MAAI,CAAC7C,MAAZ;AAAoBse,IAAAA;AAApB,GAAL,CAJF;AAKbC,EAAAA,MAAM,EAAE,OAAO;AAAC1b,IAAAA,IAAI,EAAEA,MAAI,CAACka;AAAZ,GAAP,CALK;AAMbyB,EAAAA,QAAQ,EAAE,OAAO;AAAC3b,IAAAA,IAAI,EAAEA,MAAI,CAACma;AAAZ,GAAP,CANG;AAObyB,EAAAA,KAAK,EAAE,OAAO;AAAC5b,IAAAA,IAAI,EAAEA,MAAI,CAACvD;AAAZ,GAAP,CAPM;AAQbof,EAAAA,UAAU,EAAE,OAAO;AAAC7b,IAAAA,IAAI,EAAEA,MAAI,CAACoa;AAAZ,GAAP,CARC;AASbrR,EAAAA,QAAQ,EAAE7Y,KAAK,KAAK;AAAC8P,IAAAA,IAAI,EAAEA,MAAI,CAACqa,SAAZ;AAAuBnqB,IAAAA;AAAvB,GAAL,CATF;AAUb4rB,EAAAA,OAAO,EAAE,OAAO;AAAC9b,IAAAA,IAAI,EAAEA,MAAI,CAAC7B;AAAZ,GAAP,CAVI;AAYbia,EAAAA,IAAI,EAAE,OAAO;AAACpY,IAAAA,IAAI,EAAEA,MAAI,CAAC/B;AAAZ,GAAP,CAZO;AAab8d,EAAAA,OAAO,EAAE,OAAO;AAAC/b,IAAAA,IAAI,EAAEA,MAAI,CAAC3C;AAAZ,GAAP,CAbI;AAcbib,EAAAA,KAAK,EAAE,OAAO;AAACtY,IAAAA,IAAI,EAAEA,MAAI,CAAC9B;AAAZ,GAAP,CAdM;AAeb8d,EAAAA,MAAM,EAAE,OAAO;AAAChc,IAAAA,IAAI,EAAEA,MAAI,CAAC1C;AAAZ,GAAP,CAfK;AAgBb2e,EAAAA,KAAK,EAAE,OAAO;AAACjc,IAAAA,IAAI,EAAEA,MAAI,CAACzC;AAAZ,GAAP,CAhBM;AAiBb2e,EAAAA,iBAAiB,EAAE,CAAC;AAAC5pB,IAAAA,WAAW,EAAE6pB,IAAd;AAAoBC,IAAAA;AAApB,GAAD,MAA2C;AAC5Dpc,IAAAA,IAAI,EAAEA,MAAI,CAACsa,mBADiD;AAE5D6B,IAAAA,IAF4D;AAG5DC,IAAAA;AAH4D,GAA3C,CAjBN;AAsBb5D,EAAAA,IAAI,EAAE2D,IAAI,KAAK;AAACnc,IAAAA,IAAI,EAAEA,MAAI,CAACua,IAAZ;AAAkB4B,IAAAA;AAAlB,GAAL,CAtBG;AAuBb1N,EAAAA,MAAM,EAAE0N,IAAI,KAAK;AAACnc,IAAAA,IAAI,EAAEA,MAAI,CAACwa,MAAZ;AAAoB2B,IAAAA;AAApB,GAAL,CAvBC;AAwBblD,EAAAA,SAAS,EAAErH,MAAM,KAAK;AAAC5R,IAAAA,IAAI,EAAEA,MAAI,CAAC0a,UAAZ;AAAwB9I,IAAAA;AAAxB,GAAL,CAxBJ;AAyBbyK,EAAAA,YAAY,EAAEzK,MAAM,KAAK;AAAC5R,IAAAA,IAAI,EAAEA,MAAI,CAACya,aAAZ;AAA2B7I,IAAAA;AAA3B,GAAL,CAzBP;AA0BbuH,EAAAA,IAAI,EAAE,OAAO;AAACnZ,IAAAA,IAAI,EAAEA,MAAI,CAAC2a;AAAZ,GAAP,CA1BO;AA2BbhG,EAAAA,KAAK,EAAE,OAAO;AAAC3U,IAAAA,IAAI,EAAEA,MAAI,CAAC4a;AAAZ,GAAP,CA3BM;AA4Bb0B,EAAAA,MAAM,EAAE,OAAO;AAACtc,IAAAA,IAAI,EAAEA,MAAI,CAAC6a;AAAZ,GAAP,CA5BK;AA6Bb0B,EAAAA,OAAO,EAAE,OAAO;AAACvc,IAAAA,IAAI,EAAEA,MAAI,CAAC8a;AAAZ,GAAP,CA7BI;AA8Bb0B,EAAAA,eAAe,EAAE,OAAO;AAACxc,IAAAA,IAAI,EAAEA,MAAI,CAAC+a;AAAZ,GAAP,CA9BJ;AA+Bb0B,EAAAA,eAAe,EAAE,OAAO;AAACzc,IAAAA,IAAI,EAAEA,MAAI,CAACgb;AAAZ,GAAP,CA/BJ;AAgCb0B,EAAAA,cAAc,EAAE/S,IAAI,KAAK;AAAC3J,IAAAA,IAAI,EAAEA,MAAI,CAACib,gBAAZ;AAA8BtR,IAAAA;AAA9B,GAAL,CAhCP;AAiCbgT,EAAAA,gBAAgB,EAAER,IAAI,KAAK;AAACnc,IAAAA,IAAI,EAAEA,MAAI,CAACkb,kBAAZ;AAAgCiB,IAAAA;AAAhC,GAAL,CAjCT;AAkCbS,EAAAA,QAAQ,EAAE,OAAO;AAAC5c,IAAAA,IAAI,EAAEA,MAAI,CAAC5C;AAAZ,GAAP,CAlCG;AAmCbyf,EAAAA,OAAO,EAAE,OAAO;AAAC7c,IAAAA,IAAI,EAAEA,MAAI,CAACmb;AAAZ,GAAP,CAnCI;AAoCb2B,EAAAA,iBAAiB,EAAE,OAAO;AAAC9c,IAAAA,IAAI,EAAEA,MAAI,CAACob;AAAZ,GAAP,CApCN;AAsCbnqB,EAAAA,KAAK,EAAEA,KAAK,IAAIkX,MAAM,CAAClX,KAAP,CAAa,QAAb,EAAuBA,KAAvB;AAtCH,CAAf;;ACpCO,MAAM+O,MAAI,GAAG;AAClBia,EAAAA,IAAI,EAAE,oBADY;AAElB8C,EAAAA,IAAI,EAAE;AAFY,CAAb;AAKA,MAAM5sB,MAAM,GAAG;AACpBorB,EAAAA,IAAI,EAAEyB,GAAG,KAAK;AAAChd,IAAAA,IAAI,EAAEA,MAAI,CAACia,IAAZ;AAAkB+C,IAAAA;AAAlB,GAAL,CADW;AAEpBC,EAAAA,IAAI,EAAE,CAACD,GAAD,EAAMvrB,KAAN,MAAiB;AAACuO,IAAAA,IAAI,EAAEA,MAAI,CAAC+c,IAAZ;AAAkBC,IAAAA,GAAlB;AAAuBvrB,IAAAA;AAAvB,GAAjB;AAFc,CAAf;;AAKP,MAAMyrB,oBAAoB,GAAG,CAACF,GAAD,EAAMG,YAAN,KAAuB;AAClD,MAAI;AACF,UAAMC,MAAM,GAAGC,YAAY,CAAC1F,OAAb,CAAqBqF,GAArB,CAAf;;AACA,QAAI,OAAOI,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,aAAOE,IAAI,CAACC,KAAL,CAAWH,MAAX,CAAP;AACD,KAJC;;AAMH,GAND,CAME,OAAOnsB,KAAP,EAAc;;AAChB,SAAOksB,YAAP;AACD,CATD;;AAWA,MAAMK,oBAAoB,GAAG,CAACR,GAAD,EAAMvrB,KAAN,KAAgB;AAC3C4rB,EAAAA,YAAY,CAACI,OAAb,CAAqBT,GAArB,EAA0BM,IAAI,CAACI,SAAL,CAAejsB,KAAf,CAA1B;AACD,CAFD;;AAIA,MAAMksB,aAAa,GAAG,MAAMC,IAAI,IAAIztB,MAAM,IAAI;AAC5C,UAAQA,MAAM,CAAC6P,IAAf;AACE,SAAKA,MAAI,CAACia,IAAV;AACE9pB,MAAAA,MAAM,CAACsB,KAAP,GAAeyrB,oBAAoB,CAAC/sB,MAAM,CAAC6sB,GAAR,CAAnC;AACA;;AACF,SAAKhd,MAAI,CAAC+c,IAAV;AACES,MAAAA,oBAAoB,CAACrtB,MAAM,CAAC6sB,GAAR,EAAa7sB,MAAM,CAACsB,KAApB,CAApB;AACA;AANJ;;AASA,SAAOmsB,IAAI,CAACztB,MAAD,CAAX;AACD,CAXD;;ACvBO,MAAM6P,IAAI,GAAG;AAClB6d,EAAAA,KAAK,EAAE,WADW;AAElBhgB,EAAAA,OAAO,EAAE,aAFS;AAGlBC,EAAAA,MAAM,EAAE,YAHU;AAIlBggB,EAAAA,eAAe,EAAE,qBAJC;AAKlBC,EAAAA,gBAAgB,EAAE,sBALA;AAMlBC,EAAAA,iBAAiB,EAAE,uBAND;AAOlBC,EAAAA,YAAY,EAAE,kBAPI;AAQlBC,EAAAA,cAAc,EAAE,oBARE;AASlBzhB,EAAAA,KAAK,EAAE,WATW;AAUlB0hB,EAAAA,sBAAsB,EAAE,4BAVN;AAWlBC,EAAAA,uBAAuB,EAAE,6BAXP;AAYlBC,EAAAA,iBAAiB,EAAE,uBAZD;AAalBC,EAAAA,eAAe,EAAE,qBAbC;AAclBC,EAAAA,WAAW,EAAE,iBAdK;AAelBC,EAAAA,WAAW,EAAE,iBAfK;AAgBlBC,EAAAA,cAAc,EAAE,oBAhBE;AAiBlBC,EAAAA,WAAW,EAAE,iBAjBK;AAkBlBC,EAAAA,cAAc,EAAE,oBAlBE;AAmBlBC,EAAAA,cAAc,EAAE,oBAnBE;AAoBlBC,EAAAA,aAAa,EAAE;AApBG,CAAb;AAsBP,gBAAe;AACbC,EAAAA,aAAa,EAAE,OAAO;AAAC9e,IAAAA,IAAI,EAAEA,IAAI,CAAC4e;AAAZ,GAAP,CADF;AAEbG,EAAAA,KAAK,EAAE,OAAO;AAAC/e,IAAAA,IAAI,EAAEA,IAAI,CAAC6d;AAAZ,GAAP,CAFM;AAGbmB,EAAAA,OAAO,EAAE,OAAO;AAAChf,IAAAA,IAAI,EAAEA,IAAI,CAACnC;AAAZ,GAAP,CAHI;AAIbohB,EAAAA,MAAM,EAAE,CAAC/W,OAAD,EAAUmN,YAAV,MAA4B;AAClCrV,IAAAA,IAAI,EAAEA,IAAI,CAAClC,MADuB;AAElCoK,IAAAA,OAFkC;AAGlCmN,IAAAA;AAHkC,GAA5B,CAJK;AASb6J,EAAAA,cAAc,EAAE,OAAO;AAAClf,IAAAA,IAAI,EAAEA,IAAI,CAAC8d;AAAZ,GAAP,CATH;AAUbqB,EAAAA,eAAe,EAAE,OAAO;AAACnf,IAAAA,IAAI,EAAEA,IAAI,CAAC+d;AAAZ,GAAP,CAVJ;AAWbqB,EAAAA,gBAAgB,EAAE,OAAO;AAACpf,IAAAA,IAAI,EAAEA,IAAI,CAACge;AAAZ,GAAP,CAXL;AAYbqB,EAAAA,WAAW,EAAEC,YAAY,KAAK;AAACtf,IAAAA,IAAI,EAAEA,IAAI,CAACie,YAAZ;AAA0BqB,IAAAA;AAA1B,GAAL,CAZZ;AAabC,EAAAA,aAAa,EAAEC,UAAU,KAAK;AAACxf,IAAAA,IAAI,EAAEA,IAAI,CAACke,cAAZ;AAA4BsB,IAAAA;AAA5B,GAAL,CAbZ;AAcb5D,EAAAA,KAAK,EAAE,OAAO;AAAC5b,IAAAA,IAAI,EAAEA,IAAI,CAACvD;AAAZ,GAAP,CAdM;AAebgjB,EAAAA,oBAAoB,EAAEC,WAAW,KAAK;AACpC1f,IAAAA,IAAI,EAAEA,IAAI,CAACme,sBADyB;AAEpCuB,IAAAA;AAFoC,GAAL,CAfpB;AAmBbC,EAAAA,oBAAoB,EAAExD,IAAI,KAAK;AAACnc,IAAAA,IAAI,EAAEA,IAAI,CAACoe,uBAAZ;AAAqCjC,IAAAA;AAArC,GAAL,CAnBb;AAoBbyD,EAAAA,eAAe,EAAE,OAAO;AAAC5f,IAAAA,IAAI,EAAEA,IAAI,CAACqe;AAAZ,GAAP,CApBJ;AAqBbwB,EAAAA,cAAc,EAAE,OAAO;AAAC7f,IAAAA,IAAI,EAAEA,IAAI,CAACse;AAAZ,GAAP,CArBH;AAsBbwB,EAAAA,UAAU,EAAE5X,OAAO,KAAK;AAAClI,IAAAA,IAAI,EAAEA,IAAI,CAACue,WAAZ;AAAyBrW,IAAAA;AAAzB,GAAL,CAtBN;AAuBb6X,EAAAA,UAAU,EAAE,OAAO;AAAC/f,IAAAA,IAAI,EAAEA,IAAI,CAACwe;AAAZ,GAAP,CAvBC;AAwBbwB,EAAAA,aAAa,EAAE,CAACC,KAAD,EAAQC,KAAR,MAAmB;AAAClgB,IAAAA,IAAI,EAAEA,IAAI,CAACye,cAAZ;AAA4BwB,IAAAA,KAA5B;AAAmCC,IAAAA;AAAnC,GAAnB,CAxBF;AAyBbC,EAAAA,UAAU,EAAE,OAAO;AAACngB,IAAAA,IAAI,EAAEA,IAAI,CAAC0e;AAAZ,GAAP,CAzBC;AA0Bb0B,EAAAA,aAAa,EAAE,CAACH,KAAD,EAAQC,KAAR,MAAmB;AAAClgB,IAAAA,IAAI,EAAEA,IAAI,CAAC2e,cAAZ;AAA4BsB,IAAAA,KAA5B;AAAmCC,IAAAA;AAAnC,GAAnB,CA1BF;AA2BbG,EAAAA,WAAW,EAAE,OAAO;AAACrgB,IAAAA,IAAI,EAAEA,IAAI,CAAC6e;AAAZ,GAAP,CA3BA;AA6Bb5tB,EAAAA,KAAK,EAAEA,KAAK,IAAIkX,MAAM,CAAClX,KAAP,CAAa,KAAb,EAAoBA,KAApB;AA7BH,CAAf;;ACdO,MAAMqvB,eAAe,GAAG,CAACzP,KAAD,EAAQ0P,KAAR,KAAkB;AAC/C,SAAO,IAAIvO,OAAJ,CAAY1hB,GAAG,IAAI;AACxB,QAAIiwB,KAAK,CAAC1P,KAAK,CAACE,QAAN,EAAD,CAAT,EAA6B,OAAOzgB,GAAG,EAAV;AAC7B,UAAMkR,cAAc,GAAGqP,KAAK,CAACC,kBAAN,CAAyBD,KAAK,IAAI;AACvD,YAAM3gB,KAAK,GAAG2gB,KAAK,CAACE,QAAN,EAAd;;AACA,UAAIwP,KAAK,CAACrwB,KAAD,CAAT,EAAkB;AAChBsR,QAAAA,cAAc;AACdlR,QAAAA,GAAG;AACJ;AACF,KANsB,CAAvB;AAOD,GATM,CAAP;AAUD,CAXM;AAaA,MAAMkwB,kBAAkB,GAAG,CAAC3P,KAAD,EAAQ0P,KAAR,KAAkB;AAClD,SAAO,IAAIvO,OAAJ,CAAY1hB,GAAG,IAAI;AACxB,UAAMkR,cAAc,GAAGqP,KAAK,CAAC4P,qBAAN,CAA4B,CAAC5P,KAAD,EAAQ1gB,MAAR,KAAmB;AACpE,UAAIowB,KAAK,CAACpwB,MAAD,CAAT,EAAmB;AACjBqR,QAAAA,cAAc;AACdlR,QAAAA,GAAG;AACJ;AACF,KALsB,CAAvB;AAMD,GAPM,CAAP;AAQD,CATM;;AAWP,MAAMowB,iBAAiB,GAAG,OAAOC,OAAP,EAAgBvH,MAAhB,KAA2B;AACnD,MAAIwH,OAAO,GAAGxH,MAAM,EAApB;;AACA,QAAMuH,OAAO,EAAb;AACA,QAAMC,OAAN;AACD,CAJD;;AAMA,MAAMC,QAAQ,GAAG;AACf5vB,EAAAA,KAAK,EAAE,MAAM4f,KAAN,IAAe;AACpB,UAAMgQ,QAAQ,CAACnF,MAAT,CAAgB7K,KAAhB,CAAN;AACD,GAHc;AAIfrO,EAAAA,UAAU,EAAE,MAAMqO,KAAN,IAAe;AACzB,UAAM;AAACzH,MAAAA;AAAD,QAAayH,KAAnB;AACAzH,IAAAA,QAAQ,CAACjB,MAAM,CAAC3F,UAAP,EAAD,CAAR;AACAxS,IAAAA,MAAM,CAAC2P,MAAP,CAAc/C,UAAd,EAA0B2E,OAA1B,CAAkCyb,GAAG,IACnC5T,QAAQ,CAAC0X,MAAkB,CAACvF,IAAnB,CAAwByB,GAAxB,CAAD,CADV;AAGA,UAAM0D,iBAAiB,CACrB,MAAMtX,QAAQ,CAAC2X,YAAY,CAAC1F,KAAb,EAAD,CADO,EAErB,MACEiF,eAAe,CACbzP,KADa,EAEb,CAAC;AAACN,MAAAA,MAAM,EAAE;AAACkB,QAAAA;AAAD;AAAT,KAAD,KAA6BA,WAAW,KAAK1U,aAAW,CAACG,OAF5C,CAHI,CAAvB;AAQA,UAAMwjB,iBAAiB,CACrB,MAAMtX,QAAQ,CAAC2X,YAAY,CAAClF,UAAb,EAAD,CADO,EAErB,MAAM2E,kBAAkB,CAAC3P,KAAD,EAAQ,CAAC;AAAC7Q,MAAAA;AAAD,KAAD,KAAYA,IAAI,KAAKghB,MAAU,CAAC3G,SAAxC,CAFH,CAAvB;AAIAjR,IAAAA,QAAQ,CAACjB,MAAM,CAAC1F,WAAP,EAAD,CAAR;AACD,GAvBc;AAwBfC,EAAAA,WAAW,EAAE,MAAMmO,KAAN,IAAe;AAC1B,UAAM;AAACzH,MAAAA,QAAD;AAAW2H,MAAAA;AAAX,QAAuBF,KAA7B;;AACA,UAAMoQ,cAAc,GAAG,MAAMlQ,QAAQ,GAAGV,MAAX,CAAkBngB,KAA/C;;AACA,QACEuD,SAAS,CAAC0I,WAAW,CAACG,WAAb,EAA0B2kB,cAAc,EAAxC,EAA4C9kB,WAAW,CAACM,KAAxD,CADX,EAEE;AACA,YAAM6jB,eAAe,CACnBzP,KADmB,EAEnB,CAAC;AAACH,QAAAA,GAAG,EAAE;AAACwQ,UAAAA;AAAD;AAAN,OAAD,KAAuBA,QAAQ,KAAKtjB,QAAQ,CAACC,OAF1B,CAArB;AAIAuL,MAAAA,QAAQ,CAACjB,MAAM,CAACzF,WAAP,EAAD,CAAR;AACA,YAAMge,iBAAiB,CACrB,MAAMtX,QAAQ,CAAC+X,SAAS,CAACjC,cAAV,EAAD,CADO,EAErB,MACEsB,kBAAkB,CAAC3P,KAAD,EAAQ,CAAC;AAAC7Q,cAAAA;AAAD,OAAD,KAAYA,MAAI,KAAKohB,IAAO,CAAC7C,WAArC,CAHC,CAAvB;AAKA,YAAMmC,iBAAiB,CACrB,MAAMtX,QAAQ,CAAC+X,SAAS,CAAChC,eAAV,EAAD,CADO,EAErB,MACEqB,kBAAkB,CAAC3P,KAAD,EAAQ,CAAC;AAAC7Q,cAAAA;AAAD,OAAD,KAAYA,MAAI,KAAKohB,IAAO,CAACnD,YAArC,CAHC,CAAvB;AAKA,YAAMyC,iBAAiB,CACrB,MAAMtX,QAAQ,CAAC+X,SAAS,CAAC/B,gBAAV,EAAD,CADO,EAErB,MAAMoB,kBAAkB,CAAC3P,KAAD,EAAQ,CAAC;AAAC7Q,cAAAA;AAAD,OAAD,KAAYA,MAAI,KAAKohB,IAAO,CAAC3kB,KAArC,CAFH,CAAvB;;AAIA,UAAIsU,QAAQ,GAAGV,MAAX,CAAkBvN,SAAlB,KAAgCjE,SAAS,CAACE,SAA9C,EAAyD;AACvD;AACA,eAAO8hB,QAAQ,CAACnF,MAAT,CAAgB7K,KAAhB,CAAP;AACD;;AACD,UAAI,CAAC/e,wBAAI,CAACif,QAAQ,EAAT,EAAa,iBAAb,CAAT,EAA0C;AACxC,cAAM2P,iBAAiB,CACrB,MAAMtX,QAAQ,CAAC2X,YAAY,CAACxF,IAAb,EAAD,CADO,EAErB,MAAMiF,kBAAkB,CAAC3P,KAAD,EAAQ,CAAC;AAAC7Q,UAAAA;AAAD,SAAD,KAAYA,IAAI,KAAKghB,MAAU,CAACvkB,KAAxC,CAFH,CAAvB;AAIA,cAAM;AACJ8T,UAAAA,MAAM,EAAE;AAACqE,YAAAA;AAAD,WADJ;AAEJlE,UAAAA,GAAG,EAAE;AAAC2Q,YAAAA,SAAD;AAAYC,YAAAA;AAAZ;AAFD,YAGFvQ,QAAQ,EAHZ;AAIA3H,QAAAA,QAAQ,CACNmY,QAAQ,CAACpc,eAAT,CACEkc,SAAS,CAACzM,UAAD,CAAT,CAAsB4M,WAAtB,CAAkC3wB,GAAlC,CAAsCwK,IAAI,KAAK,EAC7C,GAAGA,IAD0C;AAE7C5J,UAAAA,KAAK,EAAG,GAAE4J,IAAI,CAAC1G,MAAO;AAFuB,SAAL,CAA1C,CADF,CADM,CAAR;AAQAyU,QAAAA,QAAQ,CAACmY,QAAQ,CAACjc,eAAT,CAAyBgc,gBAAzB,CAAD,CAAR;AACD;;AACDlY,MAAAA,QAAQ,CAACjB,MAAM,CAACxF,WAAP,EAAD,CAAR;AACD,KA9CD,MA8CO;AACL,YAAM8e,KAAK,CAAC,8CAAD,CAAX;AACD;AACF,GA5Ec;AA6EfC,EAAAA,aAAa,EAAE,CAACxc,EAAD,EAAK1K,IAAL,KAAc,MAAMqW,KAAN,IAAe;AAC1C,UAAM;AAACzH,MAAAA,QAAD;AAAW2H,MAAAA;AAAX,QAAuBF,KAA7B;AACA,UAAM;AACJN,MAAAA,MAAM,EAAE;AAACkB,QAAAA,WAAD;AAAcmD,QAAAA;AAAd;AADJ,QAEF7D,QAAQ,EAFZ;AAGA3H,IAAAA,QAAQ,CAACmY,QAAQ,CAACtc,aAAT,CAAuBC,EAAvB,EAA2B1K,IAA3B,CAAD,CAAR;;AACA,QAAIiX,WAAW,KAAK1U,aAAW,CAACQ,KAAhC,EAAuC;AACrC,UAAIqX,UAAU,KAAK,KAAnB,EAA0B;AACxBxL,QAAAA,QAAQ,CAAC2X,YAAY,CAACjE,iBAAb,EAAD,CAAR;AACA1T,QAAAA,QAAQ,CAAC2X,YAAY,CAAC3I,IAAb,EAAD,CAAR;AACD;;AAEDoI,MAAAA,kBAAkB,CAChB3P,KADgB,EAEhB,CAAC;AAAC7Q,QAAAA;AAAD,OAAD,KAAYA,IAAI,KAAKghB,MAAU,CAACvkB,KAFhB,CAAlB,CAGEiX,IAHF,CAGO,MAAMtK,QAAQ,CAAC2X,YAAY,CAAC3I,IAAb,EAAD,CAHrB;AAID;AACF,GA9Fc;AA+FfuJ,EAAAA,iBAAiB,EAAEtc,WAAW,IAAI,MAAMwL,KAAN,IAAe;AAC/C,UAAM;AAACzH,MAAAA,QAAD;AAAW2H,MAAAA;AAAX,QAAuBF,KAA7B;AACA,UAAM;AACJH,MAAAA,GAAG,EAAE;AAACxI,QAAAA,OAAD;AAAUmN,QAAAA;AAAV,OADD;AAEJ9E,MAAAA,MAAM,EAAE;AACNkB,QAAAA,WADM;AAENE,QAAAA,QAAQ,EAAE;AAAC8C,UAAAA;AAAD;AAFJ;AAFJ,QAMF1D,QAAQ,EANZ;AAQA3H,IAAAA,QAAQ,CAAC+X,SAAS,CAACxB,oBAAV,CAA+BlL,YAA/B,CAAD,CAAR;AACArL,IAAAA,QAAQ,CAACmY,QAAQ,CAACnc,iBAAT,CAA2BC,WAA3B,CAAD,CAAR;AACA,UAAMqb,iBAAiB;AAErB,UAAMtX,QAAQ,CAAC+X,SAAS,CAAClC,MAAV,CAAiB/W,OAAjB,EAA0BmN,YAA1B,CAAD,CAFO,EAGrB,MAAMmL,kBAAkB,CAAC3P,KAAD,EAAQ,CAAC;AAAC7Q,MAAAA;AAAD,KAAD,KAAYA,IAAI,KAAKghB,MAAU,CAACvkB,KAAxC,CAHH,CAAvB;AAKA,QAAIgV,WAAW,KAAK1U,aAAW,CAACQ,KAAhC,EAAuC,MAAMsjB,QAAQ,CAAC9d,MAAT,CAAgB8N,KAAhB,CAAN,CAAvC,KACKzH,QAAQ,CAAC2X,YAAY,CAAC3I,IAAb,EAAD,CAAR;AACN,GAlHc;AAmHfrV,EAAAA,MAAM,EAAE,MAAM8N,KAAN,IAAe;AACrB,UAAMgQ,QAAQ,CAACnF,MAAT,CAAgB7K,KAAhB,CAAN;AACA,UAAMgQ,QAAQ,CAACne,WAAT,CAAqBmO,KAArB,CAAN;AACAA,IAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAC3I,IAAb,EAAf;AACAvH,IAAAA,KAAK,CAACzH,QAAN,CAAejB,MAAM,CAACpF,MAAP,EAAf;AACD,GAxHc;AAyHf6e,EAAAA,KAAK,EAAE,MAAM/Q,KAAN,IAAe;AACpB,UAAMgQ,QAAQ,CAACnF,MAAT,CAAgB7K,KAAhB,CAAN;AACA,UAAMgQ,QAAQ,CAACne,WAAT,CAAqBmO,KAArB,CAAN;AACD,GA5Hc;AA6Hf6K,EAAAA,MAAM,EAAE,MAAM7K,KAAN,IAAe;AACrB,UAAMzH,QAAQ,GAAGyH,KAAK,CAACzH,QAAvB;AACAA,IAAAA,QAAQ,CAAC+X,SAAS,CAACpC,KAAV,EAAD,CAAR;AACA,UAAM2B,iBAAiB,CACrB,MAAMtX,QAAQ,CAAC2X,YAAY,CAACrF,MAAb,EAAD,CADO,EAErB,MAAM8E,kBAAkB,CAAC3P,KAAD,EAAQ,CAAC;AAAC7Q,MAAAA;AAAD,KAAD,KAAYA,IAAI,KAAKghB,MAAU,CAAC7G,QAAxC,CAFH,CAAvB;AAID,GApIc;AAqIf0H,EAAAA,WAAW,EAAE,MAAMhR,KAAN,IAAe;AAC1B,UAAMY,WAAW,GAAGZ,KAAK,CAACE,QAAN,GAAiBR,MAAjB,CAAwBkB,WAA5C,CAD0B;;AAG1B,QAAIA,WAAW,KAAK1U,aAAW,CAACE,QAAhC,EAA0C;AACxC,YAAMqjB,eAAe,CACnBzP,KADmB,EAEnB,CAAC;AAACN,QAAAA,MAAM,EAAE;AAACkB,UAAAA;AAAD;AAAT,OAAD,KAA6BA,WAAW,KAAK1U,aAAW,CAACG,OAFtC,CAArB;AAID,KARyB;;;AAU1B,QACEuU,WAAW,KAAK1U,aAAW,CAACG,OAA5B,IACAuU,WAAW,KAAK1U,aAAW,CAACC,SAF9B,EAGE;AACA,YAAM6jB,QAAQ,CAACnF,MAAT,CAAgB7K,KAAhB,CAAN;AACD,KALD,MAKO;AACLA,MAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACpF,QAAb,EAAf;AACD;AACF,GAvJc;AAwJfnD,EAAAA,IAAI,EAAE2D,IAAI,IAAI,MAAMtL,KAAN,IAAe;AAC3B,QAAI/e,wBAAI,CAAC+e,KAAK,CAACE,QAAN,EAAD,EAAmB,oBAAnB,CAAJ,KAAiDhU,aAAW,CAACQ,KAAjE,EAAwE;AACtE,YAAMsjB,QAAQ,CAAC9d,MAAT,CAAgB8N,KAAhB,CAAN;AACD,KAFD,MAEO;AACLA,MAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAC3I,IAAb,EAAf;AACD,KAL0B;AAO3B;;;AACA,QAAIlmB,IAAI,CAAC4vB,GAAL,CAAS3F,IAAI,GAAGtL,KAAK,CAACE,QAAN,GAAiBR,MAAjB,CAAwBoB,QAAxB,CAAiC8C,YAAjD,IAAiE,CAArE,EAAwE;AACtE5D,MAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACvI,IAAb,CAAkB2D,IAAlB,CAAf;AACD;AACF;AAnKc,CAAjB;;AC5BA,MAAM4F,YAAY,GAAG,CACnB;AAACnrB,EAAAA,WAAD;AAAcrB,EAAAA,SAAd;AAAyB+K,EAAAA,SAAzB;AAAoC+E,EAAAA;AAApC,CADmB,EAEnBnV,KAFmB,KAInB4B,wBAAI,CAAC5B,KAAD,EAAQ,wBAAR,CAAJ,KAA0CqF,SAA1C,IACAzD,wBAAI,CAAC5B,KAAD,EAAQ,qBAAR,CAAJ,KAAuC0G,WADvC,IAEA9E,wBAAI,CAAC5B,KAAD,EAAQ,sBAAR,CAAJ,KAAwCoQ,SAFxC,IAGAxO,wBAAI,CAAC5B,KAAD,EAAQ,wBAAR,CAAJ,KAA0CmV,WAP5C;;AASA,MAAM2c,YAAY,GAAG,CAACvwB,KAAD,EAAQ;AAACwwB,EAAAA,MAAM,GAAG;AAAV,IAAiB,EAAzB,KAAgC;AACnD,QAAM,CAAC/xB,KAAD,EAAQ6Y,QAAR,IAAoBC,cAAQ,CAACvX,KAAD,CAAlC;AACA,QAAM4W,KAAK,GAAGC,YAAM,CAAC,EAAD,CAApB;AAEAC,EAAAA,eAAS,CAAC,MAAM;AACdF,IAAAA,KAAK,CAACI,OAAN,GAAgBC,UAAU,CAAC,MAAMK,QAAQ,CAACtX,KAAD,CAAf,EAAwBwwB,MAAxB,CAA1B;AACA,WAAO,MAAMzZ,YAAY,CAACH,KAAK,CAACI,OAAP,CAAzB;AACD,GAHQ,EAGN,CAAChX,KAAD,CAHM,CAAT;AAKA,SAAOvB,KAAP;AACD,CAVD;;AAYA,MAAMgyB,WAAW,GAAG,CAAC;AACnBha,EAAAA,OAAO,GAAG,EADS;AAEnB7C,EAAAA,WAAW,EAAEwU,kBAFM;AAGnB/B,EAAAA;AAHmB,CAAD,KAId;AACJ,QAAMjH,KAAK,GAAGpB,gBAAU,CAACQ,OAAO,CAACC,OAAT,CAAxB;AACA,QAAM;AACJhgB,IAAAA,KADI;AAEJ4kB,IAAAA,OAAO,EAAE;AAACpS,MAAAA;AAAD;AAFL,MAGF4W,cAAc,EAHlB;AAIA,QAAM6I,SAAS,GAAG7Z,YAAM,EAAxB;AACA,QAAM,CACJxF,SADI,EAEJlM,WAFI,EAGJrB,SAHI,EAIJ8P,WAJI,EAKJ/E,SALI,IAMF0hB,YAAY,CAAC,CACf9xB,KAAK,CAAC4S,SADS,EAEfoF,OAAO,CAACtR,WAFO,EAGfsR,OAAO,CAAC3S,SAHO,EAIfqkB,cAAc,CAAC/I,KAAK,CAACE,QAAN,EAAD,EAAmB8I,kBAAnB,CAJC,EAKf3R,OAAO,CAAC5H,SALO,CAAD,CANhB;AAcAiI,EAAAA,eAAS,CAAC,MAAM;AACdsI,IAAAA,KAAK,CAACzH,QAAN,CAAejB,MAAM,CAACtF,eAAP,CAAuBC,SAAvB,CAAf;AACD,GAFQ,EAEN,CAACA,SAAD,CAFM,CAAT;AAIAyF,EAAAA,eAAS,CAAC,MAAM;AACd,UAAM6Z,eAAe,GAAGL,YAAY,CAClC;AAACxsB,MAAAA,SAAD;AAAYqB,MAAAA,WAAZ;AAAyB0J,MAAAA,SAAzB;AAAoC+E,MAAAA;AAApC,KADkC,EAElCnV,KAFkC,CAApC;;AAKA,YAAQ4S,SAAR;AACE,WAAKjE,SAAS,CAACE,SAAf;AACEyhB,QAAAA,kBAAkB,CAAC3P,KAAD,EAAQ,CAAC;AAAC7Q,UAAAA;AAAD,SAAD,KAAY;AACpC,iBAAOA,IAAI,KAAKghB,MAAU,CAAC7G,QAA3B;AACD,SAFiB,CAAlB,CAEGzG,IAFH,CAEQ,MAAM;AACZ,cAAI,CAAC0O,eAAL,EAAsB;AACpB;AACA;AACA1f,YAAAA,WAAW,CAAC;AACVnN,cAAAA,SADU;AAEV8P,cAAAA,WAFU;AAGVyS,cAAAA,WAHU;AAIVxX,cAAAA,SAJU;AAKV1J,cAAAA;AALU,aAAD,CAAX;AAOD;AACF,SAdD;AAeAia,QAAAA,KAAK,CAACzH,QAAN,CAAeyX,QAAQ,CAACgB,WAAxB;AACAM,QAAAA,SAAS,CAAC1Z,OAAV,GAAoB3F,SAApB;AACA;;AACF,WAAKjE,SAAS,CAACI,aAAf;AACE,YAAIkjB,SAAS,CAAC1Z,OAAV,KAAsB5J,SAAS,CAACE,SAApC,EAA+C;AAC7C8R,UAAAA,KAAK,CAACzH,QAAN,CAAejB,MAAM,CAAC1F,WAAP,EAAf;AACD;;AACD0f,QAAAA,SAAS,CAAC1Z,OAAV,GAAoB3F,SAApB;AACA;AAzBJ;AA2BD,GAjCQ,EAiCN,CAACA,SAAD,EAAYvN,SAAZ,EAAuBqB,WAAvB,EAAoCyO,WAApC,EAAiD/E,SAAjD,CAjCM,CAAT;AAmCA,SAAO,IAAP;AACD,CAjED;;AAmEA4hB,WAAW,CAAC7S,SAAZ,GAAwB;AACtBnH,EAAAA,OAAO,EAAEmR,KAAK,CAAChZ,SADO;AAEtBgF,EAAAA,WAAW,EAAE/F,SAAS,CAACG,MAFD;AAGtBqY,EAAAA,WAAW,EAAExY,SAAS,CAAC3O;AAHD,CAAxB;AAKAuxB,WAAW,CAACG,YAAZ,GAA2B;AACzBna,EAAAA,OAAO,EAAE,IADgB;AAEzB7C,EAAAA,WAAW,EAAE,IAFY;AAGzByS,EAAAA,WAAW,EAAE;AAHY,CAA3B;;ACzGA;AACA;AACA;AAC+B;AAC/B;AACA,OAAc,GAAG,SAAS,OAAO,GAAG;AACpC,EAAE,OAAOrN,0BAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;AAChC,CAAC;;;;;;ACHD,IAAI,SAAS,GAAG,EAAE,CAAC;AACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;AAC9B,EAAE,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACpD,CAAC;AACD;AACA,SAAS,WAAW,CAAC,GAAG,EAAE,MAAM,EAAE;AAClC,EAAE,IAAI,CAAC,GAAG,MAAM,IAAI,CAAC,CAAC;AACtB,EAAE,IAAI,GAAG,GAAG,SAAS,CAAC;AACtB;AACA,EAAE,OAAO,CAAC;AACV,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;AAChC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG;AACrC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG;AACrC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG;AACrC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG;AACrC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;AAChC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;AAChC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;AAChC,GAAG,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;AACd,CAAC;AACD;AACA,iBAAc,GAAG,WAAW;;ACtB5B;AACA;AACA;AACA;AACA;AACA,IAAI,OAAO,CAAC;AACZ,IAAI,SAAS,CAAC;AACd;AACA;AACA,IAAI,UAAU,GAAG,CAAC,CAAC;AACnB,IAAI,UAAU,GAAG,CAAC,CAAC;AACnB;AACA;AACA,SAAS,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE;AAClC,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,IAAI,CAAC,CAAC;AAC7B,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,EAAE,CAAC;AACpB;AACA,EAAE,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;AAC1B,EAAE,IAAI,IAAI,GAAG,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC;AACrC,EAAE,IAAI,QAAQ,GAAG,OAAO,CAAC,QAAQ,KAAK,SAAS,GAAG,OAAO,CAAC,QAAQ,GAAG,SAAS,CAAC;AAC/E;AACA;AACA;AACA;AACA,EAAE,IAAI,IAAI,IAAI,IAAI,IAAI,QAAQ,IAAI,IAAI,EAAE;AACxC,IAAI,IAAI,SAAS,GAAG,GAAG,EAAE,CAAC;AAC1B,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE;AACtB;AACA,MAAM,IAAI,GAAG,OAAO,GAAG;AACvB,QAAQ,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI;AAC3B,QAAQ,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;AAC5E,OAAO,CAAC;AACR,KAAK;AACL,IAAI,IAAI,QAAQ,IAAI,IAAI,EAAE;AAC1B;AACA,MAAM,QAAQ,GAAG,SAAS,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC;AACzE,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,KAAK,GAAG,OAAO,CAAC,KAAK,KAAK,SAAS,GAAG,OAAO,CAAC,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;AACjF;AACA;AACA;AACA,EAAE,IAAI,KAAK,GAAG,OAAO,CAAC,KAAK,KAAK,SAAS,GAAG,OAAO,CAAC,KAAK,GAAG,UAAU,GAAG,CAAC,CAAC;AAC3E;AACA;AACA,EAAE,IAAI,EAAE,GAAG,CAAC,KAAK,GAAG,UAAU,IAAI,CAAC,KAAK,GAAG,UAAU,EAAE,KAAK,CAAC;AAC7D;AACA;AACA,EAAE,IAAI,EAAE,GAAG,CAAC,IAAI,OAAO,CAAC,QAAQ,KAAK,SAAS,EAAE;AAChD,IAAI,QAAQ,GAAG,QAAQ,GAAG,CAAC,GAAG,MAAM,CAAC;AACrC,GAAG;AACH;AACA;AACA;AACA,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,KAAK,GAAG,UAAU,KAAK,OAAO,CAAC,KAAK,KAAK,SAAS,EAAE;AACrE,IAAI,KAAK,GAAG,CAAC,CAAC;AACd,GAAG;AACH;AACA;AACA,EAAE,IAAI,KAAK,IAAI,KAAK,EAAE;AACtB,IAAI,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC,CAAC;AACxE,GAAG;AACH;AACA,EAAE,UAAU,GAAG,KAAK,CAAC;AACrB,EAAE,UAAU,GAAG,KAAK,CAAC;AACrB,EAAE,SAAS,GAAG,QAAQ,CAAC;AACvB;AACA;AACA,EAAE,KAAK,IAAI,cAAc,CAAC;AAC1B;AACA;AACA,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,KAAK,GAAG,SAAS,IAAI,KAAK,GAAG,KAAK,IAAI,WAAW,CAAC;AAC/D,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;AAC5B,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;AAC5B,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,IAAI,CAAC;AAC3B,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;AACrB;AACA;AACA,EAAE,IAAI,GAAG,GAAG,CAAC,KAAK,GAAG,WAAW,GAAG,KAAK,IAAI,SAAS,CAAC;AACtD,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC;AAC5B,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC;AACtB;AACA;AACA,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC;AACnC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,KAAK,EAAE,GAAG,IAAI,CAAC;AAC7B;AACA;AACA,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,QAAQ,KAAK,CAAC,GAAG,IAAI,CAAC;AACjC;AACA;AACA,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,QAAQ,GAAG,IAAI,CAAC;AAC3B;AACA;AACA,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;AAC9B,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACvB,GAAG;AACH;AACA,EAAE,OAAO,GAAG,GAAG,GAAG,GAAG6X,aAAW,CAAC,CAAC,CAAC,CAAC;AACpC,CAAC;AACD;AACA,QAAc,GAAG,EAAE;;ACzGnB,SAAS,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE;AAClC,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,IAAI,CAAC,CAAC;AAC7B;AACA,EAAE,IAAI,OAAO,OAAO,CAAC,IAAI,QAAQ,EAAE;AACnC,IAAI,GAAG,GAAG,OAAO,KAAK,QAAQ,GAAG,IAAI,KAAK,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;AACtD,IAAI,OAAO,GAAG,IAAI,CAAC;AACnB,GAAG;AACH,EAAE,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;AAC1B;AACA,EAAE,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;AACtD;AACA;AACA,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,CAAC;AACpC,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,CAAC;AACpC;AACA;AACA,EAAE,IAAI,GAAG,EAAE;AACX,IAAI,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE;AACpC,MAAM,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;AAC7B,KAAK;AACL,GAAG;AACH;AACA,EAAE,OAAO,GAAG,IAAIA,aAAW,CAAC,IAAI,CAAC,CAAC;AAClC,CAAC;AACD;AACA,QAAc,GAAG,EAAE;;ACzBnB,IAAI,IAAI,GAAGC,IAAE,CAAC;AACd,IAAI,CAAC,EAAE,GAAGC,IAAE,CAAC;AACb,IAAI,CAAC,EAAE,GAAGD,IAAE,CAAC;AACb;AACA,UAAc,GAAG,IAAI;;ACErB,MAAME,kBAAkB,GAAG,KAA3B;AACA,MAAMC,iBAAiB,GAAG,IAA1B;;AAEA,MAAMC,cAAc,GAAGzyB,KAAK,IAAI;AAC9B,QAAM0yB,SAAS,GAAG1yB,KAAK,CAACogB,YAAN,CAAmB1T,UAAU,CAACE,kBAA9B,KAAqD,EAAvE;AACA,QAAM;AAAC+lB,IAAAA;AAAD,MAAcD,SAApB;;AACA,MAAIA,SAAS,CAACE,MAAV,IAAoB,QAAQlhB,IAAR,CAAaihB,SAAb,CAApB,IAA+CzwB,IAAI,CAACC,GAAL,MAAcwwB,SAAjE,EAA4E;AAC1E,WAAOD,SAAS,CAACE,MAAjB;AACD;AACF,CAND;;AAOA,MAAMC,gBAAgB,GAAG,CAAC;AAACvd,EAAAA;AAAD,CAAD,KAAe;AACtC,QAAMwd,OAAO,GAAG1a,YAAM,EAAtB;AACA,QAAM;AACJpY,IAAAA,KAAK,EAAE;AAACA,MAAAA,KAAK,EAAE+yB;AAAR;AADH,MAEFxT,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAFd;AAGA,QAAMQ,KAAK,GAAGpB,gBAAU,CAACQ,OAAO,CAACC,OAAT,CAAxB;AACA,QAAM,CAACgT,aAAD,EAAgBC,YAAhB,IAAgCxa,WAAW,EAAjD;;AAEA,QAAMya,gBAAgB,GAAG,MAAM;AAC7BvS,IAAAA,KAAK,CAACzH,QAAN,CAAe0X,MAAkB,CAACvF,IAAnB,CAAwB3e,UAAU,CAACE,kBAAnC,CAAf;AACA,UAAMumB,WAAW,GAAGV,cAAc,CAAC9R,KAAK,CAACE,QAAN,EAAD,CAAlC;;AACA,QAAI,CAACsS,WAAD,IAAgBA,WAAW,KAAKL,OAAO,CAACva,OAA5C,EAAqD;AACnDoI,MAAAA,KAAK,CAACzH,QAAN,CACE0X,MAAkB,CAAC7D,IAAnB,CAAwBrgB,UAAU,CAACE,kBAAnC,EAAuD;AACrDgmB,QAAAA,MAAM,EAAEE,OAAO,CAACva,OADqC;AAErDoa,QAAAA,SAAS,EAAEzwB,IAAI,CAACC,GAAL,KAAaowB;AAF6B,OAAvD,CADF;AAMD,KAPD,MAOO;AACL5R,MAAAA,KAAK,CAACzH,QAAN,CAAejB,MAAM,CAAClX,KAAP,CAAa,KAAb,EAAoB;AAACyQ,QAAAA,IAAI,EAAE;AAAP,OAApB,CAAf;AACD;AACF,GAbD;;AAeA,QAAM4hB,QAAQ,GAAG,MAAM;AACrB,UAAMD,WAAW,GAAGV,cAAc,CAAC9R,KAAK,CAACE,QAAN,EAAD,CAAlC;AACA,QAAIsS,WAAW,KAAKL,OAAO,CAACva,OAA5B,EACEoI,KAAK,CAACzH,QAAN,CAAe0X,MAAkB,CAAC7D,IAAnB,CAAwBrgB,UAAU,CAACE,kBAAnC,EAAuD,EAAvD,CAAf;AACH,GAJD;;AAMA,QAAMymB,kBAAkB,GAAG,MAAM;AAC/BpZ,IAAAA,MAAM,CAACC,gBAAP,CAAwB,cAAxB,EAAwCkZ,QAAxC;AACAnZ,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCkZ,QAAlC;AACD,GAHD;;AAKA,QAAME,qBAAqB,GAAG,MAAM;AAClCrZ,IAAAA,MAAM,CAACE,mBAAP,CAA2B,cAA3B,EAA2CiZ,QAA3C;AACAnZ,IAAAA,MAAM,CAACE,mBAAP,CAA2B,QAA3B,EAAqCiZ,QAArC;AACD,GAHD;;AAKA/a,EAAAA,eAAS,CAAC,MAAM;AACdya,IAAAA,OAAO,CAACva,OAAR,GAAkBgb,MAAI,CAAClB,EAAL,EAAlB;;AACA,QAAI/c,OAAO,IAAIyd,WAAW,KAAK9mB,WAAW,CAACO,KAA3C,EAAkD;AAChD0mB,MAAAA,gBAAgB;AAChBF,MAAAA,aAAa,CAAC,MAAME,gBAAgB,EAAvB,EAA2BV,iBAA3B,CAAb;AACAa,MAAAA,kBAAkB;AAClB,aAAO,MAAM;AACXJ,QAAAA,YAAY;AACZK,QAAAA,qBAAqB;AACrBF,QAAAA,QAAQ;AACT,OAJD;AAKD;AACF,GAZQ,EAYN,CAAC9d,OAAD,EAAUyd,WAAW,KAAK9mB,WAAW,CAACO,KAAtC,CAZM,CAAT;AAaA,SAAO,IAAP;AACD,CArDD;;ACZA,MAAM4T,cAAY,GAAG,MAAM;AACzB,QAAMO,KAAK,GAAGpB,gBAAU,CAACQ,OAAO,CAACC,OAAT,CAAxB;AACA3H,EAAAA,eAAS,CAAC,MAAM;AACd,WAAOsI,KAAK,CAAC4P,qBAAN,CAA4B,CAAC5P,KAAD,EAAQ1gB,QAAR,KAAmB;AACpD,cAAQA,QAAM,CAAC6P,IAAf;AACE,aAAKghB,MAAU,CAACvG,aAAhB;AACE,iBAAO5J,KAAK,CAACzH,QAAN,CACL0X,MAAkB,CAAC7D,IAAnB,CAAwBrgB,UAAU,CAACC,MAAnC,EAA2C,EACzC,GAAGgU,KAAK,CAACE,QAAN,GAAiBR,MAAjB,CAAwBqB,MADc;AAEzCA,YAAAA,MAAM,EAAEzhB,QAAM,CAACyhB;AAF0B,WAA3C,CADK,CAAP;;AAMF,aAAKoP,MAAU,CAACpG,KAAhB;AACE,iBAAO/J,KAAK,CAACzH,QAAN,CACL0X,MAAkB,CAAC7D,IAAnB,CAAwBrgB,UAAU,CAACC,MAAnC,EAA2C,EACzC,GAAGgU,KAAK,CAACE,QAAN,GAAiBR,MAAjB,CAAwBqB,MADc;AAEzC+C,YAAAA,KAAK,EAAE;AAFkC,WAA3C,CADK,CAAP;;AAMF,aAAKqM,MAAU,CAAClG,OAAhB;AACE,iBAAOjK,KAAK,CAACzH,QAAN,CACL0X,MAAkB,CAAC7D,IAAnB,CAAwBrgB,UAAU,CAACC,MAAnC,EAA2C,EACzC,GAAGgU,KAAK,CAACE,QAAN,GAAiBR,MAAjB,CAAwBqB,MADc;AAEzC+C,YAAAA,KAAK,EAAE;AAFkC,WAA3C,CADK,CAAP;AAhBJ;AAuBD,KAxBM,CAAP;AAyBD,GA1BQ,EA0BN,EA1BM,CAAT;AA2BA,SAAO,IAAP;AACD,CA9BD;;ACJA,MAAM+O,QAAQ,GAAG5hB,IAAI,IAAI;AACvB,QAAM6hB,KAAK,GAAG7hB,IAAI,CAACvO,KAAL,CAAW,OAAX,EAAoBX,KAApB,CAA0B,CAA1B,CAAd;AAEA,SAAOof,OAAO,CAACC,OAAR,CACL0R,KAAK,CAAC9yB,GAAN,CAAU+yB,IAAI,IAAI;AAChB,UAAM,CAACzH,IAAD,EAAO0H,IAAP,IAAeD,IAAI,CAACrwB,KAAL,CAAW,IAAX,CAArB;AACA,UAAM,CAAC1B,SAAD,EAAYE,OAAZ,IAAuBoqB,IAAI,CAAC5oB,KAAL,CAAW,KAAX,EAAkB1C,GAAlB,CAAsBqC,gBAAtB,CAA7B;AAEA,WAAO;AAACrB,MAAAA,SAAD;AAAYE,MAAAA,OAAZ;AAAqB8xB,MAAAA;AAArB,KAAP;AACD,GALD,CADK,CAAP;AAQD,CAXD;;AAaA,MAAMC,WAAW,GAAG,CAAC/R,GAAD,EAAMgS,IAAN,KAAehS,GAAG,CAACrf,OAAJ,CAAY,UAAZ,EAAyB,IAAGqxB,IAAK,EAAjC,CAAnC;;AAEA,MAAMC,eAAe,GAAG,CAACliB,IAAD,EAAOiQ,GAAP,KACtB2R,QAAQ,CAAC5hB,IAAD,CAAR,CACG4R,IADH,CACQra,KAAK,IACTA,KAAK,CAACxI,GAAN,CAAUwK,IAAI,IAAI;AAChB,QAAM,CAAC4oB,SAAD,GAAchwB,CAAd,EAAiBiwB,CAAjB,EAAoB7vB,KAApB,EAA2BM,MAA3B,IAAqC0G,IAAI,CAACwoB,IAAL,CAAUtwB,KAAV,CAAgB,QAAhB,CAA3C;AAEA,SAAO;AACL1B,IAAAA,SAAS,EAAEwJ,IAAI,CAACxJ,SADX;AAELE,IAAAA,OAAO,EAAEsJ,IAAI,CAACtJ,OAFT;AAGLoyB,IAAAA,KAAK,EAAEL,WAAW,CAAC/R,GAAD,EAAMkS,SAAN,CAHb;AAILG,IAAAA,QAAQ,EAAE;AACRnwB,MAAAA,CAAC,EAAET,UAAU,CAACS,CAAD,CADL;AAERiwB,MAAAA,CAAC,EAAE1wB,UAAU,CAAC0wB,CAAD,CAFL;AAGR7vB,MAAAA,KAAK,EAAEb,UAAU,CAACa,KAAD,CAHT;AAIRM,MAAAA,MAAM,EAAEnB,UAAU,CAACmB,MAAD;AAJV;AAJL,GAAP;AAWD,CAdD,CAFJ,EAkBG+e,IAlBH,CAkBQra,KAAK,IACT2Y,OAAO,CAACpE,GAAR,CAAY,CACVvU,KADU,EAEV,GAAGrJ,MAAM,CAAC0Q,OAAP,CACDrH,KAAK,CAAChJ,MAAN,CACE,CAACC,GAAD,EAAM;AAAC6zB,EAAAA;AAAD,CAAN,MAAmB,EACjB,GAAG7zB,GADc;AAEjB;AACA;AACA,GAAC6zB,KAAD,GAAS7zB,GAAG,CAAC6zB,KAAD,CAAH,IAAcE,yBAAK,CAACC,GAAN,CAAUH,KAAV,EAAiB;AAACI,IAAAA,YAAY,EAAE;AAAf,GAAjB;AAJN,CAAnB,CADF,EAOE,EAPF,CADC,EAUD1zB,GAVC,CAUG,CAAC,CAACmsB,GAAD,EAAMwH,GAAN,CAAD,KACJA,GAAG,CAAC9Q,IAAJ,CAAS+Q,IAAI,IAAI,CAACzH,GAAD,EAAMjiB,GAAG,CAAC2pB,eAAJ,CAAoBD,IAAI,CAAC3iB,IAAzB,CAAN,CAAjB,CAXC,CAFO,CAAZ,CAnBJ,EAoCG4R,IApCH,CAoCQ,CAAC,CAACra,KAAD,EAAQ,GAAGsrB,QAAX,CAAD,KAA0B;AAC9B,QAAMC,eAAe,GAAGD,QAAQ,CAACt0B,MAAT,CACtB,CAACC,GAAD,EAAM,CAAC0sB,GAAD,EAAM6H,OAAN,CAAN,MAA0B,EACxB,GAAGv0B,GADqB;AAExB,KAAC0sB,GAAD,GAAO6H;AAFiB,GAA1B,CADsB,EAKtB,EALsB,CAAxB;AAOA,SAAOxrB,KAAK,CAACxI,GAAN,CAAUwK,IAAI,KAAK,EACxB,GAAGA,IADqB;AAExB8oB,IAAAA,KAAK,EAAES,eAAe,CAACvpB,IAAI,CAAC8oB,KAAN;AAFE,GAAL,CAAd,CAAP;AAID,CAhDH,CADF;;AChBA,SAASW,SAAT,CAAmB;AAAC3P,EAAAA,WAAD;AAAcC,EAAAA,QAAd;AAAwBC,EAAAA;AAAxB,CAAnB,EAA0D;AACxD,SAAO;AACL,qBAAiB,UADZ;AAEL3c,IAAAA,aAAa,EAAEyc,WAAW,IAAI,EAFzB;AAGL,mBAAeC,QAAQ,IAAI,EAHtB;AAIL,oBAAgB,kBAJX;AAKL,OAAGC;AALE,GAAP;AAOD;;AAED,MAAM0P,MAAM,GAAG,CAAClwB,QAAD,EAAWsnB,IAAX,KAAoB;AACjC,QAAMhT,KAAK,GAAGgT,IAAI,IAAI,IAAInK,OAAJ,CAAY1hB,GAAG,IAAIoY,UAAU,CAACpY,GAAD,EAAM6rB,IAAN,CAA7B,CAAtB;;AACA,QAAM6I,mBAAmB,GAAGC,SAAS,IAAIpwB,QAAQ,IAAI5D,KAAK,IACxDg0B,SAAS,CAACh0B,KAAD,CAAT,GAAmB4D,QAAQ,CAAC5D,KAAD,CAA3B,GAAqC+gB,OAAO,CAACgB,MAAR,CAAe/hB,KAAf,CADvC;;AAEA,QAAMi0B,kBAAkB,GAAGF,mBAAmB,CAC5C,CAAC;AAACnjB,IAAAA;AAAD,GAAD,KAAeA,OAAO,KAAK,eADiB,CAA9C;AAGA,SAAOhN,QAAQ,GACZojB,KADI,CACEiN,kBAAkB,CAAC,MAAM/b,KAAK,CAACgT,IAAD,CAAL,CAAYzI,IAAZ,CAAiB7e,QAAjB,CAAP,CADpB,EAEJojB,KAFI,CAEEiN,kBAAkB,CAAC,MAAM/b,KAAK,CAACgT,IAAD,CAAL,CAAYzI,IAAZ,CAAiB7e,QAAjB,CAAP,CAFpB,CAAP;AAGD,CAVD;;AAYA,gBAAe,CAAC;AAAC8C,EAAAA,IAAD;AAAOwd,EAAAA,WAAP;AAAoBC,EAAAA,QAApB;AAA8BC,EAAAA,YAA9B;AAA4CyC,EAAAA;AAA5C,CAAD,KAA8D;AAC3E,QAAM/f,OAAO,GAAG+sB,SAAS,CAAC;AAAC3P,IAAAA,WAAD;AAAcC,IAAAA,QAAd;AAAwBC,IAAAA;AAAxB,GAAD,CAAzB;;AACA,QAAMxB,OAAO,GAAG,CAACsR,MAAD,EAASpT,GAAT,EAAcqT,KAAK,GAAG,EAAtB,KACdL,MAAM,CACJ,MACEV,yBAAK,CAACtS,GAAD,EAAM;AAACoT,IAAAA,MAAD;AAASptB,IAAAA,OAAT;AAAkBstB,IAAAA,MAAM,EAAE,EAAC,GAAGvN,WAAJ;AAAiB,SAAGsN;AAApB;AAA1B,GAAN,CAAL,CAAkE1R,IAAlE,CACE,CAAC;AAAC5R,IAAAA;AAAD,GAAD,KAAYA,IADd,CAFE,EAKJ,IALI,CADR;;AAQA,QAAMwjB,WAAW,GAAG,CAACnf,EAAD,EAAKnG,IAAL,KACjB,GAAErI,IAAK,aAAYqI,IAAK,IAAGmG,EAAG,aAAYiP,QAAS,EADtD;;AAEA,SAAO;AACLrK,IAAAA,MAAM,EAAE,CAAC;AAAC5E,MAAAA,EAAD;AAAKif,MAAAA;AAAL,KAAD,KACNvR,OAAO,CAAC,KAAD,EAAS,GAAElc,IAAK,WAAUwO,EAAG,EAA7B,EAAgCif,KAAhC,CAAP,CAA8C1R,IAA9C,CAAmD5R,IAAI,KAAK;AAC1DqE,MAAAA,EAAE,EAAErE,IAAI,CAACqE,EADiD;AAE1D+F,MAAAA,KAAK,EAAEpK,IAAI,CAACoK,KAF8C;AAG1DiQ,MAAAA,IAAI,EAAE;AACJoJ,QAAAA,WAAW,EAAEzjB,IAAI,CAACqa,IAAL,CAAUqJ,aADnB;AAEJC,QAAAA,QAAQ,EAAE3jB,IAAI,CAACqa,IAAL,CAAUuJ;AAFhB,OAHoD;AAO1DC,MAAAA,SAAS,EAAE;AACTC,QAAAA,QAAQ,EAAE9jB,IAAI,CAAC+jB,UAAL,IAAmB,EAC3B,GAAG/jB,IAAI,CAAC+jB,UADmB;AAE3BC,UAAAA,MAAM,EAAE,CAAC;AAAC/T,YAAAA,GAAG,EAAEjQ,IAAI,CAAC+jB,UAAL,CAAgBE;AAAtB,WAAD;AAFmB,SADpB;AAKTnI,QAAAA,IAAI,EAAE9b,IAAI,CAACkkB,UAAL,IAAmB,EACvB,GAAGlkB,IAAI,CAACkkB,UADe;AAEvBF,UAAAA,MAAM,EAAE,CAAC;AAAC/T,YAAAA,GAAG,EAAEjQ,IAAI,CAACkkB,UAAL,CAAgBD;AAAtB,WAAD;AAFe;AALhB;AAP+C,KAAL,CAAvD,CAFG;AAoBL/a,IAAAA,KAAK,EAAE,CAAC;AAAC7E,MAAAA,EAAD;AAAKif,MAAAA;AAAL,KAAD,KAAiBvR,OAAO,CAAC,KAAD,EAAS,GAAElc,IAAK,UAASwO,EAAG,EAA5B,EAA+Bif,KAA/B,CApB1B;AAqBLa,IAAAA,aAAa,EAAE,CAAC;AAAC9f,MAAAA,EAAD;AAAKnG,MAAAA,IAAL;AAAWolB,MAAAA;AAAX,KAAD,KACbvR,OAAO,CAAC,MAAD,EAAU,GAAEyR,WAAW,CAACnf,EAAD,EAAKnG,IAAL,CAAW,QAAlC,EAA2ColB,KAA3C,CAtBJ;AAuBL9F,IAAAA,YAAY,EAAE,CAAC;AAACnZ,MAAAA,EAAD;AAAKnG,MAAAA,IAAL;AAAWolB,MAAAA,KAAX;AAAkB9sB,MAAAA;AAAlB,KAAD,KACZub,OAAO,CAAC,KAAD,EAAS,GAAEyR,WAAW,CAACnf,EAAD,EAAKnG,IAAL,CAAW,OAAjC,EAAyC,EAC9C,GAAGolB,KAD2C;AAE9Cc,MAAAA,cAAc,EAAE5tB;AAF8B,KAAzC,CAxBJ;AA4BL6tB,IAAAA,SAAS,EAAE,CAAC;AAAChgB,MAAAA,EAAD;AAAKnG,MAAAA,IAAL;AAAWolB,MAAAA,KAAX;AAAkB9sB,MAAAA;AAAlB,KAAD,KACTub,OAAO,CAAC,MAAD,EAAU,GAAEyR,WAAW,CAACnf,EAAD,EAAKnG,IAAL,CAAW,YAAlC,EAA+C,EACpD,GAAGolB,KADiD;AAEpDc,MAAAA,cAAc,EAAE5tB;AAFoC,KAA/C,CA7BJ;AAiCL8tB,IAAAA,WAAW,EAAE,CAAC;AAACjgB,MAAAA,EAAD;AAAKnG,MAAAA,IAAL;AAAWolB,MAAAA,KAAX;AAAkB9sB,MAAAA;AAAlB,KAAD,KACXub,OAAO,CAAC,MAAD,EAAU,GAAEyR,WAAW,CAACnf,EAAD,EAAKnG,IAAL,CAAW,MAAlC,EAAyC,EAC9C,GAAGolB,KAD2C;AAE9Cc,MAAAA,cAAc,EAAE5tB;AAF8B,KAAzC,CAlCJ;AAsCLqnB,IAAAA,oBAAoB,EAAE,CAAC;AAACxZ,MAAAA,EAAD;AAAKnG,MAAAA,IAAL;AAAWokB,MAAAA,QAAX;AAAqB9rB,MAAAA,KAArB;AAA4B8sB,MAAAA;AAA5B,KAAD,KACpBvR,OAAO,CACL,MADK,EAEJ,GAAEyR,WAAW,CAACnf,EAAD,EAAKnG,IAAL,CAAW,aAAY9N,IAAI,CAACC,KAAL,CAAWiyB,QAAX,CAAqB,EAFrD,EAGL,EAAC,GAAGgB,KAAJ;AAAWc,MAAAA,cAAc,EAAE5tB;AAA3B,KAHK,CAvCJ;AA4CL+tB,IAAAA,iBAAiB,EAAE,CAAC;AAAC/tB,MAAAA,KAAD;AAAQ8sB,MAAAA;AAAR,KAAD,KACjBvR,OAAO,CAAC,MAAD,EAAU,GAAElc,IAAK,oBAAmBW,KAAM,EAA1C,EAA6C8sB,KAA7C;AA7CJ,GAAP;AA+CD,CA3DD;;ACxBe,MAAMkB,OAAN,CAAc;AAC3BC,EAAAA,WAAW,CAACC,QAAD,EAAWrgB,EAAX,EAAenG,IAAf,EAAqBolB,KAArB,EAA4B;AACrC,SAAKoB,QAAL,GAAgBA,QAAhB;AACA,SAAKrgB,EAAL,GAAUA,EAAV;AACA,SAAKnG,IAAL,GAAYA,IAAZ;AACA,SAAKolB,KAAL,GAAaA,KAAb;AACA,SAAKqB,YAAL,GAAoB;AAClBtgB,MAAAA,EAAE,EAAE,KAAKA,EADS;AAElBnG,MAAAA,IAAI,EAAE,KAAKA,IAFO;AAGlBolB,MAAAA,KAAK,EAAE,EAAC,GAAG,KAAKA,KAAT;AAAgBplB,QAAAA,IAAI,EAAE,KAAKA;AAA3B;AAHW,KAApB;AAKA,SAAK0mB,aAAL,GAAqB,IAArB;AACA,SAAKC,aAAL,GAAqB,IAArB;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACD;;AAEDC,EAAAA,KAAK,GAAG;AACN,QAAI,KAAKF,aAAL,KAAuB,IAA3B,EAAiC;AAC/B,WAAKA,aAAL,GAAqB,KAAKH,QAAL,CAClBP,aADkB,CACJ,KAAKQ,YADD,EAElB/S,IAFkB,CAEboT,SAAS,IAAI;AACjB,aAAKJ,aAAL,GAAqBI,SAArB;AACA,aAAKH,aAAL,GAAqB,IAArB;AACA,eAAOG,SAAP;AACD,OANkB,CAArB;AAOD;;AAED,WAAO,KAAKH,aAAZ;AACD;;AAEDI,EAAAA,IAAI,GAAG;AACL,WACE,KAAKL,aAAL,IACA,KAAKF,QAAL,CAAclH,YAAd,CAA2B,EACzB,GAAG,KAAKmH,YADiB;AAEzBnuB,MAAAA,KAAK,EAAE,KAAKouB,aAAL,CAAmBpuB;AAFD,KAA3B,CAFF;AAOD;;AAED6tB,EAAAA,SAAS,GAAG;AACV,WACE,KAAKO,aAAL,IACA,KAAKF,QAAL,CAAcL,SAAd,CAAwB,EACtB,GAAG,KAAKM,YADc;AAEtBnuB,MAAAA,KAAK,EAAE,KAAKouB,aAAL,CAAmBpuB;AAFJ,KAAxB,CAFF;AAOD;;AAED2V,EAAAA,GAAG,GAAG;AACJ,UAAM3V,KAAK,GAAG,KAAKouB,aAAL,IAAsB,KAAKA,aAAL,CAAmBpuB,KAAvD;;AACA,QAAIA,KAAK,IAAI,CAAC,KAAKsuB,WAAL,CAAiBtuB,KAAjB,CAAd,EAAuC;AACrC,WAAKsuB,WAAL,CAAiBtuB,KAAjB,IAA0B,KAAKkuB,QAAL,CACvBJ,WADuB,CACX,EAAC,GAAG,KAAKK,YAAT;AAAuBnuB,QAAAA;AAAvB,OADW;AAAA,OAGvB2f,KAHuB,CAGjB,MAAM,EAHW,EAIvBvE,IAJuB,CAIlB,MAAM;AACV,aAAKkT,WAAL,CAAiBtuB,KAAjB,IAA0B,IAA1B;AACD,OANuB,CAA1B;;AAOA,UAAI,KAAKouB,aAAL,CAAmBpuB,KAAnB,KAA6BA,KAAjC,EAAwC;AACtC,aAAKouB,aAAL,GAAqB,IAArB;AACD;AACF;;AAED,WAAO,KAAKE,WAAL,CAAiBtuB,KAAjB,CAAP;AACD;;AAEY,QAAP0uB,OAAO,GAAG;AACd,UAAM,KAAK/Y,GAAL,EAAN;AACA,WAAO,KAAK4Y,KAAL,EAAP;AACD;;AAEDlH,EAAAA,oBAAoB,CAACxD,IAAD,EAAO;AACzB,WACE,KAAKuK,aAAL,IACA,KAAKF,QAAL,CAAc7G,oBAAd,CAAmC,EACjC,GAAG,KAAK8G,YADyB;AAEjCnuB,MAAAA,KAAK,EAAE,KAAKouB,aAAL,CAAmBpuB,KAFO;AAGjC8rB,MAAAA,QAAQ,EAAElyB,IAAI,CAACC,KAAL,CAAWgqB,IAAX;AAHuB,KAAnC,CAFF;AAQD;;AAlF0B;;ACgB7B,MAAM8K,kBAAkB,GAAG,KAA3B;;AAEA,MAAMvW,KAAG,GAAG,CAAC;AACX/Y,EAAAA,IADW;AAEXwd,EAAAA,WAFW;AAGXC,EAAAA,QAHW;AAIXlN,EAAAA,OAJW;AAKXmN,EAAAA,YALW;AAMXyC,EAAAA,WANW;AAOXoP,EAAAA,eAAe,EAAE;AAACC,IAAAA;AAAD;AAPN,CAAD,KAQN;AACJ,QAAMjc,OAAO,GAAG5C,YAAM,CAAC,IAAD,CAAtB;AACA,QAAM0I,oBAAoB,GAAGhB,uBAAuB,EAApD;AACA,QAAM,CAACnH,WAAD,EAAcD,aAAd,IAA+BD,WAAW,EAAhD;AACA,QAAMkI,KAAK,GAAGpB,gBAAU,CAACQ,OAAO,CAACC,OAAT,CAAxB;AACA,QAAMkX,aAAa,GACjBzvB,IAAI,IACJuQ,OADA,IAEAA,OAAO,CAAC3S,SAAR,KAAsB5B,SAFtB,IAGAuU,OAAO,CAACtR,WAAR,KAAwBjD,SAJ1B;AAKA4U,EAAAA,eAAS,CAAC,MAAM;AACd,QAAI6e,aAAJ,EAAmB;AACjBvW,MAAAA,KAAK,CAACzH,QAAN,CAAejB,SAAM,CAAC8W,MAAP,CAAc/W,OAAd,EAAuBmN,YAAvB,CAAf;AACD,KAFD,MAEO;AACLxE,MAAAA,KAAK,CAACzH,QAAN,CAAejB,SAAM,CAAC6W,OAAP,EAAf;AACD;;AAED,QAAI9T,OAAO,CAACzC,OAAZ,EAAqB;AACnBuI,MAAAA,oBAAoB,CAAC,eAAD,CAApB;AACA9F,MAAAA,OAAO,CAACzC,OAAR,CAAgBwF,GAAhB;AACD;;AACD/C,IAAAA,OAAO,CAACzC,OAAR,GAAkB,IAAlB;AACD,GAZQ,EAYN,CAAC9Q,IAAD,EAAOuQ,OAAO,CAAC3S,SAAf,EAA0B2S,OAAO,CAACtR,WAAlC,CAZM,CAAT;AAaA2R,EAAAA,eAAS,CAAC,MAAM;AACd,UAAM;AAAChT,MAAAA,SAAD;AAAYqB,MAAAA,WAAZ;AAAyB,SAAGwuB;AAA5B,QAAqCld,OAA3C;AACA,UAAMse,QAAQ,GAAGa,QAAQ,CAAC;AACxB1vB,MAAAA,IADwB;AAExBwd,MAAAA,WAFwB;AAGxBC,MAAAA,QAHwB;AAIxBC,MAAAA,YAJwB;AAKxByC,MAAAA;AALwB,KAAD,CAAzB;AAOA5M,IAAAA,OAAO,CAACzC,OAAR,GAAkB,IAAI6d,OAAJ,CAAYE,QAAZ,EAAsBjxB,SAAtB,EAAiCqB,WAAjC,EAA8CwuB,KAA9C,CAAlB;;AACA,UAAMkC,YAAY,GAAG,MACnBpoB,UAAQ,CAACE,KAAT,KAAmBxI,WAAnB,GACI4vB,QAAQ,CAACxb,KAAT,CAAe;AAAC7E,MAAAA,EAAE,EAAE5Q,SAAL;AAAgB6vB,MAAAA,KAAK,EAAE,EAAC,GAAGA,KAAJ;AAAWxuB,QAAAA;AAAX;AAAvB,KAAf,CADJ,GAEI4vB,QAAQ,CAACzb,MAAT,CAAgB;AAAC5E,MAAAA,EAAE,EAAE5Q,SAAL;AAAgB6vB,MAAAA,KAAK,EAAE,EAAC,GAAGA,KAAJ;AAAWxuB,QAAAA;AAAX;AAAvB,KAAhB,CAHN;;AAIA,UAAM2wB,iBAAiB,GAAG,YAAY;AACpC,YAAMr3B,KAAK,GAAG2gB,KAAK,CAACE,QAAN,EAAd;AACA,YAAMyW,gBAAgB,GAAG5N,cAAc,CAAC1pB,KAAD,EAAQi3B,oBAAR,CAAvC;AACA,YAAM,CAACT,aAAD,EAAgBe,WAAhB,IAA+B,MAAMzV,OAAO,CAACpE,GAAR,CAAY,CACrD1C,OAAO,CAACzC,OAAR,CAAgBoe,KAAhB,EADqD,EAErDS,YAAY,EAFyC,CAAZ,CAA3C;AAIA,YAAMhI,YAAY,GAAG,MAAMpU,OAAO,CAACzC,OAAR,CAAgBse,IAAhB,EAA3B;AACA,YAAM3J,MAAM,GACVkC,YAAY,CAACoI,OAAb,CAAqB/tB,IAArB,CAA0ByjB,MAAM,IAAIA,MAAM,CAACpd,IAAP,KAAgBwnB,gBAApD,KACAlI,YAAY,CAACoI,OAAb,CAAqB,CAArB,CAFF;AAIA,aAAO;AACLC,QAAAA,GAAG,EAAE;AACHC,UAAAA,aAAa,EAAE;AAAC7V,YAAAA,GAAG,EAAE2U,aAAa,CAACmB;AAApB,WADZ;AAEHC,UAAAA,cAAc,EAAE;AAAC/V,YAAAA,GAAG,EAAE2U,aAAa,CAACmB;AAApB,WAFb;AAGHE,UAAAA,aAAa,EAAE;AAAChW,YAAAA,GAAG,EAAE2U,aAAa,CAACmB;AAApB;AAHZ,SADA;AAMLG,QAAAA,iBAAiB,EAAE5K,MAAM,CAACpd,IANrB;AAOLshB,QAAAA,gBAAgB,EAAEhC,YAAY,CAACoI,OAAb,CAAqB72B,GAArB,CAAyBusB,MAAM,IAAIA,MAAM,CAACpd,IAA1C,CAPb;AAQLqhB,QAAAA,SAAS,EAAEjE,MAAM,CAACiE,SARb;AASLqF,QAAAA,aATK;AAULrR,QAAAA,YAVK;AAWL4S,QAAAA,oBAAoB,EAAE7K,MAAM,CAAC8K,qBAXxB;AAYL,WAAGT;AAZE,OAAP;AAcD,KA1BD;;AA2BA,UAAMjmB,cAAc,GAAGqP,KAAK,CAAC4P,qBAAN,CACrB,OAAO5P,KAAP,EAAc1gB,MAAd,KAAyB;AACvB,UAAIA,MAAM,IAAIi3B,aAAd,EAA6B;AAC3B,YAAI;AACF,kBAAQj3B,MAAM,CAAC6P,IAAf;AACE,iBAAKA,IAAI,CAAC6d,KAAV;AACA,iBAAK7d,IAAI,CAACnC,OAAV;AAAmB;AACjB+K,gBAAAA,aAAa;AACb;AACD;;AACD,iBAAK5I,IAAI,CAAC8d,eAAV;AAA2B;AACzB,sBAAMhc,IAAI,GAAG,MAAMwlB,YAAY,EAA/B;AACAzW,gBAAAA,KAAK,CAACzH,QAAN,CAAejB,SAAM,CAAC2X,UAAP,CAAkBhe,IAAlB,CAAf;AACA;AACD;;AACD,iBAAK9B,IAAI,CAAC+d,gBAAV;AAA4B;AAC1B,sBAAMjc,IAAI,GAAG,MAAMylB,iBAAiB,EAApC;AACA1W,gBAAAA,KAAK,CAACzH,QAAN,CAAejB,SAAM,CAACkX,WAAP,CAAmBvd,IAAnB,CAAf;AACA;AACD;;AACD,iBAAK9B,IAAI,CAACge,iBAAV;AAA6B;AAC3B,sBAAMmK,YAAY,GAAGr2B,wBAAI,CACvB+e,KAAK,CAACE,QAAN,EADuB,EAEvB,kCAFuB,CAAzB;;AAIA,oBAAIoX,YAAJ,EAAkB;AAChB,wBAAM9D,yBAAK,CACRC,GADG,CACC6D,YADD,EAEHzU,IAFG,CAEE0F,MAAM,IAAI4K,eAAe,CAAC5K,MAAM,CAACtX,IAAR,EAAcqmB,YAAd,CAF3B,EAGHzU,IAHG,CAGE8L,UAAU,IACd3O,KAAK,CAACzH,QAAN,CAAejB,SAAM,CAACoX,aAAP,CAAqBC,UAArB,CAAf,CAJE,EAMHvH,KANG,CAMG,MAAM,EANT,CAAN;AAOD;;AACDpH,gBAAAA,KAAK,CAACzH,QAAN,CAAejB,SAAM,CAACyT,KAAP,EAAf;AACA;AACD;;AACD,iBAAK5b,IAAI,CAACvD,KAAV;AAAiB;AACf,oBACE0Y,WAAW,IACXrjB,wBAAI,CAAC+e,KAAK,CAACE,QAAN,EAAD,EAAmB,wBAAnB,EAA6C,KAA7C,CAFN,EAGE;AACAnI,kBAAAA,aAAa;AACbC,kBAAAA,WAAW,CAAC,MAAM;AAChB,wBAAIqC,OAAO,CAACzC,OAAR,CAAgB2f,mBAApB,EAAyC;AACvC;AACD;;AACDld,oBAAAA,OAAO,CAACzC,OAAR,CAAgB2f,mBAAhB,GAAsC,IAAtC;AACAld,oBAAAA,OAAO,CAACzC,OAAR,CACG0d,SADH,GAEGlO,KAFH,CAES,MAAMhnB,KAAN,IAAe;AACpB,0BAAI,CAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE8Q,QAAP,CAAgBE,MAAhB,MAA2B,GAA/B,EAAoC;AAClC,8BAAMyd,WAAW,GAAG,MAAMxU,OAAO,CAACzC,OAAR,CAAgBoe,KAAhB,EAA1B;AACAhW,wBAAAA,KAAK,CAACzH,QAAN,CACEjB,SAAM,CAACsX,oBAAP,CAA4BC,WAA5B,CADF;AAGD,uBALD,MAKO;AACL9W,wBAAAA,aAAa;AACbiI,wBAAAA,KAAK,CAACzH,QAAN,CAAejB,SAAM,CAAClX,KAAP,CAAaA,KAAb,CAAf;AACD;AACF,qBAZH,EAaGyiB,IAbH,CAaQ,MAAM;AACVxI,sBAAAA,OAAO,CAACzC,OAAR,CAAgB2f,mBAAhB,GAAsC,KAAtC;AACD,qBAfH;AAgBD,mBArBU,EAqBRnB,kBArBQ,CAAX;AAsBD;;AACD;AACD;;AACD,iBAAKjnB,IAAI,CAACoe,uBAAV;AAAmC;AACjC;AACAlT,gBAAAA,OAAO,CAACzC,OAAR,CAAgBkX,oBAAhB,CAAqCxvB,MAAM,CAACgsB,IAA5C;AACA;AACD;;AACD,iBAAKnc,IAAI,CAACqe,iBAAV;AAA6B;AAC3BzV,gBAAAA,aAAa;AACb,sBAAMsC,OAAO,CAACzC,OAAR,CAAgBkX,oBAAhB,CAAqC,CAArC,CAAN;AACA3O,gBAAAA,oBAAoB,CAAC,eAAD,CAApB;AACA,sBAAM9F,OAAO,CAACzC,OAAR,CAAgBwF,GAAhB,EAAN;AACA;AACD;;AACD,iBAAKjO,IAAI,CAACse,eAAV;AAA2B;AACzB,sBAAM+J,UAAU,GAAG,MAAMf,YAAY,EAArC;;AACA,sBAAMgB,YAAY,GAAGx2B,wBAAI,CACvB+e,KAAK,CAACE,QAAN,EADuB,EAEvB,wBAFuB,CAAzB;;AAIA,sBAAMwX,YAAY,GAAGF,UAAU,CAAChc,UAAhC;;AACA,oBACEic,YAAY,KAAK30B,SAAjB,IACA20B,YAAY,KAAKC,YAFnB,EAGE;AACA1X,kBAAAA,KAAK,CAACzH,QAAN,CAAejB,SAAM,CAACgY,UAAP,EAAf;AACAtP,kBAAAA,KAAK,CAACzH,QAAN,CAAejB,SAAM,CAAC2X,UAAP,CAAkBuI,UAAlB,CAAf;AACArX,kBAAAA,oBAAoB,CAAC,eAAD,CAApB;AACAH,kBAAAA,KAAK,CAACzH,QAAN,CACEjB,SAAM,CAACiY,aAAP,CAAqBkI,YAArB,EAAmCC,YAAnC,CADF;AAGD,iBAVD,MAUO;AACL1X,kBAAAA,KAAK,CAACzH,QAAN,CAAejB,SAAM,CAAC2X,UAAP,CAAkBuI,UAAlB,CAAf;AACD;;AAED,oBAAIv2B,wBAAI,CAAC+e,KAAK,CAACE,QAAN,EAAD,EAAmB,iBAAnB,CAAR,EAA+C;AAC7CF,kBAAAA,KAAK,CAACzH,QAAN,CAAejB,SAAM,CAACkY,WAAP,EAAf;AACD;;AACD;AACD;AArGH;AAuGD,SAxGD,CAwGE,OAAOpvB,KAAP,EAAc;AACd4f,UAAAA,KAAK,CAACzH,QAAN,CAAejB,SAAM,CAAClX,KAAP,CAAaA,KAAb,CAAf;AACD;AACF;AACF,KA/GoB,CAAvB;AAiHA,WAAO,MAAM;AACX,UAAIia,OAAO,CAACzC,OAAR,IAAmByC,OAAO,CAACzC,OAAR,CAAgBie,aAAvC,EAAsD;AACpD1V,QAAAA,oBAAoB,CAAC,eAAD,CAApB;AACA9F,QAAAA,OAAO,CAACzC,OAAR,CAAgBwF,GAAhB;AACD;;AACDzM,MAAAA,cAAc;AACdoH,MAAAA,aAAa;AACd,KAPD;AAQD,GAlKQ,EAkKN,CAACjR,IAAD,EAAOwd,WAAP,EAAoBjN,OAAO,CAAC3S,SAA5B,EAAuC2S,OAAO,CAACtR,WAA/C,CAlKM,CAAT;AAmKA,SAAO,IAAP;AACD,CAnMD;;AAqMA8Z,KAAG,CAACrB,SAAJ,GAAgB;AACd1X,EAAAA,IAAI,EAAE2H,SAAS,CAACG,MADF;AAEd0V,EAAAA,WAAW,EAAE7V,SAAS,CAACG,MAFT;AAGd2V,EAAAA,QAAQ,EAAE9V,SAAS,CAACG,MAHN;AAIdyI,EAAAA,OAAO,EAAEmR,KAAK,CAAChZ,SAJD;AAKdgV,EAAAA,YAAY,EAAE/V,SAAS,CAAC3O,MALV;AAMdmnB,EAAAA,WAAW,EAAExY,SAAS,CAAC3O,MANT;AAOdu2B,EAAAA,eAAe,EAAE5nB,SAAS,CAACQ,KAAV,CAAgB;AAC/BqnB,IAAAA,oBAAoB,EAAE7nB,SAAS,CAACG;AADD,GAAhB;AAPH,CAAhB;AAYAiR,KAAG,CAAC2R,YAAJ,GAAmB;AACjB1qB,EAAAA,IAAI,EAAE,IADW;AAEjBwd,EAAAA,WAAW,EAAE,IAFI;AAGjBC,EAAAA,QAAQ,EAAE,IAHO;AAIjBlN,EAAAA,OAAO,EAAE,EAJQ;AAKjBmN,EAAAA,YAAY,EAAE,EALG;AAMjByC,EAAAA,WAAW,EAAE,EANI;AAOjBoP,EAAAA,eAAe,EAAE;AACfC,IAAAA,oBAAoB,EAAE;AADP;AAPA,CAAnB;;ACzNA,MAAMqB,KAAK,GAAG,CAAC;AACbtgB,EAAAA,OAAO,GAAG,EADG;AAEbugB,EAAAA,MAFa;AAGbC,EAAAA,QAHa;AAIblT,EAAAA,OAJa;AAKbmT,EAAAA,oBALa;AAMbC,EAAAA,aANa;AAObC,EAAAA,mBAPa;AAQbC,EAAAA,uBARa;AASbC,EAAAA;AATa,CAAD,KAUR;AACJ,QAAMlY,KAAK,GAAGpB,gBAAU,CAACQ,OAAO,CAACC,OAAT,CAAxB;AACA,QAAMc,oBAAoB,GAAGhB,uBAAuB,EAApD;AAEAzH,EAAAA,eAAS,CAAC,MAAM;AACd,QAAIL,OAAO,CAAC3S,SAAR,IAAqB2S,OAAO,CAACtR,WAAjC,EAA8C;AAC5Cia,MAAAA,KAAK,CAACzH,QAAN,CAAe+X,SAAS,CAACrC,aAAV,EAAf;AACD;AACF,GAJQ,EAIN,CAAC5W,OAAO,CAAC3S,SAAT,EAAoB2S,OAAO,CAACtR,WAA5B,CAJM,CAAT;AAMA2R,EAAAA,eAAS,CACP,MACEsI,KAAK,CAAC4P,qBAAN,CAA4B,CAAC5P,KAAD,EAAQ1gB,MAAR,KAAmB;AAC7C,UAAMD,KAAK,GAAG2gB,KAAK,CAACE,QAAN,EAAd;;AACA,YAAQ5gB,MAAM,CAAC6P,IAAf;AACE,WAAKA,MAAI,CAACqC,IAAV;AACE,eAAOomB,MAAM,CAAC32B,wBAAI,CAAC5B,KAAD,EAAQ,uBAAR,CAAL,CAAb;;AACF,WAAK8P,MAAI,CAACuC,MAAV;AACE,eAAOmmB,QAAQ,EAAf;;AACF,WAAK1oB,MAAI,CAACtD,KAAV;AACEsU,QAAAA,oBAAoB,CAAC,OAAD,EAAU7gB,MAAM,CAACc,KAAjB,CAApB;AACA,eAAOukB,OAAO,CAAC,EAAC,GAAGrlB,MAAJ;AAAY+X,UAAAA,OAAO,EAAEpW,wBAAI,CAAC5B,KAAD,EAAQ,aAAR;AAAzB,SAAD,CAAd;;AACF,WAAK84B,MAAM,CAAC3lB,mBAAZ;AACE,eAAOslB,oBAAoB,CAACx4B,MAAM,CAACkV,WAAR,CAA3B;;AACF,WAAK2jB,MAAM,CAAC/lB,mBAAZ;AACE2lB,QAAAA,aAAa,CAACz4B,MAAD,CAAb;AACA04B,QAAAA,mBAAmB,CAAC14B,MAAD,CAAnB;AACA;;AACF,WAAK64B,MAAM,CAAC9lB,uBAAZ;AACE0lB,QAAAA,aAAa,CAACz4B,MAAD,CAAb;AACA24B,QAAAA,uBAAuB,CAAC34B,MAAD,CAAvB;AACA;;AACF,WAAKixB,IAAO,CAACzC,cAAb;AACEoK,QAAAA,eAAe,CAAC54B,MAAD,CAAf;AACA;AApBJ;AAsBD,GAxBD,CAFK,EA2BP,EA3BO,CAAT;AA6BA,SAAO,IAAP;AACD,CAlDD;;AAoDAq4B,KAAK,CAACnZ,SAAN,GAAkB;AAChBoZ,EAAAA,MAAM,EAAEnpB,SAAS,CAACpO,IADF;AAEhBw3B,EAAAA,QAAQ,EAAEppB,SAAS,CAACpO,IAFJ;AAGhBskB,EAAAA,OAAO,EAAElW,SAAS,CAACpO,IAHH;AAIhB03B,EAAAA,aAAa,EAAEtpB,SAAS,CAACpO,IAJT;AAKhB23B,EAAAA,mBAAmB,EAAEvpB,SAAS,CAACpO,IALf;AAMhB43B,EAAAA,uBAAuB,EAAExpB,SAAS,CAACpO,IANnB;AAOhB63B,EAAAA,eAAe,EAAEzpB,SAAS,CAACpO;AAPX,CAAlB;AASAs3B,KAAK,CAACnG,YAAN,GAAqB;AACnBoG,EAAAA,MAAM,EAAE,MAAM,EADK;AAEnBC,EAAAA,QAAQ,EAAE,MAAM,EAFG;AAGnBlT,EAAAA,OAAO,EAAE,MAAM,EAHI;AAInBmT,EAAAA,oBAAoB,EAAE,MAAM,EAJT;AAKnBC,EAAAA,aAAa,EAAE,MAAM,EALF;AAMnBC,EAAAA,mBAAmB,EAAE,MAAM,EANR;AAOnBC,EAAAA,uBAAuB,EAAE,MAAM,EAPZ;AAQnBC,EAAAA,eAAe,EAAE,MAAM;AARJ,CAArB;;AC5DA,MAAME,KAAK,GAAG,CAAC;AAACC,EAAAA,OAAD;AAAUC,EAAAA,OAAO,GAAG,MAApB;AAA4BC,EAAAA;AAA5B,CAAD,KAA4C;AACxD,QAAMvY,KAAK,GAAGpB,gBAAU,CAACQ,OAAO,CAACC,OAAT,CAAxB;AACA3H,EAAAA,eAAS,CAAC,MAAM;AACdsI,IAAAA,KAAK,CAACzH,QAAN,CAAeyX,QAAQ,CAACre,UAAxB;AACD,GAFQ,EAEN,EAFM,CAAT;AAIA6mB,EAAAA,yBAAmB,CAACD,SAAD,EAAY,OAAO;AACpC7N,IAAAA,IAAI,EAAE,MAAM1K,KAAK,CAACzH,QAAN,CAAeyX,QAAQ,CAACne,WAAxB;AADwB,GAAP,CAAZ,CAAnB;AAIA6F,EAAAA,eAAS,CAAC,MAAM;AACd,QAAI2gB,OAAO,KAAKnrB,cAAY,CAACC,IAA7B,EACE,OAAO6S,KAAK,CAAC4P,qBAAN,CAA4B,CAAC5P,KAAD,EAAQ1gB,MAAR,KAAmB;AACpD,cAAQA,MAAM,CAAC6P,IAAf;AACE,aAAKA,MAAI,CAACtD,KAAV;AACEmU,UAAAA,KAAK,CAACzH,QAAN,CAAeyX,QAAQ,CAAC5vB,KAAxB;AACA;;AACF,aAAK+O,MAAI,CAAC1D,WAAV;AACE,cAAI6sB,OAAO,KAAK,MAAhB,EAAwB;AACtBtY,YAAAA,KAAK,CAACzH,QAAN,CAAeyX,QAAQ,CAACne,WAAxB;AACD;;AACD;;AACF,aAAK0e,IAAO,CAACvD,KAAb;AACEhN,UAAAA,KAAK,CAACzH,QAAN,CAAemY,QAAQ,CAAC/Z,YAAT,EAAf;AACA;;AACF,aAAK4Z,IAAO,CAACtjB,MAAb;AACE+S,UAAAA,KAAK,CAACzH,QAAN,CAAemY,QAAQ,CAAC/Z,YAAT,EAAf;AACAqJ,UAAAA,KAAK,CAACzH,QAAN,CAAeyX,QAAQ,CAACe,KAAxB;AACA;;AACF,aAAKoH,MAAM,CAAC/lB,mBAAZ;AACA,aAAK+lB,MAAM,CAAC9lB,uBAAZ;AACE2N,UAAAA,KAAK,CAACzH,QAAN,CAAemY,QAAQ,CAACja,WAAT,CAAqB,IAArB,CAAf;AACA;;AACF,aAAKtH,MAAI,CAACoC,aAAV;AACE,cAAIyO,KAAK,CAACE,QAAN,GAAiBJ,EAAjB,CAAoB2Y,YAAxB,EAAsC;AACpCzY,YAAAA,KAAK,CAACzH,QAAN,CAAemY,QAAQ,CAACja,WAAT,CAAqB,KAArB,CAAf;AACAuJ,YAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAC3I,IAAb,EAAf;AACD;;AAxBL;AA0BD,KA3BM,CAAP;AA4BH,GA9BQ,EA8BN,EA9BM,CAAT;AA+BA,SAAO,IAAP;AACD,CA1CD;;AA4CA6Q,KAAK,CAAC5Z,SAAN,GAAkB;AAChB6Z,EAAAA,OAAO,EAAE7P,KAAK,CAACtb;AADC,CAAlB;AAIAkrB,KAAK,CAAC5G,YAAN,GAAqB;AACnB6G,EAAAA,OAAO,EAAEnrB,cAAY,CAACC;AADH,CAArB;;AC3DA;AAIA,MAAMurB,MAAM,GAAG,IAAIC,4BAAJ,EAAf;AAEO,SAASC,KAAT,GAAiB;AACtB,SAAOF,MAAM,CAACE,KAAP,EAAP;AACD;AAEM,SAASC,SAAT,GAAqB;AAC1B,QAAM3pB,MAAM,GAAGwpB,MAAM,CAACG,SAAP,EAAf;AACA,QAAMC,MAAM,GAAGF,KAAK,GAAGl5B,IAAvB;AACA,MAAIwP,MAAM,CAACC,IAAP,KAAgBrM,SAAhB,IAA6Bg2B,MAAM,KAAK,SAA5C,EAAuD5pB,MAAM,CAACC,IAAP,GAAc,QAAd;AACvD,SAAOD,MAAP;AACD;AAEM,SAAS6pB,UAAT,GAAsB;AAC3B,SAAOL,MAAM,CAACK,UAAP,EAAP;AACD;;AAED,MAAMC,SAAS,GAAG,MAAM,CAACH,SAAS,GAAG1pB,IAArC;;AAEO,SAAS8pB,cAAT,CAAwBtH,EAAxB,EAA4BuH,EAA5B,EAAgC;AACrC,MAAI,CAAC,cAAcnoB,IAAd,CAAmB4gB,EAAnB,CAAL,EAA6B,MAAMf,KAAK,CAAE,sBAAqBe,EAAG,WAA1B,CAAX;AAC7B,MAAI,CAAC,cAAc5gB,IAAd,CAAmBmoB,EAAnB,CAAL,EAA6B,MAAMtI,KAAK,CAAE,sBAAqBsI,EAAG,WAA1B,CAAX;AAE7B,QAAMC,OAAO,GAAGxH,EAAE,CAACjvB,KAAH,CAAS,GAAT,EAAc1C,GAAd,CAAkByK,CAAC,IAAI2uB,MAAM,CAAC3uB,CAAD,CAA7B,CAAhB;AACA,QAAM4uB,OAAO,GAAGH,EAAE,CAACx2B,KAAH,CAAS,GAAT,EAAc1C,GAAd,CAAkByK,CAAC,IAAI2uB,MAAM,CAAC3uB,CAAD,CAA7B,CAAhB;;AACA,OAAK,IAAI6uB,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGl4B,IAAI,CAACR,GAAL,CAASs4B,OAAO,CAAC7uB,MAAjB,EAAyB+uB,OAAO,CAAC/uB,MAAjC,CAApB,EAA8DgvB,CAAC,GAAGC,CAAlE,EAAqED,CAAC,EAAtE,EAA0E;AACxE,QAAIH,OAAO,CAACG,CAAD,CAAP,KAAeD,OAAO,CAACC,CAAD,CAA1B,EAA+B;AAC7B,aAAO,CAACH,OAAO,CAACG,CAAD,CAAP,IAAc,CAAf,KAAqBD,OAAO,CAACC,CAAD,CAAP,IAAc,CAAnC,CAAP;AACD;AACF;;AAED,SAAO,CAAP;AACD;AAEM,MAAME,gBAAgB,GAAGC,sBAAsB,IAAI;AACxD,MAAI,CAACA,sBAAL,EAA6B;AAC3B,WAAO,IAAP;AACD;;AACD,QAAMvqB,MAAM,GAAG2pB,SAAS,EAAxB;AACA,QAAMzpB,EAAE,GAAGwpB,KAAK,EAAhB;AACA,QAAMtpB,OAAO,GAAGypB,UAAU,EAA1B;;AACA,QAAMW,QAAQ,GAAGC,IAAI,IAAIjwB,KAAK,CAACC,IAAN,CAAW,IAAIiG,GAAJ,CAAQ+pB,IAAR,CAAX,CAAzB;;AACA,QAAMC,UAAU,GAAG,CACjB;AACEtwB,IAAAA,MAAM,EAAE,CAAC;AAAC4F,MAAAA,MAAM,EAAE;AAACxP,QAAAA,IAAD;AAAOyP,QAAAA;AAAP;AAAT,KAAD,KACNzP,IAAI,KAAK,GAAT,IACCyP,IAAI,KAAK,SAAT,IAAsBD,MAAM,CAACC,IAAP,KAAgBrM,SADvC,IAEAqM,IAAI,KAAKD,MAAM,CAACC,IAJpB;AAKE0qB,IAAAA,SAAS,EAAEtsB,oBAAoB,CAACC,kBALlC;AAMEssB,IAAAA,aAAa,EAAEH,IAAI,KAAK;AACtBI,MAAAA,YAAY,EAAEL,QAAQ,CAACC,IAAI,CAAC35B,GAAL,CAASg6B,GAAG,IAAIA,GAAG,CAAC9qB,MAAJ,CAAWC,IAA3B,CAAD;AADA,KAAL;AANrB,GADiB,EAWjB;AACE7F,IAAAA,MAAM,EAAE,CAAC;AAAC8F,MAAAA,EAAE,EAAE;AAAC1P,QAAAA;AAAD;AAAL,KAAD,KAAkBA,IAAI,KAAK,GAAT,IAAgBA,IAAI,KAAK0P,EAAE,CAAC1P,IADxD;AAEEm6B,IAAAA,SAAS,EAAEtsB,oBAAoB,CAACE,cAFlC;AAGEqsB,IAAAA,aAAa,EAAEH,IAAI,KAAK;AACtBM,MAAAA,QAAQ,EAAEP,QAAQ,CAACC,IAAI,CAAC35B,GAAL,CAASg6B,GAAG,IAAIA,GAAG,CAAC5qB,EAAJ,CAAO1P,IAAvB,CAAD;AADI,KAAL;AAHrB,GAXiB,EAkBjB;AACE4J,IAAAA,MAAM,EAAE,CAAC;AAAC8F,MAAAA,EAAE,EAAE;AAACC,QAAAA;AAAD;AAAL,KAAD,KACNA,OAAO,KAAK,GAAZ,IAAmB4pB,cAAc,CAAC7pB,EAAE,CAACC,OAAJ,EAAaA,OAAb,CAAd,IAAuC,CAF9D;AAGEwqB,IAAAA,SAAS,EAAEtsB,oBAAoB,CAACG,sBAHlC;AAIEosB,IAAAA,aAAa,EAAEH,IAAI,KAAK;AACtBO,MAAAA,UAAU,EAAEP,IAAI,CAAC,CAAD,CAAJ,CAAQvqB,EAAR,CAAWC;AADD,KAAL;AAJrB,GAlBiB,EA0BjB;AACE/F,IAAAA,MAAM,EAAE,CAAC;AAACgG,MAAAA,OAAO,EAAE;AAAC5P,QAAAA;AAAD;AAAV,KAAD,KAAuBA,IAAI,KAAK4P,OAAO,CAAC5P,IADlD;AAEEm6B,IAAAA,SAAS,EAAEtsB,oBAAoB,CAACI,mBAFlC;AAGEmsB,IAAAA,aAAa,EAAEH,IAAI,KAAK;AACtBQ,MAAAA,aAAa,EAAET,QAAQ,CAACC,IAAI,CAAC35B,GAAL,CAASg6B,GAAG,IAAIA,GAAG,CAAC1qB,OAAJ,CAAY5P,IAA5B,CAAD;AADD,KAAL;AAHrB,GA1BiB,EAiCjB;AACE4J,IAAAA,MAAM,EAAE,CAAC;AAACgG,MAAAA,OAAO,EAAE;AAACD,QAAAA;AAAD;AAAV,KAAD,KACN4pB,cAAc,CAAC3pB,OAAO,CAACD,OAAT,EAAkBA,OAAlB,CAAd,IAA4C,CAFhD;AAGEwqB,IAAAA,SAAS,EAAEtsB,oBAAoB,CAACK,2BAHlC;AAIEksB,IAAAA,aAAa,EAAEH,IAAI,KAAK;AACtBO,MAAAA,UAAU,EAAEP,IAAI,CAAC,CAAD,CAAJ,CAAQrqB,OAAR,CAAgBD;AADN,KAAL;AAJrB,GAjCiB,CAAnB;AA0CA,MAAI+qB,MAAM,GAAGX,sBAAb;;AACA,OAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGM,UAAU,CAACtvB,MAA/B,EAAuCgvB,CAAC,EAAxC,EAA4C;AAC1C,UAAMe,SAAS,GAAGT,UAAU,CAACN,CAAD,CAA5B;AACA,UAAMgB,SAAS,GAAGF,MAAM,CAAC9wB,MAAP,CAAc+wB,SAAS,CAAC/wB,MAAxB,CAAlB;;AACA,QAAIgxB,SAAS,CAAChwB,MAAV,KAAqB,CAAzB,EAA4B;AAC1B;AACA,YAAM;AACJ5K,QAAAA,IAAI,EAAE26B,SAAS,CAACR,SADZ;AAEJ,WAAGQ,SAAS,CAACP,aAAV,CAAwBM,MAAxB;AAFC,OAAN;AAID;;AACDA,IAAAA,MAAM,GAAGE,SAAT;AACD;;AAED,SAAO,IAAP;AACD,CAjEM;;AAoEP,MAAMC,gBAAgB,GACpB,oFADF;;AC1GA;;AASA,MAAMC,oBAAoB,GAAG,CAAC;AAACf,EAAAA;AAAD,CAAD,KAA8B;AACzD,QAAM;AACJp6B,IAAAA,KAAK,EAAE;AAACA,MAAAA,KAAK,EAAE+yB;AAAR,KADH;AAEJ7Z,IAAAA;AAFI,MAGFqG,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAHd;AAIA9H,EAAAA,eAAS,CAAC,MAAM;AACd,QAAI0a,WAAW,KAAK9mB,WAAW,CAACO,KAAhC,EAAuC;AACrC,UAAI;AACF2tB,QAAAA,gBAAgB,CAACC,sBAAD,CAAhB;AACD,OAFD,CAEE,OAAOr5B,KAAP,EAAc;AACdmY,QAAAA,QAAQ,CAACjB,QAAM,CAAClX,KAAP,CAAaA,KAAb,CAAD,CAAR;AACD;AACF;AACF,GARQ,EAQN,CAACgyB,WAAW,KAAK9mB,WAAW,CAACO,KAA7B,CARM,CAAT;AASA,SAAO,IAAP;AACD,CAfD;;AAiBA2uB,oBAAoB,CAAChc,SAArB,GAAiC;AAC/Bib,EAAAA,sBAAsB,EAAEhrB,SAAS,CAACgsB,OAAV,CAAkBjS,KAAK,CAACxZ,sBAAxB;AADO,CAAjC;;AC1BA;;AASA,MAAM0rB,kBAAkB,GAAG,CAAC;AAC1BC,EAAAA,YAD0B;AAE1BC,EAAAA,gBAF0B;AAG1BC,EAAAA,iBAH0B;AAI1BC,EAAAA;AAJ0B,CAAD,KAKrB;AACJ,QAAM9a,KAAK,GAAGpB,gBAAU,CAACQ,OAAO,CAACC,OAAT,CAAxB;AACA,QAAM;AAAChgB,IAAAA,KAAK,EAAEuhB,WAAR;AAAqBrI,IAAAA;AAArB,MAAiCqG,gBAAU,CAACQ,OAAO,CAAClT,WAAT,CAAjD;AACAwL,EAAAA,eAAS,CAAC,MAAM;AACd,QAAIkJ,WAAW,IAAI1U,aAAW,CAACI,MAA/B,EAAuC;AACrC,YAAMyuB,QAAQ,GAAGJ,YAAY,CAAC/iB,OAAb,CAAqBojB,aAArB,CAAmC,OAAnC,CAAjB;;AACA,YAAMC,WAAW,GAAG,CAAC;AAACh4B,QAAAA,MAAM,EAAE;AAACi4B,UAAAA;AAAD;AAAT,OAAD,KAAwC;AAC1D3iB,QAAAA,QAAQ,CAAC2X,YAAY,CAACrE,cAAb,CAA4BqP,sBAA5B,CAAD,CAAR;AACAN,QAAAA,gBAAgB,CAAC;AAACvmB,UAAAA,EAAE,EAAE6mB;AAAL,SAAD,CAAhB;AACA,YAAIA,sBAAsB,KAAKvuB,cAAc,CAACC,UAA9C,EACEiuB,iBAAiB,GADnB,KAEKC,gBAAgB;AACtB,OAND;;AAOAC,MAAAA,QAAQ,CAACxhB,gBAAT,CAA0B,+BAA1B,EAA2D0hB,WAA3D;AACA,aAAO,MACLF,QAAQ,CAACvhB,mBAAT,CACE,+BADF,EAEEyhB,WAFF,CADF;AAKD;AACF,GAjBQ,EAiBN,CAACra,WAAW,IAAI1U,aAAW,CAACI,MAA5B,CAjBM,CAAT;AAkBAoL,EAAAA,eAAS,CACP,MACEsI,KAAK,CAAC4P,qBAAN,CAA4B,CAAC5P,KAAD,EAAQ1gB,MAAR,KAAmB;AAC7C,YAAQA,MAAM,CAAC6P,IAAf;AACE,WAAKghB,MAAU,CAAChG,iBAAhB;AACE,YACEnK,KAAK,CAACE,QAAN,GAAiBR,MAAjB,CAAwBmB,QAAxB,KAAqClU,cAAc,CAACC,UADtD,EAEE;AACA+tB,UAAAA,YAAY,CAAC/iB,OAAb,CAAqBojB,aAArB,CAAmC,OAAnC,EAA4CG,oBAA5C;AACD;;AACD;AAPJ;AASD,GAVD,CAFK,EAaP,EAbO,CAAT;AAeAzjB,EAAAA,eAAS,CAAC,MAAM;AACd,UAAM0jB,eAAe,GAAGr3B,QAAQ,CAAC,MAAM,EAAP,EAAW,GAAX,CAAhC;AACA42B,IAAAA,YAAY,CAAC/iB,OAAb,CAAqB2B,gBAArB,CAAsC,UAAtC,EAAkD6hB,eAAlD;AACA,WAAO,MACLT,YAAY,CAAC/iB,OAAb,IACA+iB,YAAY,CAAC/iB,OAAb,CAAqB4B,mBAArB,CAAyC,UAAzC,EAAqD4hB,eAArD,CAFF;AAGD,GANQ,EAMN,EANM,CAAT;AAOA,SAAO,IAAP;AACD,CAjDD;;AAkDAV,kBAAkB,CAAClc,SAAnB,GAA+B;AAC7Bmc,EAAAA,YAAY,EAAElsB,SAAS,CAAC4sB,OAAV,CAAkBC,UADH;AAE7BV,EAAAA,gBAAgB,EAAEnsB,SAAS,CAACpO,IAFC;AAG7Bw6B,EAAAA,iBAAiB,EAAEpsB,SAAS,CAACpO,IAHA;AAI7By6B,EAAAA,gBAAgB,EAAErsB,SAAS,CAACpO;AAJC,CAA/B;AAMAq6B,kBAAkB,CAAClJ,YAAnB,GAAkC;AAChCoJ,EAAAA,gBAAgB,EAAE,MAAM,EADQ;AAEhCC,EAAAA,iBAAiB,EAAE,MAAM,EAFO;AAGhCC,EAAAA,gBAAgB,EAAE,MAAM;AAHQ,CAAlC;;ACjEA;;AAOA,MAAMS,QAAQ,GAAG,MAAM;AACrB,QAAMvb,KAAK,GAAGpB,gBAAU,CAACQ,OAAO,CAACC,OAAT,CAAxB;AACA3H,EAAAA,eAAS,CAAC,MAAM;AACd,WAAOsI,KAAK,CAAC4P,qBAAN,CAA4B,CAAC5P,KAAD,EAAQ1gB,MAAR,KAAmB;AACpD,YAAMk8B,OAAO,GAAGv6B,wBAAI,CAAC+e,KAAK,CAACE,QAAN,EAAD,EAAmB,qBAAnB,EAA0C,KAA1C,CAApB;;AACA,cAAQ5gB,MAAM,CAAC6P,IAAf;AACE,aAAKghB,MAAU,CAACtG,UAAhB;AACE,cAAIvqB,MAAM,CAACyhB,MAAP,KAAkB,CAAlB,IAAuB,CAACya,OAA5B,EAAqC;AACnCxb,YAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAC5H,IAAb,EAAf;AACD,WAFD,MAEO,IAAIhpB,MAAM,CAACyhB,MAAP,KAAkB,CAAlB,IAAuBya,OAA3B,EAAoC;AACzCxb,YAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACzE,MAAb,EAAf;AACD;;AACD;AAPJ;AASD,KAXM,CAAP;AAYD,GAbQ,EAaN,EAbM,CAAT;AAcA,SAAO,IAAP;AACD,CAjBD;;ACAA,MAAMgQ,QAAQ,GAAG,CAAC;AAAC3rB,EAAAA,IAAD;AAAO4rB,EAAAA,cAAP;AAAuBvd,EAAAA;AAAvB,CAAD,KAAsC;AACrD,QAAMwd,YAAY,GAAGx8B,MAAM,CAACgJ,MAAP,CACnB,EADmB,EAEnByzB,KAAK,CAAC9rB,IAAI,CAACnL,WAAL,EAAD,CAFc,EAGnB+2B,cAHmB,CAArB;;AAKA,QAAMG,UAAU,GAAG,CAAChrB,IAAD,EAAOirB,QAAP,KAAoB;AACrC,WACEH,YAAY,CAAC9qB,IAAD,CAAZ,IACA8qB,YAAY,CAAC9qB,IAAD,CAAZ,CAAmBhP,OAAnB,CAA2B,YAA3B,EAAyC,CAACk6B,SAAD,EAAYr8B,IAAZ,KAAqB;AAC5D,YAAMD,GAAG,GAAGwB,wBAAI,CAAC66B,QAAD,EAAWp8B,IAAX,CAAJ,IAAwBq8B,SAApC;AACA,aAAOt8B,GAAG,YAAYiK,KAAf,GAAuBjK,GAAG,CAACS,IAAJ,CAAS,IAAT,CAAvB,GAAwCT,GAA/C;AACD,KAHD,CAFF;AAOD,GARD;;AASA,QAAMu8B,SAAS,GAAG,CAACnrB,IAAD,EAAOirB,QAAP,KAAoB;AACpC,WAAOH,YAAY,CAAC9qB,IAAD,CAAZ,GAAqBgrB,UAAU,CAAChrB,IAAD,EAAOirB,QAAP,CAA/B,GAAkDjrB,IAAzD;AACD,GAFD;;AAGA,sBACE0N,eAAC,OAAD,CAAS,QAAT;AAAkB,IAAA,KAAK,EAAE;AAACod,MAAAA,YAAD;AAAeE,MAAAA,UAAf;AAA2BG,MAAAA;AAA3B,KAAzB;AAAA,cACG7d;AADH,IADF;AAKD,CAvBD;;AAyBAsd,QAAQ,CAACjd,SAAT,GAAqB;AACnB1O,EAAAA,IAAI,EAAE0Y,KAAK,CAACtd,YADO;AAEnBwwB,EAAAA,cAAc,EAAEjtB,SAAS,CAAC3O,MAFP;AAGnBqe,EAAAA,QAAQ,EAAE1P,SAAS,CAACgQ;AAHD,CAArB;AAKAgd,QAAQ,CAACjK,YAAT,GAAwB;AACtB1hB,EAAAA,IAAI,EAAE5E,cAAY,CAACC,EADG;AAEtBuwB,EAAAA,cAAc,EAAE;AAFM,CAAxB;;AChCA,MAAMO,OAAO,GAAG,CAAC;AAACprB,EAAAA,IAAD;AAAOirB,EAAAA,QAAP;AAAiBxP,EAAAA,YAAjB;AAA+B4P,EAAAA,IAAI,EAAEC,IAAI,GAAG;AAA5C,CAAD,KAAyD;AACvE,QAAM;AAACN,IAAAA,UAAD;AAAaG,IAAAA;AAAb,MAA0Bpd,gBAAU,CAAC4D,OAAD,CAA1C;AACA,QAAMxR,OAAO,GAAG6qB,UAAU,CAAChrB,IAAD,EAAOirB,QAAP,CAAV,IAA8BE,SAAS,CAAC1P,YAAD,CAAvD;AAEA,SAAO6P,IAAI,gBAAG5d,eAAC,IAAD;AAAA,cAAOvN;AAAP,IAAH,GAA4BA,OAAvC;AACD,CALD;;AAOAirB,OAAO,CAACzd,SAAR,GAAoB;AAClB3N,EAAAA,IAAI,EAAE2X,KAAK,CAAC7Y,QADM;AAElBmsB,EAAAA,QAAQ,EAAErtB,SAAS,CAAC3O,MAFF;AAGlBwsB,EAAAA,YAAY,EAAE9D,KAAK,CAAC7Y,QAHF;AAIlBusB,EAAAA,IAAI,EAAEztB,SAAS,CAAC2tB;AAJE,CAApB;;ACRO,MAAM5Z,OAAO,gBAAGlD,yBAAK,CAAChC,aAAN,EAAhB;;AAEP,MAAM+e,eAAe,GAAG,MAAMzd,gBAAU,CAAC4D,OAAD,CAAV,CAAoBmZ,YAAlD;;AAEA,MAAMK,SAAS,GAAG,CAACL,YAAD,EAAe;AAACrmB,EAAAA,EAAD;AAAKxG,EAAAA,MAAL;AAAawtB,EAAAA;AAAb,CAAf,KAA4C;AAC5D,MAAIhnB,EAAE,IAAIqmB,YAAV,EAAwB;AACtB,WAAOA,YAAY,CAACrmB,EAAD,CAAZ,CAAiBzT,OAAjB,CAAyB,YAAzB,EAAuC,CAAC06B,CAAD,EAAIpQ,GAAJ,KAAY;AACxD,YAAM1sB,GAAG,GAAGqP,MAAM,CAACqd,GAAD,CAAN,IAAe,EAA3B;AACA,aAAO,CAAA1sB,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAES,IAAL,CAAU,IAAV,MAAmBT,GAA1B;AACD,KAHM,CAAP;AAID;;AACD,SAAO,CAAA68B,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,OAAQhnB,EAAzB;AACD,CARD;;AAUA,MAAMknB,gBAAgB,GAAG,CAAC;AAAClnB,EAAAA,EAAD;AAAKxG,EAAAA,MAAL;AAAawtB,EAAAA;AAAb,CAAD,KAA8B;AACrD,QAAMX,YAAY,GAAGU,eAAe,EAApC;AACA,SAAOL,SAAS,CAACL,YAAD,EAAe;AAACrmB,IAAAA,EAAD;AAAKxG,IAAAA,MAAL;AAAawtB,IAAAA;AAAb,GAAf,CAAhB;AACD,CAHD;;AAKA,WAAe;AACbld,EAAAA,OAAO,EAAEoD,OADI;AAEbiZ,EAAAA,QAFa;AAGbQ,EAAAA;AAHa,CAAf;;ACnBA,MAAMQ,cAAc,GAAG,CAAC;AAACte,EAAAA;AAAD,CAAD,KAAgB;AACrC,QAAM,CAACjP,MAAD,EAASwtB,SAAT,IAAsBvkB,cAAQ,EAApC;AACAT,EAAAA,eAAS,CAAC,MAAM;AACdglB,IAAAA,SAAS,CAAC;AACRptB,MAAAA,OAAO,EAAEypB,UAAU,EADX;AAER3pB,MAAAA,EAAE,EAAEwpB,KAAK,EAFD;AAGR1pB,MAAAA,MAAM,EAAE2pB,SAAS,EAHT;AAIR8D,MAAAA,SAAS,EAAE,kBAAkBrjB;AAJrB,KAAD,CAAT;AAMD,GAPQ,EAON,EAPM,CAAT;AAQA,SAAOpK,MAAM,GAAGiP,QAAQ,CAACjP,MAAD,CAAX,GAAsB,EAAnC;AACD,CAXD;;AAaAutB,cAAc,CAACje,SAAf,GAA2B;AACzBL,EAAAA,QAAQ,EAAE1P,SAAS,CAACpO;AADK,CAA3B;AAGAo8B,cAAc,CAACjL,YAAf,GAA8B;AAC5BrT,EAAAA,QAAQ,EAAE,CAAC;AAAC7O,IAAAA,OAAD;AAAUF,IAAAA,EAAV;AAAcF,IAAAA;AAAd,GAAD,KAA2B,CAACI,OAAD,EAAUF,EAAV,EAAcF,MAAd;AADT,CAA9B;;ACpBA,MAAM0tB,SAAS,GAAG,CAAC;AAAC/d,EAAAA;AAAD,CAAD,KAAc;AAC9B,QAAM4I,KAAK,GAAG,YAAY;AACxB,QAAIoV,WAAW,GAAG,IAAlB;AACAhe,IAAAA,MAAM,CAAC4I,KAAP;AACA5P,IAAAA,UAAU,CAAC,MAAM;AACfglB,MAAAA,WAAW,GAAG,KAAd;AACD,KAFS,EAEP,EAFO,CAAV;AAGAhe,IAAAA,MAAM,CAACie,eAAP,GAAyBvjB,gBAAzB,CACE,MADF,EAEE,MAAM;AACJ,UAAIsjB,WAAJ,EAAiB;AACfhe,QAAAA,MAAM,CAAC4I,KAAP;AACD;AACF,KANH,EAOE;AAAChO,MAAAA,IAAI,EAAE;AAAP,KAPF;AASD,GAfD;;AAgBA6H,EAAAA,QAAQ,CAAC/H,gBAAT,CAA0B,kBAA1B,EAA8CkO,KAA9C;AACA,SAAO,MAAMnG,QAAQ,CAAC9H,mBAAT,CAA6B,kBAA7B,EAAiDiO,KAAjD,CAAb;AACD,CAnBD;;ACAO,MAAMsV,KAAK,GAAG;AACnBxJ,EAAAA,QAAQ,EAAE,UADS;AAEnByJ,EAAAA,OAAO,EAAE,OAFU;AAGnBx5B,EAAAA,KAAK,EAAE,MAHY;AAInBM,EAAAA,MAAM,EAAE,MAJW;AAKnBD,EAAAA,GAAG,EAAE,CALc;AAMnBR,EAAAA,IAAI,EAAE;AANa,CAAd;AASA,MAAMM,MAAM,GAAG;AACpBq5B,EAAAA,OAAO,EAAE,MADW;AAEpBC,EAAAA,cAAc,EAAE,QAFI;AAGpBC,EAAAA,UAAU,EAAE;AAHQ,CAAf;AAMA,MAAMC,IAAI,GAAG,EAClB,GAAGJ,KADe;AAElB,KAAGp5B,MAFe;AAGlBy5B,EAAAA,eAAe,EAAE,oBAHC;AAIlBC,EAAAA,aAAa,EAAE,QAJG;AAKlBC,EAAAA,UAAU,EAAE,UALM;AAMlBC,EAAAA,SAAS,EAAE,QANO;AAOlBC,EAAAA,KAAK,EAAE,OAPW;AAQlBC,EAAAA,UAAU,EAAE;AARM,CAAb;AAWP,MAAMC,MAAM,GAAG;AACbnoB,EAAAA,MAAM,EAAE,MADK;AAEbooB,EAAAA,OAAO,EAAE,MAFI;AAGbC,EAAAA,MAAM,EAAE,SAHK;AAIbC,EAAAA,OAAO,EAAE,CAJI;AAKbC,EAAAA,UAAU,EAAE,CALC;AAMbt6B,EAAAA,KAAK,EAAE,EANM;AAObM,EAAAA,MAAM,EAAE,EAPK;AAQbs5B,EAAAA,eAAe,EAAE,aARJ;AASbK,EAAAA,UAAU,EAAE,MATC;AAUb,OAAK;AACHM,IAAAA,aAAa,EAAE,MADZ;AAEHC,IAAAA,WAAW,EAAE;AAFV;AAVQ,CAAf;;AC1BA;;AACA;AACA,MAAMC,0BAA0B,GAAG,CACjC,YADiC,EAEjC,OAFiC,EAGjC,UAHiC,EAIjC,WAJiC,EAKjC,SALiC,EAMjC,SANiC,EAOjC,UAPiC,EAQjC,OARiC,CAAnC;AAWA;;AACA,MAAMC,aAAa,GAAGC,YAAY,IAChCA,YADgC,aAChCA,YADgC,uBAChCA,YAAY,CAAEC,WAAd,CAA0B,0BAA1B,CADF;;AAGA,MAAM7kB,gBAAgB,GAAG,CAAC8hB,OAAD,EAAUgD,UAAV,EAAsB7tB,OAAtB,EAA+BwN,OAA/B,KAA2C;AAClEqgB,EAAAA,UAAU,CAAC3tB,OAAX,CAAmBhR,IAAI,IAAI27B,OAAO,CAAC9hB,gBAAR,CAAyB7Z,IAAzB,EAA+B8Q,OAA/B,EAAwCwN,OAAxC,CAA3B;AAEA,SAAO,MACLqgB,UAAU,CAAC3tB,OAAX,CAAmBhR,IAAI,IACrB27B,OAAO,CAAC7hB,mBAAR,CAA4B9Z,IAA5B,EAAkC8Q,OAAlC,EAA2CwN,OAA3C,CADF,CADF;AAID,CAPD;AAUA;;;AACA,MAAMsgB,kBAAkB,GAAG,MAAM;AAC/B,QAAMH,YAAY,GAAG7c,QAAQ,CAAC0Z,aAAT,CAAuB,OAAvB,CAArB;;AACA,MAAI,CAACkD,aAAa,CAACC,YAAD,CAAlB,EAAkC;AAChC;AACD;;AACD,QAAM9+B,KAAK,GAAG;AACZ;AACA+R,IAAAA,MAAM,EAAE;AAFI,GAAd;;AAIA,QAAMmtB,MAAM,GAAGp6B,KAAK,IAClBgd,OAAO,CAACC,OAAR,GACGyB,IADH,CACQ,MAAM;AACV,QAAIxjB,KAAK,CAAC+R,MAAN,KAAiB,OAArB,EAA8B;AAC5B/R,MAAAA,KAAK,CAAC+R,MAAN,GAAe,SAAf;AACA,aAAO+sB,YAAY,CAAC5W,IAAb,GAAoB1E,IAApB,CAAyB,MAAM;AACpC2b,QAAAA,WAAW;AACXL,QAAAA,YAAY,CAAC1W,KAAb;AACD,OAHM,CAAP;AAID;AACF,GATH,EAUGL,KAVH,CAUS,MAAM;AACX/nB,IAAAA,KAAK,CAAC+R,MAAN,GAAe,OAAf;AACAe,IAAAA,OAAO,CAAC/R,KAAR,CAAc,gCAAd,EAAgD+D,KAAK,CAACgL,IAAtD;AACD,GAbH,CADF;;AAgBA,QAAMsvB,OAAO,GAAG,CACdllB,gBAAgB,CAACD,MAAD,EAAS2kB,0BAAT,EAAqCM,MAArC,EAA6C;AAC3DG,IAAAA,OAAO,EAAE;AADkD,GAA7C,CADF,EAIdnlB,gBAAgB,CAAC4kB,YAAD,EAAe,CAAC,MAAD,CAAf,EAAyB,MAAM;AAC7C,QAAI9+B,KAAK,CAAC+R,MAAN,KAAiB,OAArB,EAA8B;AAC5B;AACD;;AACD/R,IAAAA,KAAK,CAAC+R,MAAN,GAAe,SAAf,CAJ6C;;AAM7C+sB,IAAAA,YAAY,CACT5W,IADH,GAEG1E,IAFH,CAEQ2b,WAFR,EAGGpX,KAHH,CAGS3mB,CAAC,IAAI;AACV0R,MAAAA,OAAO,CAACwsB,GAAR,CAAYl+B,CAAZ;AACApB,MAAAA,KAAK,CAAC+R,MAAN,GAAe,OAAf;AACD,KANH;AAOD,GAbe,CAJF,CAAhB;;AAoBA,QAAMotB,WAAW,GAAG,MAAM;AACxBC,IAAAA,OAAO,CAAC/tB,OAAR,CAAgBkuB,eAAe,IAAIA,eAAe,EAAlD;AACAv/B,IAAAA,KAAK,CAAC+R,MAAN,GAAe,WAAf;AACD,GAHD;AAID,CAjDD;;AAmDA,MAAMytB,2BAA2B,GAAG,MAAM;AACxC,QAAMV,YAAY,GAAG7c,QAAQ,CAAC0Z,aAAT,CAAuB,OAAvB,CAArB;;AACA,MAAI,CAACkD,aAAa,CAACC,YAAD,CAAlB,EAAkC;AAChC;AACD;;AACD,QAAM9+B,KAAK,GAAG;AAACy/B,IAAAA,SAAS,EAAE;AAAZ,GAAd;AACA,QAAMC,mBAAmB,GAAG,GAA5B;;AACA,QAAMC,iBAAiB,GAAG,MAAM;AAC9B,QAAI39B,IAAI,CAAC4vB,GAAL,CAAS5xB,KAAK,CAAC4/B,SAAN,GAAkB5/B,KAAK,CAACy/B,SAAjC,KAA+CC,mBAAnD,EAAwE;AACtEZ,MAAAA,YAAY,CAAC5W,IAAb;AACD;AACF,GAJD;;AAKA4W,EAAAA,YAAY,CAAC5kB,gBAAb,CAA8B,OAA9B,EAAuC,MAAM;AAC3Cla,IAAAA,KAAK,CAAC4/B,SAAN,GAAkB19B,IAAI,CAACC,GAAL,EAAlB;AACAw9B,IAAAA,iBAAiB;AAClB,GAHD;AAIAb,EAAAA,YAAY,CAAC5kB,gBAAb,CAA8B,+BAA9B,EAA+DpV,KAAK,IAAI;AACtE,QAAIA,KAAK,CAAClB,MAAN,CAAai4B,sBAAb,KAAwC,YAA5C,EAA0D;AACxD77B,MAAAA,KAAK,CAACy/B,SAAN,GAAkBv9B,IAAI,CAACC,GAAL,EAAlB;AACAw9B,MAAAA,iBAAiB;AAClB;AACF,GALD;AAOA,SAAO,SAASE,YAAT,GAAwB;AAC7B7/B,IAAAA,KAAK,CAACy/B,SAAN,GAAkB,CAAlB;AACD,GAFD;AAGD,CA1BD;;AC5DA,MAAMK,MAAM,GAAG,aAAf;;AAEA,MAAMC,aAAa,GAAG,CAAC//B,KAAD,EAAQ;AAACggC,EAAAA,YAAY,GAAG,KAAhB;AAAuBv0B,EAAAA,OAAO,GAAG;AAAjC,CAAR,KAAiD;AAAA;;AACrE,QAAM;AACJgV,IAAAA,EAAE,EAAE;AAACwf,MAAAA,mBAAD;AAAsBC,MAAAA,YAAtB;AAAoCC,MAAAA;AAApC,KADA;AAEJ3f,IAAAA,GAAG,EAAE;AAAC2Q,MAAAA;AAAD;AAFD,MAGFnxB,KAHJ;AAIA,QAAM;AAACsxB,IAAAA,WAAW,GAAG;AAAf,MAAqBH,SAAS,CAAC6O,YAAD,CAApC;AACA,QAAMI,YAAY,GAAG,CAAA30B,OAAO,SAAP,IAAAA,OAAO,WAAP,qCAAAA,OAAO,CAAE40B,iBAAT,qFAAA50B,OAAO,EAAsB6lB,WAAtB,CAAP,KAA6C4O,YAAlE;AACA,QAAMI,QAAQ,GACZH,iBAAiB,KAAK,aAAtB,GACI;AAAC17B,IAAAA,MAAM,EAAEgH,OAAO,CAAC80B,OAAR,IAAmB90B;AAA5B,GADJ,GAEI20B,YAAY,CAAC32B,IAAb,CAAkB0B,IAAI,IAAIA,IAAI,CAAC1G,MAAL,KAAgBw7B,mBAA1C,KACAC,YAAY,CAACz2B,IAAb,CAAkB0B,IAAI,IAAIA,IAAI,CAAC5J,KAAL,KAAe0+B,mBAAzC,CADA,IAEAC,YAAY,CAAC,CAAD,CALlB;AAOA,SACEE,YAAY,CAAC32B,IAAb,CACE0B,IAAI,IACFA,IAAI,CAAC1G,MAAL,KAAgB67B,QAAQ,CAAC77B,MAAzB,IACA0G,IAAI,CAAC1G,MAAL,KAAgB+7B,QAAQ,CAACF,QAAQ,CAAC77B,MAAV,EAAkB,EAAlB,CAH5B,KAKA6sB,WAAW,CAAC,CAAD,CALX,IAMA,EAPF;AASD,CAvBD;;AAyBA,MAAMmP,cAAc,GAAG,CACrBzgC,KADqB,EAErB;AAAC2B,EAAAA,SAAD;AAAYqF,EAAAA,QAAQ,EAAE;AAACE,IAAAA,MAAD;AAASw5B,IAAAA;AAAT,GAAtB;AAAiDjJ,EAAAA;AAAjD,CAFqB,KAGlB;AACH,QAAM;AACJtG,IAAAA,SADI;AAEJsG,IAAAA,GAAG,EAAEkJ,OAFD;AAGJnK,IAAAA,aAHI;AAIJrR,IAAAA,YAAY,EAAEtd;AAJV,MAKF7H,KAAK,CAACwgB,GALV;AAMA,QAAMjZ,YAAY,GAAGkwB,GAAG,GAAGA,GAAH,GAASlvB,mBAAjC;AACA,SAAO;AACLq4B,IAAAA,IAAI,EAAEzP,SAAS,CAACyP,IAAV,CAAe/e,GADhB;AAELgf,IAAAA,GAAG,EAAE1P,SAAS,CAAC0P,GAAV,CAAchf,GAFd;AAGL4V,IAAAA,GAAG,EAAElwB,YAAY,CAAC;AAChBE,MAAAA,IAAI,EAAEk5B,OADU;AAEhBv4B,MAAAA,KAAK,EAAEouB,aAAa,CAACpuB,KAFL;AAGhBP,MAAAA,OAHgB;AAIhBb,MAAAA,QAAQ,EAAE;AACRE,QAAAA,MADQ;AAERL,QAAAA,KAAK,EAAE65B,eAFC;AAGRt5B,QAAAA,cAAc,EAAEpH,KAAK,CAACwgB,GAAN,CAAUgW,aAAV,CAAwBsK;AAHhC;AAJM,KAAD,CAHZ;AAaLniB,IAAAA,OAAO,EAAE;AACPhd,MAAAA,SAAS,EAAEA,SAAS,IAAIC,wBAAI,CAAC5B,KAAD,EAAQ,yBAAR,CAAjB,IAAuD;AAD3D;AAbJ,GAAP;AAiBD,CA5BD;;AA8BA,MAAM+gC,gBAAgB,GAAG,CAACjwB,OAAO,GAAG,EAAX,EAAepG,QAAf,EAAyBiU,OAAzB,KACvB7N,OAAO,CAAC3Q,MAAR,CAAe,OAAO6gC,IAAP,EAAa/vB,MAAb,KAAwB;AAAA;;AACrC,QAAMiY,MAAM,GAAG,MAAM8X,IAArB;AACA,SAAO,EACL,GAAG9X,MADE;AAEL,QAAI,uBAAMjY,MAAM,CAACoa,IAAb,iDAAM,kBAAApa,MAAM,EAAQiY,MAAR,EAAgBvK,OAAhB,CAAZ,CAAJ;AAFK,GAAP;AAID,CAND,EAMGmD,OAAO,CAACC,OAAR,CAAgBrX,QAAhB,CANH,CADF;;AASA,MAAMu2B,UAAU,GAAG,CAACzhB,MAAD,EAAS1O,OAAT,EAAkBojB,QAAlB,KAA+B;AAChD,QAAMgN,WAAW,GAAGpwB,OAAO,CAACrH,IAAR,CAClBwH,MAAM,IAAI,OAAOA,MAAM,CAACgwB,UAAd,KAA6B,UADrB,CAApB;;AAGA,MAAIC,WAAJ,EAAiB;AACfA,IAAAA,WAAW,CAACD,UAAZ,CAAuB/M,QAAvB,EAAiCiN,YAAY,IAC3C3hB,MAAM,CAAC8I,IAAP,CAAY6Y,YAAZ,EAA0BrB,MAA1B,CADF;AAGA,WAAO,IAAP;AACD;AACF,CAVD;;AAYA,MAAM3kB,iBAAiB,GAAG,CAACqE,MAAD,EAAS1O,OAAT,KACxBhR,MAAM,CAACgJ,MAAP,CACE;AACE1G,EAAAA,WAAW,EAAEod,MAAM,CAAC4hB,cAAP,EADf;AAEEt/B,EAAAA,QAAQ,EAAE0d,MAAM,CAAC6hB,WAAP;AAFZ,CADF,EAKE,GAAGvwB,OAAO,CAACnQ,GAAR,CAAYsQ,MAAM;AAAA;;AAAA,kCAAIA,MAAM,CAACkK,iBAAX,0DAAI,2BAAAlK,MAAM,CAAV;AAAA,CAAlB,CALL,CADF;;AASA,MAAMqwB,UAAU,GAAG,OAAO9hB,MAAP,EAAemB,KAAf,EAAsB9gB,KAAtB,EAA6B0hC,IAA7B,KAAsC;AACvD,QAAMvhC,KAAK,GAAG2gB,KAAK,CAACE,QAAN,EAAd;AACA,QAAM2gB,uBAAuB,GAAGhiB,MAAM,CAACiiB,gBAAP,GAA0B,CAA1B,EAA6BC,SAA7D;AACA,QAAMC,WAAW,GAAGlB,cAAc,CAACzgC,KAAD,EAAQ,EACxC,IAAIA,KAAK,CAACwgB,GAAN,CAAUohB,mBAAV,IAAiC,CAAjC,IAAsC;AAACjgC,MAAAA,SAAS,EAAE9B,KAAK,CAAC8B;AAAlB,KAA1C,CADwC;AAExCqF,IAAAA,QAAQ,EAAE;AACRE,MAAAA,MAAM,EAAErH,KAAK,CAACmH,QADN;AAER05B,MAAAA,eAAe,EAAE,MAAMv6B,gBAAgB;AAF/B,KAF8B;AAMxCsxB,IAAAA,GAAG,EAAE53B,KAAK,CAAC43B;AAN6B,GAAR,CAAlC;AAQA,QAAM;AACJ5V,IAAAA,GAAG,EAAEggB,WADD;AAEJlgC,IAAAA,SAAS,GAAGggC,WAAW,CAAChgC,SAFpB;AAGJ,OAAGmgC;AAHC,MAIF,MAAMf,gBAAgB,CACxBlhC,KAAK,CAACiR,OADkB,EAExB,EACE,GAAG9Q,KAAK,CAACwgB,GAAN,CAAU2Q,SAAV,CAAoBqQ,uBAApB,CADL;AAEE3f,IAAAA,GAAG,EAAE8f,WAAW,CAACH,uBAAD,CAFlB;AAGE7/B,IAAAA,SAAS,EAAEggC,WAAW,CAAChjB,OAAZ,CAAoBhd;AAHjC,GAFwB,EAOxB;AACE6d,IAAAA,MADF;AAEEvE,IAAAA,KAAK,EAAEpb,KAAK,CAAC+e,QAAN,CAAerG,OAFxB;AAGEwpB,IAAAA,WAAW,EAAEliC,KAAK,CAACmiC,cAAN,CAAqBzpB;AAHpC,GAPwB,CAJ1B;AAiBAgpB,EAAAA,IAAI,CAACO,UAAL,GAAkBA,UAAlB;AACA,MAAIG,WAAW,GAAG,EAChB,GAAGN,WADa;AAEhB,KAACH,uBAAD,GAA2BK,WAFX;AAGhBljB,IAAAA,OAAO,EAAE;AAAChd,MAAAA;AAAD;AAHO,GAAlB;;AAMA,MAAI6/B,uBAAuB,KAAK,KAAhC,EAAuC;AACrC,UAAM;AAAC5vB,MAAAA,IAAI,EAAElH;AAAP,QAAmB,MAAMypB,yBAAK,CAACC,GAAN,CAAUyN,WAAV,EAAuB9Z,KAAvB,CAA6B,MAAM;AAChEpH,MAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAC9vB,KAAb,EAAf;AACD,KAF8B,CAA/B;;AAGA,UAAMmhC,mBAAmB,GAAG,MAAM;AAChC,YAAMC,UAAU,GAAGpC,aAAa,CAACpf,KAAK,CAACE,QAAN,EAAD,EAAmB;AACjDpV,QAAAA,OAAO,EAAE5L,KAAK,CAAC4L;AADkC,OAAnB,CAAhC;AAGA,YAAMP,QAAQ,GAAGJ,mBAAmB,CAACJ,QAAD,EAAW;AAC7CC,QAAAA,SAAS,EAAEk3B,WADkC;AAE7C53B,QAAAA,MAAM,EAAEsB,SAAS,IACf1L,KAAK,CAACuiC,qBAAN,CAA4B;AAC1B52B,UAAAA,aAAa,EAAE22B,UADW;AAE1B52B,UAAAA;AAF0B,SAA5B;AAH2C,OAAX,CAApC;AAQA,aAAOL,QAAQ,GACXL,GAAG,CAAC2pB,eAAJ,CACE,IAAI6N,IAAJ,CAAS,CAACn3B,QAAD,CAAT,EAAqB;AAAC4E,QAAAA,IAAI,EAAE;AAAP,OAArB,CADF,CADW,GAIX+xB,WAJJ;AAKD,KAjBD;;AAkBAN,IAAAA,IAAI,CAAC/P,aAAL,GAAqB,YAAY;AAC/B,YAAM7vB,SAAS,GAAG6d,MAAM,CAAC4hB,cAAP,EAAlB;AACA,YAAM5hB,MAAM,CAACgM,MAAP,EAAN;AACA,aAAOhM,MAAM,CAAC6L,IAAP,CAAY,EACjB,GAAG4W,WADc;AAEjBpB,QAAAA,GAAG,EAAEqB,mBAAmB,EAFP;AAGjBvjB,QAAAA,OAAO,EAAE;AAAChd,UAAAA;AAAD;AAHQ,OAAZ,CAAP;AAKD,KARD;;AASAsgC,IAAAA,WAAW,GAAG,EACZ,GAAGA,WADS;AAEZpB,MAAAA,GAAG,EAAEqB,mBAAmB;AAFZ,KAAd;AAID;;AAED,SAAO1iB,MAAM,CAAC6L,IAAP,CAAY4W,WAAZ,CAAP;AACD,CAzED;;AA2EA,MAAMK,0BAA0B,GAAG,CAAC9iB,MAAD,EAASmB,KAAT,EAAgBkQ,YAAhB,KAAiC;AAClE,MAAIrR,MAAM,CAAC+iB,aAAP,OAA2B,KAA/B,EAAsC;AACpC;AACD;;AAED/pB,EAAAA,UAAU,CAAC,YAAY;AACrB,QAAIgH,MAAM,CAACgjB,SAAP,EAAJ,EAAwB;AACtB,YAAM;AAAC3gB,QAAAA;AAAD,UAAQlB,KAAK,CAACE,QAAN,GAAiBL,GAAjB,CAAqB2Q,SAArB,CAA+B0P,GAA7C;AACA,YAAM1M,yBAAK,CAACC,GAAN,CAAUvS,GAAV,EAAe;AAAC4gB,QAAAA,OAAO,EAAE;AAAV,OAAf,EAAgC1a,KAAhC,CAAsC,MAAM;AAChDpH,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAC9vB,KAAb,EAAf;AACD,OAFK,CAAN;AAGD;AACF,GAPS,EAOP,KAPO,CAAV;AAQD,CAbD;;AAeA,MAAM2hC,mBAAmB,GAAG,CAAC;AAC3BljB,EAAAA,MAD2B;AAE3BhU,EAAAA,aAF2B;AAG3B42B,EAAAA;AAH2B,CAAD,KAItB;AACJ,QAAMO,kBAAkB,GAAGnjB,MAAM,CAACojB,0BAAP,EAA3B;AACA,QAAMtC,QAAQ,GACZ,CAAA8B,qBAAqB,SAArB,IAAAA,qBAAqB,WAArB,YAAAA,qBAAqB,CAAG;AAAC72B,IAAAA,SAAS,EAAEo3B,kBAAZ;AAAgCn3B,IAAAA;AAAhC,GAAH,CAArB,KACAm3B,kBAFF;AAGA,SAAOA,kBAAkB,CAAC13B,MAAnB,IAA6B,CAA7B,GAAiC03B,kBAAjC,GAAsDrC,QAA7D;AACD,CAVD;;AAYA,MAAMuC,cAAN,SAA6BC,eAA7B,CAAuC;AAAA;AAAA;;AAAA,wDA0D5B,IA1D4B;;AAAA,oEA2DhB,IA3DgB;;AAAA,gEA4DpB,IA5DoB;;AAAA,uEA6D1BC,eAAS,EA7DiB;;AAAA,gEA+DpB,MAAM,EA/Dc;AAAA;;AAiErCC,EAAAA,iBAAiB,GAAG;AAClB/D,IAAAA,kBAAkB;AAClB,SAAKY,YAAL,GAAoBL,2BAA2B,EAA/C;AACA,SAAKluB,cAAL,GAAsB,KAAKzR,KAAL,CAAW8gB,KAAX,CAAiB4P,qBAAjB,CACpB,OAAO5P,KAAP,EAAc1gB,MAAd,KAAyB;AAAA;;AACvB,UAAI;AACF,cAAMgjC,SAAS,GAAG,KAAKpjC,KAAL,CAAWy7B,YAAX,CAAwB/iB,OAA1C;;AACA,gBAAQtY,MAAM,CAAC6P,IAAf;AACE,eAAKA,MAAI,CAACga,KAAV;AACE,mBAAO,MAAM,KAAKqB,KAAL,GAAa3H,IAAb,CAAkB,MAC7B7C,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACzF,OAAb,EAAf,CADW,CAAb;;AAGF,eAAKtb,MAAI,CAACoa,WAAV;AACE,mBAAOvJ,KAAK,CAACzH,QAAN,CACL2X,YAAY,CAAChY,QAAb,CAAsB,KAAKqqB,oBAAL,CAA0B,KAAK1jB,MAA/B,CAAtB,CADK,CAAP;;AAGF,eAAK1P,MAAI,CAACia,IAAV;AACE,mBAAOuX,UAAU,CAAC,KAAK9hB,MAAN,EAAcmB,KAAd,EAAqB,KAAK9gB,KAA1B,EAAiC,IAAjC,CAAjB;;AACF,eAAKsjC,IAAO,CAAClV,sBAAb;AACE,iBAAKzO,MAAL,CAAYgM,MAAZ;AACA,kBAAM8V,UAAU,CAAC,KAAK9hB,MAAN,EAAcmB,KAAd,EAAqB,KAAK9gB,KAA1B,EAAiC,IAAjC,CAAhB;AACA,iBAAK2f,MAAL,CAAY4I,KAAZ;AACA;;AACF,eAAKtY,MAAI,CAACka,MAAV;AACE,iBAAKwH,aAAL,GAAqB/tB,SAArB;AACA,iBAAK5D,KAAL,CAAWiR,OAAX,CAAmBO,OAAnB,CAA2BJ,MAAM;AAAA;;AAAA,sCAAIA,MAAM,CAAC0M,KAAX,kDAAI,mBAAA1M,MAAM,CAAV;AAAA,aAAjC;AACA,mBACE,KAAKuO,MAAL,IACA,KAAKA,MAAL,CACGgM,MADH,GAEGhI,IAFH,CAEQ,MAAM7C,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACpF,QAAb,EAAf,CAFd,CAFF;;AAMF,eAAK3b,MAAI,CAAC/B,IAAV;AACE;AACA;AACA;AACA;AACA,mBAAO,KAAKyR,MAAL,CACJ0I,IADI,CACC4X,MADD,EAEJ/X,KAFI,CAEE3mB,CAAC,IAAI0R,OAAO,CAACwsB,GAAR,CAAY,4BAAZ,EAA0Cl+B,CAA1C,CAFP,CAAP;;AAGF,eAAK0O,MAAI,CAAC9B,KAAV;AACE,uCAAK6xB,YAAL;AACA,mBAAO,KAAKrgB,MAAL,CAAY4I,KAAZ,CAAkB0X,MAAlB,CAAP;;AACF,eAAKhwB,MAAI,CAACua,IAAV;AACE;AACA,mBACE4W,UAAU,CAAC,KAAKzhB,MAAN,EAAc,KAAK3f,KAAL,CAAWiR,OAAzB,EAAkC7Q,MAAM,CAACgsB,IAAzC,CAAV,IACA,KAAKzM,MAAL,CAAY8I,IAAZ,CAAiBtmB,IAAI,CAACR,GAAL,CAAS,CAAT,EAAYvB,MAAM,CAACgsB,IAAnB,CAAjB,EAA2C6T,MAA3C,CAFF;;AAIF,eAAKhwB,MAAI,CAAC0a,UAAV;AACE,iBAAKhL,MAAL,CAAYuJ,SAAZ,CAAsB9oB,MAAM,CAACyhB,MAA7B;;AACA,gBAAIzhB,MAAM,CAACyhB,MAAP,GAAgB,CAAhB,IAAqB,KAAKlC,MAAL,CAAY2c,OAAZ,EAAzB,EAAgD;AAC9C,mBAAK3c,MAAL,CAAY4M,MAAZ;AACD;;AACD;;AACF,eAAKtc,MAAI,CAAC2a,IAAV;AACE,mBAAO,KAAKjL,MAAL,CAAYyJ,IAAZ,EAAP;;AACF,eAAKnZ,MAAI,CAAC6a,MAAV;AACE,mBAAO,KAAKnL,MAAL,CAAY4M,MAAZ,EAAP;;AACF,eAAKtc,MAAI,CAAC+a,iBAAV;AACE,gBAAIoY,SAAS,CAACG,iBAAd,EACEH,SAAS,CAACG,iBAAV,CAA4B;AAACC,cAAAA,YAAY,EAAE;AAAf,aAA5B;AACF,mBAAO,KAAK7jB,MAAL,CAAY8jB,WAAZ,CAAwBh2B,cAAc,CAACC,UAAvC,EAAmD;AACxDg2B,cAAAA,iBAAiB,EAAEN;AADqC,aAAnD,CAAP;;AAGF,eAAKnzB,MAAI,CAACgb,iBAAV;AACE,mBAAO,KAAKtL,MAAL,CAAY8jB,WAAZ,CAAwBh2B,cAAc,CAACE,MAAvC,EAA+C;AACpD+1B,cAAAA,iBAAiB,EAAEN;AADiC,aAA/C,CAAP;;AAGF,eAAKnK,MAAM,CAAC7lB,cAAZ;AACE,gBAAI,CAAC,KAAKuM,MAAL,CAAYgkB,QAAZ,EAAL,EAA6B;AAAA;;AAC3B,0CAAKhS,aAAL;AACD;;AACD,iBAAKiS,iBAAL,GAAyBf,mBAAmB,CAAC;AAC3CljB,cAAAA,MAAM,EAAE,KAAKA,MAD8B;AAE3ChU,cAAAA,aAAa,EAAEu0B,aAAa,CAACpf,KAAK,CAACE,QAAN,EAAD,EAAmB;AAC7CpV,gBAAAA,OAAO,EAAE,KAAK5L,KAAL,CAAW4L;AADyB,eAAnB,CAFe;AAK3C22B,cAAAA,qBAAqB,EAAE,KAAKviC,KAAL,CAAWuiC;AALS,aAAD,CAA5C;AAOA;AAzEJ;AA2ED,OA7ED,CA6EE,OAAOrhC,KAAP,EAAc;AACd;AACA,cAAM,IAAI+gB,OAAJ,CAAYC,OAAO,IAAIvJ,UAAU,CAACuJ,OAAD,EAAU,EAAV,CAAjC,CAAN;AACApB,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAC9vB,KAAb,CAAmBA,KAAnB,CAAf;AACD;AACF,KApFmB,CAAtB;AAsFD;;AAED2iC,EAAAA,oBAAoB,GAAG;AAAA;;AACrB,kCAAKC,kBAAL;AACA,SAAKryB,cAAL;AACA,UAAMqP,KAAK,GAAG,KAAK9gB,KAAL,CAAW8gB,KAAzB;AACAA,IAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACjF,OAAb,EAAf;;AAEA,QAAI;AACF,WAAKpM,MAAL,CAAYokB,OAAZ;AACD,KAFD,CAEE,OAAO7iC,KAAP,EAAc;AACd4f,MAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAC9vB,KAAb,CAAmBA,KAAnB,CAAf;AACD;AACF;;AAEDoqB,EAAAA,KAAK,GAAG;AACN,WAAO,mFAAO,iBAAP,OAA0B3H,IAA1B,CACL,CAAC;AAAC+c,MAAAA,OAAO,EAAE;AAAClgB,QAAAA,MAAD;AAASwjB,QAAAA;AAAT;AAAV,KAAD,KAAsC;AACpC,YAAMljB,KAAK,GAAG,KAAK9gB,KAAL,CAAW8gB,KAAzB;AACA,YAAMnZ,MAAM,GAAG;AACbslB,QAAAA,GAAG,EAAE,KAAKjtB,KAAL,CAAWikC,UADH;AAEb,WAAG,KAAKjkC,KAAL,CAAW2H,MAFD;AAGbu8B,QAAAA,QAAQ,EAAE;AACRC,UAAAA,QAAQ,EAAE,KAAKnkC,KAAL,CAAWwX,QADb;AAER,aAAGsJ,KAAK,CAACE,QAAN,GAAiBT,YAAjB,CAA8B1T,UAAU,CAACC,MAAzC,CAFK;AAGR,aAAG,KAAK9M,KAAL,CAAW2H,MAAX,CAAkBu8B;AAHb,SAHG;AAQbE,QAAAA,MAAM,EAAE;AACNC,UAAAA,sBAAsB,EAAE,IADlB;AAENC,UAAAA,kBAAkB,EAAE;AAFd,SARK;AAYbC,QAAAA,UAAU,EAAE;AACVC,UAAAA,iBAAiB,EAAEzyB,IAAI,IAAI;AACzB,gBACE,CAAC,KAAK6xB,iBAAN,IACA,KAAKA,iBAAL,CAAuBx4B,MAAvB,GAAgC,CADhC,IAEA,KAAKw4B,iBAAL,CAAuBljC,IAAvB,CACEkL,OAAO,IAAIA,OAAO,CAACwK,EAAR,KAAerE,IAAI,CAACxI,SADjC,CAHF,EAME;AACA,qBAAOwI,IAAP;AACD;;AACD,kBAAM0yB,aAAa,GAAG,KAAK9kB,MAAL,CACnBojB,0BADmB,GAEnBn5B,IAFmB,CAEdgC,OAAO,IAAIA,OAAO,CAACwK,EAAR,KAAerE,IAAI,CAACxI,SAFjB,CAAtB;AAGA,mBACE,KAAKq6B,iBAAL,CAAuBtjC,MAAvB,CAA8B,CAACoJ,CAAD,EAAIC,CAAJ,KAAU;AACtCxH,cAAAA,IAAI,CAAC4vB,GAAL,CAASroB,CAAC,CAACg7B,OAAF,GAAYD,aAArB,KACAtiC,IAAI,CAAC4vB,GAAL,CAASpoB,CAAC,CAAC+6B,OAAF,GAAYD,aAArB,CADA,GAEI/6B,CAFJ,GAGIC,CAHJ;AAID,aALD,EAKGyM,EALH,IAKSrE,IANX;AAQD;AAtBS;AAZC,OAAf;AAqCA,YAAM4N,MAAM,GAAG,IAAIa,MAAJ,CAAW,KAAKzB,QAAL,CAAcrG,OAAzB,EAAkC/Q,MAAlC,CAAf;;AACA,UAAI,CAACmyB,SAAS,EAAd,EAAkB;AAChB,aAAKgK,kBAAL,GAA0BpG,SAAS,CAAC;AAAC/d,UAAAA;AAAD,SAAD,CAAnC;AACD;;AACD,WAAK3f,KAAL,CAAW2kC,SAAX,CAAqBhlB,MAArB;AACAA,MAAAA,MAAM,CAACilB,eAAP,CAAuB,KAAK5kC,KAAL,CAAW+e,QAAX,CAAoBrG,OAA3C;AACA,WAAKmsB,kBAAL,GAA0BllB,MAAM,CAACiiB,gBAAP,GAA0B,CAA1B,EAA6BC,SAAvD;AACA,YAAMiD,iBAAiB,GAAG7jC,OAAO,CAACC,KAAK,IACrC4f,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAC9vB,KAAb,CAAmBA,KAAnB,CAAf,CAD+B,CAAjC;AAGAye,MAAAA,MAAM,CAACpO,EAAP,CACEyyB,WAAW,CAACe,YADd,EAEED,iBAAiB,CAAC,MAAM;AACtBnlB,QAAAA,MAAM,CACHie,eADH,GAEGoH,YAFH,CAEgB,yBAFhB,EAE2C,IAF3C;AAGA,aAAKC,kBAAL,CAAwB;AAACjB,UAAAA,WAAD;AAAcrkB,UAAAA;AAAd,SAAxB;AACA,aAAKulB,kBAAL,CAAwB;AAAClB,UAAAA,WAAD;AAAcrkB,UAAAA;AAAd,SAAxB;AACA,aAAKikB,iBAAL,GAAyBf,mBAAmB,CAAC;AAC3CljB,UAAAA,MAAM,EAAE,KAAKA,MAD8B;AAE3ChU,UAAAA,aAAa,EAAEu0B,aAAa,CAACpf,KAAK,CAACE,QAAN,EAAD,EAAmB;AAC7CpV,YAAAA,OAAO,EAAE,KAAK5L,KAAL,CAAW4L;AADyB,WAAnB,CAFe;AAK3C22B,UAAAA,qBAAqB,EAAE,KAAKviC,KAAL,CAAWuiC;AALS,SAAD,CAA5C;AAOAzhB,QAAAA,KAAK,CAACzH,QAAN,CACE2X,YAAY,CAAChY,QAAb,CAAsB,KAAKqqB,oBAAL,CAA0B,KAAK1jB,MAA/B,CAAtB,CADF;AAGAmB,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACvF,MAAb,EAAf;AACA,aAAKzrB,KAAL,CAAWihB,oBAAX,CAAgC,eAAhC,EAAiD,EAC/C,GAAGH,KAAK,CAACE,QAAN,GAAiBL,GAD2B;AAE/C,aAAG,KAAKshB;AAFuC,SAAjD;AAIA,YAAItiB,MAAM,CAACwlB,MAAP,EAAJ,EAAqBrkB,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACnF,KAAb,EAAf;AACrB,aAAK7rB,KAAL,CAAWolC,cAAX;AACD,OAvBgB,CAFnB;AA2BAzlB,MAAAA,MAAM,CAACpO,EAAP,CACEyyB,WAAW,CAACqB,KADd,EAEEP,iBAAiB,CAAC,MAAM;AACtBhkB,QAAAA,KAAK,CAACzH,QAAN,CACE2X,YAAY,CAAChY,QAAb,CAAsB,KAAKqqB,oBAAL,CAA0B,KAAK1jB,MAA/B,CAAtB,CADF;AAGAmB,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACnF,KAAb,EAAf;AACA,aAAK7rB,KAAL,CAAWslC,OAAX;AACD,OANgB,CAFnB;AAUA3lB,MAAAA,MAAM,CAACpO,EAAP,CACEyyB,WAAW,CAACuB,IADd,EAEET,iBAAiB,CAAC,MAAM;AACtB,aAAK9kC,KAAL,CAAWwlC,MAAX;AACD,OAFgB,CAFnB;AAMA7lB,MAAAA,MAAM,CAACpO,EAAP,CACEyyB,WAAW,CAACyB,OADd,EAEEX,iBAAiB,CAAC,MAAM;AACtBhkB,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAChF,OAAb,EAAf;AACA,aAAKhsB,KAAL,CAAW0lC,SAAX;AACD,OAHgB,CAFnB;AAOA/lB,MAAAA,MAAM,CAACpO,EAAP,CACEyyB,WAAW,CAAC2B,MADd,EAEEb,iBAAiB,CAAC,MAAM;AACtBhkB,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAC/E,MAAb,EAAf;AACA,aAAKjsB,KAAL,CAAW4lC,QAAX;AACD,OAHgB,CAFnB;AAOAjmB,MAAAA,MAAM,CAACpO,EAAP,CACEyyB,WAAW,CAAC6B,gBADd,EAEEf,iBAAiB,CAAC,MAAM;AACtBhkB,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAC9E,KAAb,EAAf;AACA,aAAKlsB,KAAL,CAAW8lC,OAAX;AACD,OAHgB,CAFnB;AAOAnmB,MAAAA,MAAM,CAACpO,EAAP,CACEyyB,WAAW,CAAC+B,WADd,EAEEjB,iBAAiB,CAAC,MAAM;AACtB,aAAKkB,mBAAL,CAAyB;AAAChC,UAAAA,WAAD;AAAcrkB,UAAAA;AAAd,SAAzB;AACA,cAAM;AAACpd,UAAAA,WAAD;AAAc8pB,UAAAA;AAAd,YAAiC/Q,iBAAiB,CACtDqE,MADsD,EAEtD,KAAK3f,KAAL,CAAWiR,OAF2C,CAAxD;AAIA6P,QAAAA,KAAK,CAACzH,QAAN,CACE2X,YAAY,CAAC7E,iBAAb,CAA+B;AAAC5pB,UAAAA,WAAD;AAAc8pB,UAAAA;AAAd,SAA/B,CADF;AAGA,aAAKrsB,KAAL,CAAWimC,aAAX,CAAyB1jC,WAAzB;AACD,OAVgB,CAFnB;AAcA,UAAI2jC,mBAAJ;AACAvmB,MAAAA,MAAM,CAACpO,EAAP,CACEyyB,WAAW,CAACmC,IADd,EAEErB,iBAAiB,CAAC,CAAC;AAACsB,QAAAA,UAAD;AAAa/R,QAAAA,QAAb;AAAuBgS,QAAAA;AAAvB,OAAD,KAAoC;AACpD,aAAKrmC,KAAL,CAAWihB,oBAAX,CAAgC,aAAhC;AACAilB,QAAAA,mBAAmB,GAAGG,MAAtB;;AACA,YAAIA,MAAM,KAAKpG,MAAX,IAAqBoG,MAAM,KAAK,UAApC,EAAgD;AAC9C,eAAKrmC,KAAL,CAAWsmC,MAAX,CAAkBF,UAAlB,EAA8B/R,QAA9B;AACD;AACF,OANgB,CAFnB;AAUA1U,MAAAA,MAAM,CAACpO,EAAP,CACEyyB,WAAW,CAACuC,MADd,EAEEzB,iBAAiB,CAAC,MAAM;AACtB,YACEoB,mBAAmB,KAAKjG,MAAxB,IACAiG,mBAAmB,KAAK,UAF1B,EAGE;AACA,gBAAM;AAAC3jC,YAAAA;AAAD,cAAgB+Y,iBAAiB,CACrCqE,MADqC,EAErC,KAAK3f,KAAL,CAAWiR,OAF0B,CAAvC;AAIA6P,UAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACtS,MAAb,CAAoBnc,WAApB,CAAf;AACA,eAAKvC,KAAL,CAAWwmC,QAAX,CAAoBjkC,WAApB;AACD;AACF,OAZgB,CAFnB;AAgBAod,MAAAA,MAAM,CAACpO,EAAP,CACEyyB,WAAW,CAACyC,aADd,EAEE3B,iBAAiB,CAAC,CAAC;AAAC4B,QAAAA,YAAD;AAAeC,QAAAA;AAAf,OAAD,KAAkC;AAClD7lB,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAC1E,YAAb,CAA0Boa,YAA1B,CAAf;AACA,aAAK1mC,KAAL,CAAW4mC,eAAX,CAA2BF,YAA3B,EAAyCC,YAAzC;AACD,OAHgB,CAFnB;AAOAhnB,MAAAA,MAAM,CAACpO,EAAP,CACEyyB,WAAW,CAAC6C,KADd,EAEE/B,iBAAiB,CAAC,MAAM;AACtBhkB,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACpM,KAAb,EAAf;AACA,aAAK5kB,KAAL,CAAW8mC,OAAX;AACD,OAHgB,CAFnB;AAOAnnB,MAAAA,MAAM,CAACpO,EAAP,CACEyyB,WAAW,CAAC+C,OADd,EAEEjC,iBAAiB,CAAC,MAAM;AACtBhkB,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACxE,OAAb,EAAf;AACA,aAAKxsB,KAAL,CAAWgnC,SAAX;AACD,OAHgB,CAFnB;AAOArnB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAACiD,eAAtB,EAAuCC,aAAa,IAAI;AACtDpmB,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACrE,cAAb,CAA4Bua,aAAa,CAAC/xB,EAA1C,CAAf;AACA,aAAKnV,KAAL,CAAW07B,gBAAX,CAA4BwL,aAA5B;;AACA,YAAIA,aAAa,CAAC/xB,EAAd,KAAqB,YAAzB,EAAuC;AACrC,eAAKnV,KAAL,CAAW27B,iBAAX;AACAhc,UAAAA,MAAM,CAACwnB,YAAP,GAAsBnC,YAAtB,CAAmC,iBAAnC,EAAsD,KAAtD;AACD,SAHD,MAGO,IAAIkC,aAAa,CAACz8B,IAAd,KAAuB,YAA3B,EAAyC;AAC9C,eAAKzK,KAAL,CAAW47B,gBAAX;AACD;AACF,OATD;AAUAjc,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAACoD,sBAAtB,EAA8C,MAAM;AAClD,cAAMC,eAAe,GAAG,MACtBllC,IAAI,CAACV,GAAL,CACEke,MAAM,CAAC2nB,oBAAP,MAAiC,CADnC,EAEE3nB,MAAM,CAAC4nB,oBAAP,MAAiC,CAFnC,CADF;;AAKAzmB,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACpE,gBAAb,CAA8Bya,eAAe,EAA7C,CAAf;AACD,OAPD;AAQA1nB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAACwD,YAAtB,EAAoC,MAAM;AACxC,aAAKxnC,KAAL,CAAWynC,cAAX;AACA3mB,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAACnE,QAAb,EAAf;AACA4V,QAAAA,0BAA0B,CAAC9iB,MAAD,EAASmB,KAAT,EAAgBkQ,YAAhB,CAA1B;AACD,OAJD;AAKArR,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAAC0D,UAAtB,EAAkC,MAAM;AACtC,aAAK1nC,KAAL,CAAW2nC,YAAX;AACA7mB,QAAAA,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAClE,OAAb,EAAf;AACD,OAHD;AAIAnN,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAAC4D,QAAtB,EAAgC3iC,KAAK,IAAI;AACvC,cAAM;AAAC6uB,UAAAA,IAAD;AAAOgD,UAAAA,KAAP;AAAc5Y,UAAAA;AAAd,YAAqBjZ,KAA3B;AACA6b,QAAAA,KAAK,CAACzH,QAAN,CAAemY,QAAQ,CAACtZ,sBAAT,CAAgC;AAAC4b,UAAAA,IAAD;AAAOgD,UAAAA,KAAP;AAAc5Y,UAAAA;AAAd,SAAhC,CAAf;AACD,OAHD;AAIAyB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAAC6D,OAAtB,EAA+B,MAC7B/mB,KAAK,CAACzH,QAAN,CAAemY,QAAQ,CAACtZ,sBAAT,CAAgC,EAAhC,CAAf,CADF;AAGAyH,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAACtS,KAAtB,EAA6BxwB,KAAK,IAChC4f,KAAK,CAACzH,QAAN,CAAe2X,YAAY,CAAC9vB,KAAb,CAAmBA,KAAnB,CAAf,CADF;AAGA,WAAKlB,KAAL,CAAWihB,oBAAX,CAAgC,eAAhC;AACA,aAAQ,KAAKtB,MAAL,GAAcA,MAAtB;AACD,KAvNI,CAAP;AAyND;;AAED0jB,EAAAA,oBAAoB,CAAC1jB,MAAD,EAAS;AAC3B,UAAM;AAACpd,MAAAA,WAAD;AAAcN,MAAAA;AAAd,QAA0BqZ,iBAAiB,CAC/CqE,MAD+C,EAE/C,KAAK3f,KAAL,CAAWiR,OAFoC,CAAjD;AAIA,WAAO;AACL0Q,MAAAA,QAAQ,EAAEhC,MAAM,CAACmoB,WAAP,EADL;AAELjjB,MAAAA,UAAU,EAAElF,MAAM,CAAC+iB,aAAP,EAFP;AAGL9gB,MAAAA,QAAQ,EAAE;AACR8C,QAAAA,YAAY,EAAEniB,WADN;AAERN,QAAAA,QAAQ,EAAE8lC,QAAQ,CAAC9lC,QAAD,CAAR,IAAsBA,QAAQ,GAAG,CAAjC,GAAqCA,QAArC,GAAgD,CAFlD;AAGR+lC,QAAAA,UAAU,EAAE7lC,IAAI,CAACV,GAAL,CACVke,MAAM,CAAC2nB,oBAAP,MAAiC,CADvB,EAEV3nB,MAAM,CAAC4nB,oBAAP,MAAiC,CAFvB;AAHJ,OAHL;AAWL1lB,MAAAA,MAAM,EAAE;AACNA,QAAAA,MAAM,EAAElC,MAAM,CAAC2G,SAAP,EADF;AAEN1B,QAAAA,KAAK,EAAEjF,MAAM,CAAC2c,OAAP;AAFD,OAXH;AAeLjP,MAAAA,MAAM,EAAE1N,MAAM,CAACsoB,SAAP;AAfH,KAAP;AAiBD,GA3ZoC;;;AA8ZrChD,EAAAA,kBAAkB,CAAC;AAACjB,IAAAA,WAAD;AAAcrkB,IAAAA;AAAd,GAAD,EAAwB;AACxC,QAAIA,MAAM,CAAC+iB,aAAP,OAA2B,MAA/B,EAAuC;AACrC,UAAIwF,OAAJ;AACA,UAAIC,QAAJ;;AACA,YAAMC,WAAW,GAAG,MAAM;AACxB,YAAIzoB,MAAM,CAAC0oB,SAAP,EAAJ,EAAwB;AACtBC,UAAAA,UAAU;AACVJ,UAAAA,OAAO,GAAGpvB,WAAW,CAAC,MAAM;AAC1B,kBAAMvW,WAAW,GAAGod,MAAM,CAAC4hB,cAAP,KAA0B,IAA9C;;AACA,gBAAI5hB,MAAM,CAAC0oB,SAAP,EAAJ,EAAwB;AACtB,kBAAI9lC,WAAW,GAAG4lC,QAAd,KAA2B,CAA/B,EAAkC;AAChCxoB,gBAAAA,MAAM,CAAC4I,KAAP;AACA5I,gBAAAA,MAAM,CAAC0I,IAAP;AACD;AACF;;AACD8f,YAAAA,QAAQ,GAAG5lC,WAAX;AACD,WAToB,EASlB,IATkB,CAArB;AAUD;AACF,OAdD;;AAeA,YAAM+lC,UAAU,GAAG,MAAM;AACvBzvB,QAAAA,aAAa,CAACqvB,OAAD,CAAb;AACAC,QAAAA,QAAQ,GAAG,CAAX;AACD,OAHD;;AAIAxoB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAACyB,OAAtB,EAA+B2C,WAA/B;AACAzoB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAACuC,MAAtB,EAA8B6B,WAA9B;AACAzoB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAAC0D,UAAtB,EAAkCU,WAAlC;AACAzoB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAAC2B,MAAtB,EAA8B2C,UAA9B;AACA3oB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAACmC,IAAtB,EAA4BmC,UAA5B;AACA3oB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAACwD,YAAtB,EAAoCc,UAApC;AACA3oB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAACtS,KAAtB,EAA6B4W,UAA7B;AACA3oB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAAC6B,gBAAtB,EAAwCyC,UAAxC;AACA3oB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAACuE,OAAtB,EAA+BD,UAA/B;AACD;;AAED,SAAKrD,kBAAL,GAA0B,MAAM,EAAhC;AACD,GAjcoC;;;AAocrCC,EAAAA,kBAAkB,CAAC;AAAClB,IAAAA,WAAD;AAAcrkB,IAAAA;AAAd,GAAD,EAAwB;AACxCA,IAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAAC0D,UAAtB,EAAkC,MAAM;AACtC,YAAMtsB,KAAK,GAAGuE,MAAM,CAACie,eAAP,EAAd;AACAxiB,MAAAA,KAAK,CAAC7Y,WAAN,GAAoBod,MAAM,CAAC4hB,cAAP,EAApB;AACD,KAHD;AAID;;AAEDyE,EAAAA,mBAAmB,CAAC;AAAChC,IAAAA,WAAD;AAAcrkB,IAAAA;AAAd,GAAD,EAAwB;AACzC,QAAIA,MAAM,CAACwlB,MAAP,MAAmBxlB,MAAM,CAAC+iB,aAAP,OAA2B,MAAlD,EAA0D;AACxD/iB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAAC2B,MAAtB,EAA8B,MAAM;AAClC,cAAM6C,SAAS,GAAG,KAAK7oB,MAAL,CAAYie,eAAZ,EAAlB;;AACA,YAAI,CAAC4K,SAAS,CAACC,KAAf,EAAsB;AACpB,cAAIC,gBAAgB,GAAG,KAAvB;AACAF,UAAAA,SAAS,CAACC,KAAV,GAAkBD,SAAS,CAACngB,IAA5B;;AACAmgB,UAAAA,SAAS,CAACngB,IAAV,GAAiB,YAAY;AAC3B,gBAAIqgB,gBAAJ,EAAsB;AACpBA,cAAAA,gBAAgB,GAAG,KAAnB;AACA,qBAAOF,SAAS,CAACC,KAAV,EAAP;AACD,aAHD,MAGO;AACL,qBAAOxmB,OAAO,CAACgB,MAAR,EAAP;AACD;AACF,WAPD;;AAQAtD,UAAAA,MAAM,CAAC8oB,KAAP,GAAe9oB,MAAM,CAAC0I,IAAtB;;AACA1I,UAAAA,MAAM,CAAC0I,IAAP,GAAc,YAAY;AACxBqgB,YAAAA,gBAAgB,GAAG,IAAnB;AACA,mBAAO/oB,MAAM,CAAC8oB,KAAP,EAAP;AACD,WAHD;AAID;AACF,OAnBD;AAoBA9oB,MAAAA,MAAM,CAACpO,EAAP,CAAUyyB,WAAW,CAACuB,IAAtB,EAA4B,MAAM;AAChC,cAAMiD,SAAS,GAAG,KAAK7oB,MAAL,CAAYie,eAAZ,EAAlB;;AACA,YAAI4K,SAAS,CAACC,KAAd,EAAqB;AACnBD,UAAAA,SAAS,CAACngB,IAAV,GAAiBmgB,SAAS,CAACC,KAA3B;AACAD,UAAAA,SAAS,CAACC,KAAV,GAAkB7kC,SAAlB;AACD;;AACD,YAAI+b,MAAM,CAAC8oB,KAAX,EAAkB;AAChB9oB,UAAAA,MAAM,CAAC0I,IAAP,GAAc1I,MAAM,CAAC8oB,KAArB;AACA9oB,UAAAA,MAAM,CAAC8oB,KAAP,GAAe7kC,SAAf;AACD;AACF,OAVD;AAWD;;AAED,SAAKoiC,mBAAL,GAA2B,MAAM,EAAjC;AACD;;AAED2C,EAAAA,MAAM,GAAG;AACP,WACEtpB;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAmC,MAAA,GAAG,EAAEwe,KAAxC;AAA+C,MAAA,GAAG,EAAE,KAAK9e,QAAzD;AAAA,gBACEM;AAAO,QAAA,GAAG,EAAE,KAAKrf,KAAL,CAAW+e;AAAvB;AADF,MADF;AAKD;;AAvfoC;;oCAAjCikB,6BACe;AACjBiB,EAAAA,UAAU,EAAE10B,SAAS,CAACG,MAAV,CAAiB0sB,UADZ;AAEjBz0B,EAAAA,MAAM,EAAE4H,SAAS,CAAC3O,MAFD;AAGjB4W,EAAAA,QAAQ,EAAEjI,SAAS,CAACq5B,IAHH;AAIjBh9B,EAAAA,OAAO,EAAE2D,SAAS,CAACE,MAJF;AAKjBgsB,EAAAA,YAAY,EAAElsB,SAAS,CAAC3O,MALP;AAMjBkgB,EAAAA,KAAK,EAAEvR,SAAS,CAAC3O,MAAV,CAAiBw7B,UANP;AAOjBnrB,EAAAA,OAAO,EAAE1B,SAAS,CAACuS,KAPF;AAQjB/C,EAAAA,QAAQ,EAAExP,SAAS,CAAC3O,MARH;AAUjBqgB,EAAAA,oBAAoB,EAAE1R,SAAS,CAACpO,IAVf;AAWjBwjC,EAAAA,SAAS,EAAEp1B,SAAS,CAACpO,IAXJ;AAYjBikC,EAAAA,cAAc,EAAE71B,SAAS,CAACpO,IAZT;AAajBmkC,EAAAA,OAAO,EAAE/1B,SAAS,CAACpO,IAbF;AAcjBqkC,EAAAA,MAAM,EAAEj2B,SAAS,CAACpO,IAdD;AAejBukC,EAAAA,SAAS,EAAEn2B,SAAS,CAACpO,IAfJ;AAgBjBykC,EAAAA,QAAQ,EAAEr2B,SAAS,CAACpO,IAhBH;AAiBjB2kC,EAAAA,OAAO,EAAEv2B,SAAS,CAACpO,IAjBF;AAkBjBskB,EAAAA,OAAO,EAAElW,SAAS,CAACpO,IAlBF;AAmBjB8kC,EAAAA,aAAa,EAAE12B,SAAS,CAACpO,IAnBR;AAoBjBmlC,EAAAA,MAAM,EAAE/2B,SAAS,CAACpO,IApBD;AAqBjBqlC,EAAAA,QAAQ,EAAEj3B,SAAS,CAACpO,IArBH;AAsBjBylC,EAAAA,eAAe,EAAEr3B,SAAS,CAACpO,IAtBV;AAuBjB2lC,EAAAA,OAAO,EAAEv3B,SAAS,CAACpO,IAvBF;AAwBjB6lC,EAAAA,SAAS,EAAEz3B,SAAS,CAACpO,IAxBJ;AAyBjBu6B,EAAAA,gBAAgB,EAAEnsB,SAAS,CAACpO,IAzBX;AA0BjBw6B,EAAAA,iBAAiB,EAAEpsB,SAAS,CAACpO,IA1BZ;AA2BjBy6B,EAAAA,gBAAgB,EAAErsB,SAAS,CAACpO,IA3BX;AA4BjBohC,EAAAA,qBAAqB,EAAEhzB,SAAS,CAACpO,IA5BhB;AA6BjBsmC,EAAAA,cAAc,EAAEl4B,SAAS,CAACpO,IA7BT;AA8BjBwmC,EAAAA,YAAY,EAAEp4B,SAAS,CAACpO;AA9BP;;oCADf6hC,gCAkCkB;AACpBr7B,EAAAA,MAAM,EAAEA,MAAM,CAACjI,cADK;AAEpB8X,EAAAA,QAAQ,EAAE,KAFU;AAIpB4tB,EAAAA,cAAc,EAAE,MAAM,EAJF;AAKpBE,EAAAA,OAAO,EAAE,MAAM,EALK;AAMpBE,EAAAA,MAAM,EAAE,MAAM,EANM;AAOpBE,EAAAA,SAAS,EAAE,MAAM,EAPG;AAQpBE,EAAAA,QAAQ,EAAE,MAAM,EARI;AASpBE,EAAAA,OAAO,EAAE,MAAM,EATK;AAUpBrgB,EAAAA,OAAO,EAAE,MAAM,EAVK;AAWpBwgB,EAAAA,aAAa,EAAE,MAAM,EAXD;AAYpBK,EAAAA,MAAM,EAAE,MAAM,EAZM;AAapBE,EAAAA,QAAQ,EAAE,MAAM,EAbI;AAcpBI,EAAAA,eAAe,EAAE,MAAM,EAdH;AAepBE,EAAAA,OAAO,EAAE,MAAM,EAfK;AAgBpBE,EAAAA,SAAS,EAAE,MAAM,EAhBG;AAiBpBtL,EAAAA,gBAAgB,EAAE,MAAM,EAjBJ;AAkBpBC,EAAAA,iBAAiB,EAAE,MAAM,EAlBL;AAmBpBC,EAAAA,gBAAgB,EAAE,MAAM,EAnBJ;AAoBpB6L,EAAAA,cAAc,EAAE,MAAM,EApBF;AAqBpBE,EAAAA,YAAY,EAAE,MAAM;AArBA;;ACzOxB,MAAMkB,WAAW,GAAG7oC,KAAK,IAAI;AAC3B,QAAM8gB,KAAK,GAAGpB,gBAAU,CAACQ,OAAO,CAACC,OAAT,CAAxB;AACA,QAAMpB,QAAQ,GAAGgB,WAAW,EAA5B;AACA,QAAM4kB,SAAS,GAAGnlB,YAAY,EAA9B;AACA,QAAMyB,oBAAoB,GAAGhB,uBAAuB,EAApD;AAEA,sBACEZ,eAAC,cAAD;AACE,IAAA,KAAK,EAAEyB,KADT;AAEE,IAAA,SAAS,EAAE6jB,SAFb;AAGE,IAAA,QAAQ,EAAE5lB,QAHZ;AAIE,IAAA,oBAAoB,EAAEkC,oBAJxB;AAAA,OAKMjhB;AALN,IADF;AASD,CAfD;;ACNA,MAAM8oC,QAAQ,GAAG,CAAC,GAAG1nC,IAAJ,KAAa;AAC5B,QAAM0f,KAAK,GAAGpB,gBAAU,CAACQ,OAAO,CAACC,OAAT,CAAxB;AAEA,SAAOW,KAAK,CAACgoB,QAAN,CAAe,GAAG1nC,IAAlB,CAAP;AACD,CAJD;;ACHA,MAAM2nC,aAAa,GAAGC,UAAU,IAAI;AAClC,QAAM5c,IAAI,GAAG4c,UAAU,IAAI,CAAd,GAAkBA,UAAlB,GAA+B,CAA5C;AACA,QAAMzlC,OAAO,GAAGpB,IAAI,CAACC,KAAL,CAAWgqB,IAAI,GAAG,EAAlB,EACbtR,QADa,GAEbmuB,QAFa,CAEJ,CAFI,EAED,GAFC,CAAhB;AAGA,QAAM3lC,OAAO,GAAGnB,IAAI,CAACC,KAAL,CAAYgqB,IAAI,GAAG,EAAR,GAAc,EAAzB,EACbtR,QADa,GAEbmuB,QAFa,CAEJ,CAFI,EAED,GAFC,CAAhB;AAGA,QAAM5lC,KAAK,GAAG+oB,IAAI,IAAI,IAAR,IAAgBjqB,IAAI,CAACC,KAAL,CAAYgqB,IAAI,GAAG,EAAP,GAAY,EAAb,GAAmB,EAA9B,EAAkCtR,QAAlC,EAA9B;AAEA,SAAO,CAACzX,KAAD,EAAQC,OAAR,EAAiBC,OAAjB,EAA0B6G,MAA1B,CAAiCC,OAAjC,EAA0CrJ,IAA1C,CAA+C,GAA/C,CAAP;AACD,CAXD;;ACAA;;AAKA,MAAMkoC,eAAe,GAAG,CAAC;AAAC5oB,EAAAA,MAAD;AAASK,EAAAA,GAAT;AAAcH,EAAAA,MAAd;AAAsBI,EAAAA;AAAtB,CAAD,KAA+B;AAAA;;AACrD,QAAM;AACJ/Z,IAAAA,WADI;AAEJsV,IAAAA,KAFI;AAGJgtB,IAAAA,QAHI;AAIJjrB,IAAAA,GAJI;AAKJkrB,IAAAA,UAAU,EAAEtnC,SALR;AAMJunC,IAAAA,QAAQ,EAAErnC;AANN,MAOF2e,GAAG,CAACxI,OAAJ,IAAe,EAPnB;AAQA,QAAM;AAACsD,IAAAA,OAAD;AAAU6tB,IAAAA,cAAV;AAA0BC,IAAAA,cAA1B;AAA0CC,IAAAA,WAA1C;AAAuDC,IAAAA;AAAvD,MAA6D7oB,EAAnE;AACA,QAAM1O,MAAM,GACVoO,MAAM,CAACngB,KAAP,KAAiBiM,WAAW,CAACO,KAA7B,GACI,OADJ,GAEI2T,MAAM,CAACvN,SAAP,KAAqBjE,SAAS,CAACE,SAA/B,GACA,SADA,GAEAkP,GAAG,GACH,aADG,GAEHoC,MAAM,CAACngB,KAAP,KAAiBiM,WAAW,CAACM,KAA7B,IACA4T,MAAM,CAACngB,KAAP,KAAiBiM,WAAW,CAACG,WAD7B,GAEA,SAFA,GAGAiU,MAAM,CAACkB,WAAP,KAAuB1U,aAAW,CAACM,OAAnC,GACA,SADA,GAEAkT,MAAM,CAACkB,WAAP,KAAuB1U,aAAW,CAACK,QAAnC,GACA,WADA,GAEA,QAdN;AAeA,QAAMwe,KAAK,GAAGvL,MAAM,CAACngB,KAAP,KAAiBiM,WAAW,CAACM,KAA3C;AACA,QAAMg9B,OAAO,GACXJ,cAAc,IAAI7tB,OAAlB,IAA6B8tB,cAA7B,IAA+CC,WAAW,IAAI,IADhE;AAEA,QAAMG,eAAe,GAAG/oB,EAAE,CAACgpB,qBAAH,GAA2B,QAA3B,GAAsChmC,SAA9D;AACA,QAAMimC,WAAW,GAAG/nC,SAAS,GACxB,GAAEU,mBAAmB,CACpB,IAAIH,IAAJ,CAASP,SAAS,GAAG,IAArB,CADoB,EAEpB,OAFoB,CAGpB,MAAKU,mBAAmB,CAAC,IAAIH,IAAJ,CAASL,OAAO,GAAG,IAAnB,CAAD,EAA2B,OAA3B,CAAoC,EAJrC,GAKzB,EALJ;AAMA,QAAM8nC,YAAY,GAAGX,QAAQ,IAAK,GAAEU,WAAY,IAAGV,QAAS,EAA5D;AACA,QAAM9c,eAAe,GAAG0c,aAAa,CACnC5mC,IAAI,CAAC4nC,IAAL,CAAUvpB,MAAM,CAACoB,QAAP,CAAgByK,eAA1B,CADmC,CAArC;AAGA,QAAM2d,QAAQ,GACZP,EAAE,CAACQ,KAAH,GAAW,CAAX,IAAiB,MAAKR,EAAE,CAACpV,QAAS,OAAMoV,EAAE,CAACQ,KAAM,IAAG5d,eAAgB,EADtE;AAEA,QAAM6d,KAAK,GAAGT,EAAE,CAACliB,eAAjB;AACA,QAAM4iB,gBAAgB,GACpB,iBAAAxpB,GAAG,CAACxI,OAAJ,8DAAatR,WAAb,MAA6B,OAA7B,GAAuC,CAAC,CAAxC,aAA4C+Z,EAAE,CAAC6oB,EAA/C,2CAA4C,OAAO1xB,cADrD;AAEA,QAAMqyB,QAAQ,GAAGvjC,WAAW,KAAK,QAAhB,IAA4B,EAAE4iC,EAAE,CAACQ,KAAH,GAAW,CAAb,CAA7C;AACA,QAAMI,gBAAgB,GAAGzpB,EAAE,CAACypB,gBAA5B;AAEA,SAAO;AACLn4B,IAAAA,MADK;AAEL2Z,IAAAA,KAFK;AAGLue,IAAAA,QAHK;AAILV,IAAAA,OAJK;AAKLC,IAAAA,eALK;AAMLxtB,IAAAA,KANK;AAOL2tB,IAAAA,YAPK;AAQLN,IAAAA,WAAW,EAAE,CAACD,cAAD,IAAmBC,WAR3B;AASLQ,IAAAA,QATK;AAULE,IAAAA,KAVK;AAWLC,IAAAA,gBAXK;AAYLE,IAAAA;AAZK,GAAP;AAcD,CA7DD;;ACAA,MAAMC,YAAY,GAAG,MAAM;AACzB,QAAM;AAACjxB,IAAAA;AAAD,MAAaqG,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAA7B;AAEA,SAAO;AACL3K,IAAAA,yBAAyB,EAAE,MACzB0D,QAAQ,CAAC8H,QAAQ,CAACxL,yBAAT,EAAD,CAFL;AAGLG,IAAAA,SAAS,EAAE,MAAMuD,QAAQ,CAAC8H,QAAQ,CAACrL,SAAT,EAAD;AAHpB,GAAP;AAKD,CARD;;ACLA;AAOA,MAAMy0B,YAAU,GAAG;AACjBlW,EAAAA,QAAQ,EAAE,UADO;AAEjB1vB,EAAAA,GAAG,EAAE,KAFY;AAGjBR,EAAAA,IAAI,EAAE,KAHW;AAIjBG,EAAAA,KAAK,EAAE,MAJU;AAKjBM,EAAAA,MAAM,EAAE,MALS;AAMjB4lC,EAAAA,SAAS,EAAE,SANM;AAOjBC,EAAAA,SAAS,EAAE;AAPM,CAAnB;;AAUA,MAAMC,cAAc,GAAG,CAAC;AAAC1oB,EAAAA,GAAD;AAAM/C,EAAAA;AAAN,CAAD,KAAqB;AAC1C,QAAM;AACJ9e,IAAAA,KAAK,EAAE;AAACA,MAAAA,KAAK,EAAE+yB;AAAR;AADH,MAEFxT,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAFd;AAIA,SAAO0B,GAAG,IACR,CACE5V,WAAW,CAACC,gBADd,EAEED,WAAW,CAACE,YAFd,EAGEF,WAAW,CAACG,WAHd,EAIE9E,QAJF,CAIWyrB,WAJX,CADK,GAML7T;AAAK,IAAA,GAAG,EAAEkrB,YAAV;AAAsB,IAAA,GAAG,EAAEvoB;AAA3B,IANK,GAQL/C,QARF;AAUD,CAfD;;AAiBAyrB,cAAc,CAACprB,SAAf,GAA2B;AACzB0C,EAAAA,GAAG,EAAEzS,SAAS,CAACG,MADU;AAEzBuP,EAAAA,QAAQ,EAAE1P,SAAS,CAACgQ;AAFK,CAA3B;;AClCA;;AAGA,MAAMorB,gBAAgB,GAAG,CAAC;AAACrqB,EAAAA,MAAD;AAASE,EAAAA;AAAT,CAAD,MAAuB;AAC9CtO,EAAAA,MAAM,EACJoO,MAAM,CAACngB,KAAP,KAAiBiM,WAAW,CAACG,WAA7B,GACI,MADJ,GAEI+T,MAAM,CAACngB,KAAP,KAAiBiM,WAAW,CAACK,OAA7B,GACA,SADA,GAEA+T,MAAM,CAACkB,WAAP,KAAuB1U,aAAW,CAACM,OAAnC,GACA,SADA,GAEAkT,MAAM,CAACkB,WAAP,KAAuB1U,aAAW,CAACQ,KAAnC,GACA,QADA,GAEA,QAVwC;AAW9Co9B,EAAAA,OAAO,EACLtqB,MAAM,CAACngB,KAAP,KAAiBiM,WAAW,CAACM,KAA7B,IACA4T,MAAM,CAACngB,KAAP,KAAiBiM,WAAW,CAACG;AAbe,CAAvB,CAAzB;;ACHA,WAAe;AACbgc,EAAAA,KAAK,EACH,4sBAFW;AAGbF,EAAAA,IAAI,EACF,4nBAJW;AAKbrV,EAAAA,MAAM,EACJ,wtBANW;AAObH,EAAAA,IAAI,EACF,4VARW;AASbg4B,EAAAA,SAAS,EACP,4iCAVW;AAWbC,EAAAA,QAAQ,EACN,wiCAZW;AAabC,EAAAA,WAAW,EACT,gkCAdW;AAebC,EAAAA,SAAS,EACP,whBAhBW;AAiBb5hB,EAAAA,IAAI,EACF,wlBAlBW;AAmBb6hB,EAAAA,OAAO,EACL,wyCApBW;AAqBbza,EAAAA,KAAK,EACH,4cAtBW;AAuBb/D,EAAAA,eAAe,EACb,gZAxBW;AAyBbC,EAAAA,eAAe,EACb,gkBA1BW;AA2Bbwe,EAAAA,eAAe,EACb,gpBA5BW;AA6BbC,EAAAA,WAAW,EACT,4oBA9BW;AA+BbC,EAAAA,WAAW,EACT,oxVAhCW;AAiCbC,EAAAA,UAAU,EACR,o6cAlCW;AAmCbC,EAAAA,gBAAgB,EACd,oZApCW;AAqCbC,EAAAA,QAAQ,EACN,waAtCW;AAuCbC,EAAAA,KAAK,EACH,4XAxCW;AAyCbC,EAAAA,gBAAgB,EACd,geA1CW;AA2CbC,EAAAA,aAAa,EACX,whBA5CW;AA6CbC,EAAAA,gBAAgB,EACd,omBA9CW;AA+CbC,EAAAA,gBAAgB,EACd,omBAhDW;AAiDbC,EAAAA,gBAAgB,EACd,ojBAlDW;AAmDbC,EAAAA,OAAO,EACL,g2BApDW;AAqDbC,EAAAA,MAAM,EACJ;AAtDW,CAAf;;ACAA;AAQA,MAAMC,OAAK,GAAG;AACZC,EAAAA,MAAM,EAAE,CADI;AAEZ5X,EAAAA,QAAQ,EAAE,OAFE;AAGZsK,EAAAA,OAAO,EAAE,UAHG;AAIZuN,EAAAA,YAAY,EAAE,CAJF;AAKZ7N,EAAAA,SAAS,EAAE,QALC;AAMZC,EAAAA,KAAK,EAAE,OANK;AAOZJ,EAAAA,eAAe,EAAE;AAPL,CAAd;;AAUA,MAAMiO,aAAa,GAAGhQ,OAAO,IAAIA,OAAO,CAACiQ,WAAR,GAAsBjQ,OAAO,CAACkQ,WAA/D;;AAEA,MAAMC,OAAO,GAAG,CAAC;AACfnwB,EAAAA,KADe;AAEfowB,EAAAA,MAAM,GAAG,KAFM;AAGfC,EAAAA,YAHe;AAIfvtB,EAAAA,QAJe;AAKfmkB,EAAAA,SAAS,GAAGhhB,QAAQ,CAACI;AALN,CAAD,KAMV;AACJ,QAAMiqB,UAAU,GAAGl0B,YAAM,EAAzB;AACA,QAAMm0B,KAAK,GAAGn0B,YAAM,EAApB;AACA,QAAM,CAACo0B,IAAD,EAAOC,OAAP,IAAkB3zB,cAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACob,QAAD,EAAWwY,WAAX,IAA0B5zB,cAAQ,CAAC,OAAO;AAAC9U,IAAAA,IAAI,EAAE;AAAP,GAAP,CAAD,CAAxC;AAEA,QAAM2oC,UAAU,GAAG;AACjBC,IAAAA,YAAY,EAAE9nC,KAAK,IAAI;AACrB,UAAI,CAACunC,YAAD,IAAiBL,aAAa,CAAClnC,KAAK,CAAC+nC,aAAP,CAAlC,EAAyD;AACvDN,QAAAA,KAAK,CAACh0B,OAAN,GAAgB,CACdzT,KAAK,CAAC+nC,aAAN,CAAoBC,qBAApB,EADc,EAEd7qB,QAAQ,CAACI,IAAT,CAAcyqB,qBAAd,EAFc,CAAhB;AAIAL,QAAAA,OAAO,CAAC,IAAD,CAAP;AACD;AACF,KATgB;AAUjBM,IAAAA,YAAY,EAAE,MAAM;AAClBL,MAAAA,WAAW,CAAC;AAAC1oC,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAX;AACAyoC,MAAAA,OAAO,CAAC,KAAD,CAAP;AACD;AAbgB,GAAnB;AAgBAp0B,EAAAA,eAAS,CAAC,MAAM;AACd,QAAIm0B,IAAJ,EAAU;AACR,YAAMQ,cAAc,GAAGtpC,kBAAkB,CACvC4oC,UAAU,CAAC/zB,OAAX,CAAmBu0B,qBAAnB,EADuC,EAEvC,GAAGP,KAAK,CAACh0B,OAF8B,CAAzC;AAIAy0B,MAAAA,cAAc,CAAChpC,IAAf,KAAwBkwB,QAAQ,CAAClwB,IAAjC,IAAyC0oC,WAAW,CAACM,cAAD,CAApD;AACD;AACF,GARQ,EAQN,CAACR,IAAD,EAAOtY,QAAQ,CAAClwB,IAAhB,CARM,CAAT;AAUA,SAAO,CAAC21B,SAAS,EAAV,IAAgB1f,MAAM,CAACgzB,UAAP,CAAkB,mBAAlB,EAAuCriC,OAAvD,GACLkU,QADK,GAGLouB;AAAA,4BACGC,kBAAY,CAACruB,QAAD,EAAW6tB,UAAX,CADf,EAEGH,IAAI,iBACHY,qBAAY,CACVluB;AACE,MAAA,KAAK,EAAE,EACL,GAAG2sB,OADE;AAEL,WAAG3X,QAFE;AAGL1vB,QAAAA,GAAG,EAAG,QAAO0vB,QAAQ,CAAC1vB,GAAI,QAAO4nC,MAAO;AAHnC,OADT;AAME,MAAA,GAAG,EAAEE,UANP;AAAA,gBAQGtwB;AARH,MADU,EAWVinB,SAXU,CAHhB;AAAA,IAHF;AAqBD,CA3DD;;AA6DAkJ,OAAO,CAAChtB,SAAR,GAAoB;AAClBnD,EAAAA,KAAK,EAAE5M,SAAS,CAACgQ,IADC;AAElBgtB,EAAAA,MAAM,EAAEh9B,SAAS,CAACG,MAFA;AAGlB88B,EAAAA,YAAY,EAAEj9B,SAAS,CAACq5B,IAHN;AAIlB3pB,EAAAA,QAAQ,EAAE1P,SAAS,CAACgQ,IAJF;AAKlB6jB,EAAAA,SAAS,EAAE7zB,SAAS,CAAC3O;AALH,CAApB;;AC1EA,MAAM4sC,eAAe,GAAG,CAAC;AAACvuB,EAAAA,QAAD;AAAW,KAAGjf;AAAd,CAAD,KAA0B;AAChD,QAAM;AAACG,IAAAA,KAAK,GAAG;AAAT,MAAeuf,gBAAU,CAACQ,OAAO,CAACU,EAAT,CAAV,IAA0B,EAA/C;AACA,QAAM6sB,WAAW,GAAG5tB,cAAc,EAAlC,CAFgD;;AAKhD,SAAO1f,KAAK,CAACopC,cAAN,GACLtqB,QADK,gBAGLI,eAAC,OAAD,OAAarf,KAAb;AAAoB,IAAA,SAAS,EAAEytC,WAA/B;AAAA,cACGxuB;AADH,IAHF;AAOD,CAZD;;AAcAuuB,eAAe,CAACluB,SAAhB,GAA4B;AAC1BL,EAAAA,QAAQ,EAAE1P,SAAS,CAACgQ;AADM,CAA5B;;ACrBA;;AAIA,MAAMmuB,UAAU,GAAGx7B,MAAM,IACvBA,MAAM,KAAK,MAAX,GACI4e,QAAQ,CAACne,WADb,GAEIT,MAAM,KAAK,SAAX,GACA6S,YAAO,CAACwD,KAAR,EADA,GAEArW,MAAM,KAAK,QAAX,GACA4e,QAAQ,CAACrI,IAAT,CAAc,CAAd,CADA,GAEA1D,YAAO,CAACsD,IAAR,EAPN;;ACJA;AAKA,MAAMslB,MAAM,GAAG;AACbt3B,EAAAA,MAAM,EAAE,MADK;AAEbooB,EAAAA,OAAO,EAAE,MAFI;AAGbC,EAAAA,MAAM,EAAE,SAHK;AAIbC,EAAAA,OAAO,EAAE,CAJI;AAKbC,EAAAA,UAAU,EAAE,CALC;AAMbV,EAAAA,eAAe,EAAE,aANJ;AAObK,EAAAA,UAAU,EAAE;AAPC,CAAf;;AAUA,MAAMqP,YAAY,GAAG,CAAC;AAACptC,EAAAA,IAAD;AAAOwrC,EAAAA,KAAP;AAAc/sB,EAAAA,QAAd;AAAwB,KAAG4uB;AAA3B,CAAD,KACnBxuB;AACE,EAAA,SAAS,EAAEyuB,8BAAU,CAAC,2BAAD,EAA8BttC,IAA9B,CADvB;AAEE,EAAA,GAAG,GAAGmtC,MAAH,EAAWlpC,MAAX,EAAmBunC,KAAnB,0vCAFL;AAAA,KAGM6B,MAHN;AAAA,YAKG5uB;AALH,EADF;;AAUA2uB,YAAY,CAACtuB,SAAb,GAAyB;AACvB9e,EAAAA,IAAI,EAAE+O,SAAS,CAACG,MADO;AAEvBs8B,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O,MAFM;AAGvBqe,EAAAA,QAAQ,EAAE1P,SAAS,CAACgQ;AAHG,CAAzB;;ACtBA,MAAMwuB,IAAI,GAAG,CAAC;AAAC/B,EAAAA,KAAD;AAAQzpB,EAAAA;AAAR,CAAD,KACXlD;AACE,EAAA,SAAS,EAAC,kBADZ;AAEE,EAAA,GAAG,yBAAE;AACH/a,IAAAA,KAAK,EAAE,SADJ;AAEHM,IAAAA,MAAM,EAAE,SAFL;AAGHopC,IAAAA,kBAAkB,EAAE,QAHjB;AAIHC,IAAAA,cAAc,EAAE,OAJb;AAKHC,IAAAA,eAAe,EAAG,OAAM3rB,GAAI,GALzB;AAMHsc,IAAAA,aAAa,EAAE,MANZ;AAOHC,IAAAA,WAAW,EAAE,MAPV;AAQH,OAAGkN;AARA,GAAF;AAFL,EADF;;AAgBA+B,IAAI,CAACzuB,SAAL,GAAiB;AACf0sB,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O,MADF;AAEf2hB,EAAAA,GAAG,EAAEhT,SAAS,CAACG;AAFA,CAAjB;AAIAq+B,IAAI,CAACzb,YAAL,GAAoB;AAClB0Z,EAAAA,KAAK,EAAE;AADW,CAApB;;AClBA,MAAMmC,YAAU,GAAG,CAAC;AAClB3tC,EAAAA,IAAI,GAAG,EADW;AAElB+hB,EAAAA,GAFkB;AAGlBypB,EAAAA,KAAK,GAAG,EAHU;AAIlB/xB,EAAAA,OAAO,GAAG,MAAM,EAJE;AAKlB,KAAG4zB;AALe,CAAD,kBAOjBxuB,eAAC+uB,YAAD;AAAQ,EAAA,KAAK,EAAEpC,KAAf;AAAsB,EAAA,IAAI,EAAExrC,IAA5B;AAAkC,EAAA,OAAO,EAAEyZ,OAA3C;AAAA,KAAwD4zB,MAAxD;AAAA,yBACExuB,eAAC,IAAD;AAAM,IAAA,GAAG,EAAEkD,GAAX;AAAgB,IAAA,KAAK,EAAEypB,KAAK,CAACqC;AAA7B;AADF,EAPF;;AAYAF,YAAU,CAAC7uB,SAAX,GAAuB;AACrBiD,EAAAA,GAAG,EAAEhT,SAAS,CAACG,MAAV,CAAiB0sB,UADD;AAErB57B,EAAAA,IAAI,EAAE+O,SAAS,CAACG,MAFK;AAGrB4+B,EAAAA,OAAO,EAAE/+B,SAAS,CAACG,MAHE;AAIrBuK,EAAAA,OAAO,EAAE1K,SAAS,CAACpO,IAJE;AAKrB6qC,EAAAA,KAAK,EAAEz8B,SAAS,CAACQ,KAAV,CAAgB;AACrBs+B,IAAAA,IAAI,EAAE9+B,SAAS,CAAC3O;AADK,GAAhB;AALc,CAAvB;;ACjBA;;AAgBA,MAAM2tC,YAAU,GAAG,MAAM;AACvB,QAAMC,aAAa,GAAG1F,QAAQ,CAAC6B,gBAAD,EAAmB8D,2BAAnB,CAA9B;AACA,QAAMC,QAAQ,GAAG,CAAC5U,SAAS,EAAV,IAAgB0U,aAAa,CAAC5D,OAA/C;AACA,QAAM14B,MAAM,GAAGiH,WAAW,CAAC;AAACC,IAAAA,KAAK,EAAE,GAAR;AAAa1X,IAAAA,KAAK,EAAE8sC,aAAa,CAACt8B;AAAlC,GAAD,CAA1B;AACA,QAAM;AAACmH,IAAAA;AAAD,MAAaqG,gBAAU,CAACQ,OAAO,CAAClT,WAAT,CAA7B;;AAEA,QAAM2hC,WAAW,GAAG,CAAC,MAAM;AACzB,YAAQz8B,MAAR;AACE,WAAK,SAAL;AACE,eAAO;AAACqQ,UAAAA,GAAG,EAAE8rB,IAAI,CAAC9lB,KAAX;AAAkB+lB,UAAAA,OAAO,EAAE;AAA3B,SAAP;;AACF,WAAK,QAAL;AACE,eAAO;AAAC/rB,UAAAA,GAAG,EAAE8rB,IAAI,CAACr7B,MAAX;AAAmBs7B,UAAAA,OAAO,EAAE;AAA5B,SAAP;;AACF;AACE,eAAO;AAAC/rB,UAAAA,GAAG,EAAE8rB,IAAI,CAAChmB,IAAX;AAAiBimB,UAAAA,OAAO,EAAE;AAA1B,SAAP;AANJ;AAQD,GATmB,GAApB;;AAWA,sBACEjvB,eAACitB,eAAD;AAAS,IAAA,KAAK,eAAEjtB,eAAC,OAAD;AAAS,MAAA,IAAI,EAAEsvB,WAAW,CAACL;AAA3B,MAAhB;AAAwD,IAAA,MAAM,EAAC,MAA/D;AAAA,2BACEjvB,eAAC8uB,YAAD;AACE,MAAA,IAAI,EAAES,MAAE,CACN,aADM,EAEN,yBAFM,EAGL,4BAA2B18B,MAAO,EAH7B,CADV;AAME,MAAA,QAAQ,EAAEw8B,QANZ;AAAA,SAOMC,WAPN;AAQE,MAAA,OAAO,EAAE,MAAMt1B,QAAQ,CAACq0B,UAAU,CAACx7B,MAAD,CAAX;AARzB;AADF,IADF;AAcD,CA/BD;;;ACRA,MAAM85B,OAAK,GAAG;AACZ3X,EAAAA,QAAQ,EAAE,UADE;AAEZzvB,EAAAA,MAAM,EAAE,MAFI;AAGZk5B,EAAAA,OAAO,EAAE,MAHG;AAIZE,EAAAA,UAAU,EAAE,QAJA;AAKZU,EAAAA,MAAM,EAAE,SALI;AAMZH,EAAAA,UAAU,EAAE,MANA;AAOZO,EAAAA,WAAW,EAAE;AAPD,CAAd;AAUA,MAAM+P,SAAS,GAAG;AAChBxa,EAAAA,QAAQ,EAAE,UADM;AAEhBya,EAAAA,IAAI,EAAE,MAFU;AAGhBlqC,EAAAA,MAAM,EAAE,KAHQ;AAIhBmqC,EAAAA,QAAQ,EAAE,QAJM;AAKhBC,EAAAA,UAAU,EAAE,0BALI;AAMhB,WAAS;AACP3a,IAAAA,QAAQ,EAAE,UADH;AAEP1vB,IAAAA,GAAG,EAAE,GAFE;AAGPR,IAAAA,IAAI,EAAE,GAHC;AAIPG,IAAAA,KAAK,EAAE,MAJA;AAKPM,IAAAA,MAAM,EAAE;AALD;AANO,CAAlB;AAeA,MAAMqqC,SAAS,GAAG;AAChB5a,EAAAA,QAAQ,EAAE,UADM;AAEhBzvB,EAAAA,MAAM,EAAEiqC,SAAS,CAACjqC,MAFF;AAGhBN,EAAAA,KAAK,EAAE,KAHS;AAIhBmmC,EAAAA,SAAS,EAAE,kBAJK;AAKhBvM,EAAAA,eAAe,EAAE;AALD,CAAlB;AAQA,MAAMgR,UAAU,GAAG;AACjB7a,EAAAA,QAAQ,EAAE,UADO;AAEjB1vB,EAAAA,GAAG,EAAE,KAFY;AAGjBC,EAAAA,MAAM,EAAE,MAHS;AAIjBN,EAAAA,KAAK,EAAE,MAJU;AAKjB4nC,EAAAA,YAAY,EAAE,MALG;AAMjBhO,EAAAA,eAAe,EAAE,MANA;AAOjBiR,EAAAA,SAAS,EAAE,gCAPM;AAQjB1E,EAAAA,SAAS,EAAE;AARM,CAAnB;;AAWA,MAAM2E,cAAc,GAAGnqC,KAAK,IAAI;AAAA;;AAC9B,QAAM;AAACoqC,IAAAA,KAAK,EAAEnrC,CAAR;AAAWorC,IAAAA,KAAK,EAAEnb;AAAlB,MACJ,mBAAAlvB,KAAK,CAACsqC,OAAN,kEAAgB,CAAhB,gCAAsBtqC,KAAK,CAACuqC,cAA5B,0DAAsB,sBAAuB,CAAvB,CAAtB,KAAmDvqC,KADrD;AAEA,QAAM;AAACX,IAAAA,KAAD;AAAQH,IAAAA;AAAR,MAAgBc,KAAK,CAAC+nC,aAAN,CAAoBC,qBAApB,EAAtB;AACA,SAAO;AAAC/oC,IAAAA,CAAD;AAAIiwB,IAAAA,CAAJ;AAAO7vB,IAAAA,KAAP;AAAcH,IAAAA;AAAd,GAAP;AACD,CALD;;AAOA,MAAMsrC,cAAc,GAAG,CAAC;AAACvrC,EAAAA,CAAD;AAAIC,EAAAA,IAAJ;AAAUG,EAAAA;AAAV,CAAD,KACrBnC,IAAI,CAACR,GAAL,CAAS,CAAT,EAAYQ,IAAI,CAACV,GAAL,CAAS,CAACyC,CAAC,GAAGC,IAAL,IAAaG,KAAtB,EAA6B,CAA7B,CAAZ,CADF;;AAGA,MAAMorC,wBAAwB,GAAG,CAAC;AAACvvC,EAAAA,KAAD;AAAQwvC,EAAAA,MAAR;AAAgBC,EAAAA;AAAhB,CAAD,KAA8B;AAC7D,QAAM9yB,IAAI,GAAG,MAAM;AACjB,QAAI,CAAC3c,KAAK,CAAC0vC,SAAX,EAAsB;AACpB;AACD;;AACD,QAAI1vC,KAAK,CAAC8P,IAAN,KAAe,OAAnB,EAA4B;AAC1B2/B,MAAAA,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAGzvC,KAAK,CAAC8E,KAAT,EAAgB9E,KAAhB,CAAP;AACD,KAFD,MAEO;AACLwvC,MAAAA,MAAM,CAACxvC,KAAK,CAAC8E,KAAP,EAAc9E,KAAd,CAAN;AACD;;AACDA,IAAAA,KAAK,CAAC0vC,SAAN,GAAkB,KAAlB;AACD,GAVD;;AAWA,QAAMC,QAAQ,GAAG,MAAM;AACrB,QAAI3vC,KAAK,CAAC0vC,SAAV,EAAqB;AACnB;AACD;;AACD1vC,IAAAA,KAAK,CAAC0vC,SAAN,GAAkB,IAAlB;AACAE,IAAAA,qBAAqB,CAACjzB,IAAD,CAArB;AACD,GAND;;AAQA,SAAO;AACLkzB,IAAAA,aAAa,EAAE/qC,KAAK,IAAI;AAAA;;AACtB,YAAMgL,IAAI,GACRhL,KAAK,CAACgrC,OAAN,GAAgB,CAAhB,IAAqB,oBAAAhrC,KAAK,CAACsqC,OAAN,oEAAenkC,MAAf,IAAwB,CAA7C,GAAiD,QAAjD,GAA4D,MAD9D;AAEAnL,MAAAA,MAAM,CAACgJ,MAAP,CAAc9I,KAAd,EAAqB;AAAC8E,QAAAA,KAAD;AAAQgL,QAAAA,IAAR;AAAc,WAAGm/B,cAAc,CAACnqC,KAAD;AAA/B,OAArB;AACA6qC,MAAAA,QAAQ;AACT,KANI;AAOLI,IAAAA,cAAc,EAAEjrC,KAAK,IAAI;AACvB,YAAMgL,IAAI,GAAG,OAAb;AACAhQ,MAAAA,MAAM,CAACgJ,MAAP,CAAc9I,KAAd,EAAqB;AAAC8E,QAAAA,KAAD;AAAQgL,QAAAA;AAAR,OAArB;AACA6/B,MAAAA,QAAQ;AACT,KAXI;AAYLhzB,IAAAA;AAZK,GAAP;AAcD,CAlCD;;AAoCA,MAAMqzB,aAAa,GAAG,CAAC;AACrBC,EAAAA,aADqB;AAErBJ,EAAAA,aAFqB;AAGrBE,EAAAA,cAHqB;AAIrBG,EAAAA;AAJqB,CAAD,KAMpBj2B,MAAM,CAACgzB,UAAP,CAAkB/R,gBAAlB,EAAoCtwB,OAApC,GACI;AAACqlC,EAAAA,aAAD;AAAgBJ,EAAAA,aAAhB;AAA+BE,EAAAA,cAA/B;AAA+CG,EAAAA;AAA/C,CADJ,GAEI;AACEC,EAAAA,YAAY,EAAEF,aADhB;AAEEG,EAAAA,WAAW,EAAEP,aAFf;AAGEQ,EAAAA,UAAU,EAAEvrC,KAAK,IAAI;AACnBirC,IAAAA,cAAc,CAACjrC,KAAD,CAAd;AACAorC,IAAAA,WAAW,CAACprC,KAAD,CAAX;AACD;AANH,CARN;;;;;;;;;;;;AAiBA,MAAMwrC,YAAY,GAAG,CAAC;AACpBhvC,EAAAA,GAAG,GAAG,CADc;AAEpBE,EAAAA,GAAG,GAAG,GAFc;AAGpBD,EAAAA,KAHoB;AAIpBgvC,EAAAA,KAAK,GAAG,EAJY;AAKpBC,EAAAA,SAAS,GAAG,EALQ;AAMpBC,EAAAA,OAAO,GAAG,EANU;AAOpBZ,EAAAA,aAPoB;AAQpBE,EAAAA,cARoB;AASpBW,EAAAA,QAToB;AAUpBC,EAAAA;AAVoB,CAAD,KAWf;AACJ,QAAMC,YAAY,GAAGx4B,YAAM,CAAC,EAAD,CAA3B;AACA,QAAM,CAACy4B,UAAD,EAAaC,aAAb,IAA8Bh4B,cAAQ,CAAC,CAAC,CAAF,CAA5C;AACA,QAAMi4B,eAAe,GACnB,CAAC,CAACF,UAAU,IAAI,CAAd,GAAkBA,UAAlB,GAA+BtvC,KAAhC,IAAyCD,GAA1C,KAAkDE,GAAG,GAAGF,GAAxD,CADF;AAEA,QAAM0vC,eAAe,GAAGzB,wBAAwB,CAAC;AAC/CvvC,IAAAA,KAAK,EAAE4wC,YAAY,CAACr4B,OAD2B;AAE/Ci3B,IAAAA,MAAM,EAAE,CAAC1qC,KAAD,EAAQ;AAACgL,MAAAA,IAAD;AAAO/L,MAAAA,CAAP;AAAUiwB,MAAAA,CAAV;AAAa7vB,MAAAA,KAAb;AAAoBH,MAAAA;AAApB,KAAR,KAAsC;AAC5C,YAAMitC,YAAY,GAAG3vC,GAAG,GAAGE,GAAG,GAAG8tC,cAAc,CAAC;AAACvrC,QAAAA,CAAD;AAAII,QAAAA,KAAJ;AAAWH,QAAAA;AAAX,OAAD,CAA/C;AACA6rC,MAAAA,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAG/qC,KAAH,EAAU;AAACvD,QAAAA,KAAK,EAAE0vC,YAAR;AAAsBltC,QAAAA,CAAtB;AAAyBiwB,QAAAA;AAAzB,OAAV,CAAb;;AACA,UAAIlkB,IAAI,KAAK,QAAb,EAAuB;AACrBghC,QAAAA,aAAa,CAACG,YAAD,CAAb;AACAP,QAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAG5rC,KAAH,EAAU;AAACvD,UAAAA,KAAK,EAAE0vC,YAAR;AAAsBltC,UAAAA,CAAtB;AAAyBiwB,UAAAA;AAAzB,SAAV,CAAR;AACD;AACF,KAT8C;AAU/Cyb,IAAAA,OAAO,EAAE,MAAMM,cAAN,aAAMA,cAAN,uBAAMA,cAAc;AAVkB,GAAD,CAAhD;;AAYA,QAAMmB,eAAe,GAAGpsC,KAAK,IAAI;AAC/B,QAAIA,KAAK,CAACqsC,SAAV,EAAqB;AACnBrsC,MAAAA,KAAK,CAAC+nC,aAAN,CAAoBuE,qBAApB,CAA0CtsC,KAAK,CAACqsC,SAAhD;AACD;;AACDL,IAAAA,aAAa;AACb,UAAMG,YAAY,GAAG3vC,GAAG,GAAGE,GAAG,GAAG8tC,cAAc,CAACL,cAAc,CAACnqC,KAAD,CAAf,CAA/C;AACAksC,IAAAA,eAAe,CAACr0B,IAAhB;AACAg0B,IAAAA,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAG7rC,KAAH,EAAU;AAACvD,MAAAA,KAAK,EAAE0vC;AAAR,KAAV,CAAjB;AACD,GARD;;AAUA,SACE/D;AACE,IAAA,SAAS,EAAG,sBAAqBsD,SAAU,EAD7C;AAEE,IAAA,GAAG,EAAE3E,OAFP;AAGE,IAAA,OAAO,EAAE/mC,KAAK,IAAIA,KAAK,CAACusC,eAAN,EAHpB;AAAA,OAIMrB,aAAa,CAAC;AAChBC,MAAAA,aAAa,EAAEnrC,KAAK,IAAI;AACtB,YAAIA,KAAK,CAACgL,IAAN,KAAe,aAAnB,EAAkC;AAChChL,UAAAA,KAAK,CAAC+nC,aAAN,CAAoByE,iBAApB,CAAsCxsC,KAAK,CAACqsC,SAA5C;AACD;;AACDH,QAAAA,eAAe,CAACnB,aAAhB,CAA8B/qC,KAA9B;AACD,OANe;AAOhB,SAAGksC,eAPa;AAQhBd,MAAAA,WAAW,EAAEgB;AARG,KAAD,CAJnB;AAAA,eAeEhyB;AACE,MAAA,SAAS,EAAG,2BAA0BuxB,OAAO,CAACc,IAAR,IAAgB,EAAG,EAD3D;AAEE,MAAA,GAAG,EAAE7C,SAFP;AAAA,gBAIExvB;AACE,QAAA,GAAG,QADL;AAEE,QAAA,SAAS,EAAG,4BAA2BuxB,OAAO,CAACe,KAAR,IAAiB,EAAG,EAF7D;AAGE,QAAA,KAAK,EAAE;AAAClH,UAAAA,SAAS,EAAG,cAAayG,eAAe,GAAG,GAAlB,GAAwB,GAAI;AAAtD;AAHT;AAJF,MAfF,EAyBGR,KAAK,CAAC5vC,GAAN,CAAUuzB,QAAQ,IACjBhV;AAEE,MAAA,GAAG,EAAE4vB,SAFP;AAGE,MAAA,SAAS,EAAE2B,OAAO,CAACgB,MAHrB;AAIE,MAAA,KAAK,EAAE;AAACztC,QAAAA,IAAI,EAAG,GAAGkwB,QAAQ,GAAG1yB,GAAZ,GAAmB,GAAI;AAAjC;AAJT,OACO0yB,QADP,CADD,CAzBH,EAiCEhV;AACE,MAAA,GAAG,EAAE6vB,UADP;AAEE,MAAA,SAAS,EAAG,4BAA2B0B,OAAO,CAACiB,KAAM,EAFvD;AAGE,MAAA,KAAK,EAAE;AAAC1tC,QAAAA,IAAI,EAAG,QAAO+sC,eAAe,GAAG,GAAI;AAArC;AAHT,MAjCF;AAAA,IADF;AAyCD,CA/ED;;AAiFAT,YAAY,CAACnxB,SAAb,GAAyB;AACvB7d,EAAAA,GAAG,EAAE8N,SAAS,CAACE,MADQ;AAEvB9N,EAAAA,GAAG,EAAE4N,SAAS,CAACE,MAFQ;AAGvB/N,EAAAA,KAAK,EAAE6N,SAAS,CAACE,MAHM;AAIvBihC,EAAAA,KAAK,EAAEnhC,SAAS,CAACuS,KAJM;AAKvB6uB,EAAAA,SAAS,EAAEphC,SAAS,CAACG,MALE;AAMvBkhC,EAAAA,OAAO,EAAErhC,SAAS,CAAC3O,MANI;AAOvBovC,EAAAA,aAAa,EAAEzgC,SAAS,CAACpO,IAPF;AAQvB+uC,EAAAA,cAAc,EAAE3gC,SAAS,CAACpO,IARH;AASvB0vC,EAAAA,QAAQ,EAAEthC,SAAS,CAACpO,IATG;AAUvB2vC,EAAAA,iBAAiB,EAAEvhC,SAAS,CAACpO;AAVN,CAAzB;;ACpMA;AAMA,MAAM2wC,gBAAc,GAAG;AACrBzd,EAAAA,QAAQ,EAAE,UADW;AAErBgK,EAAAA,SAAS,EAAE;AAFU,CAAvB;AAKA,MAAMkM,UAAU,GAAG;AACjBl0B,EAAAA,MAAM,EAAE,iBADS;AAEjB84B,EAAAA,SAAS,EAAE,gCAFM;AAGjBjR,EAAAA,eAAe,EAAE;AAHA,CAAnB;;AAMA,MAAM6T,cAAc,GAAG,CAAC;AACtBpB,EAAAA,SADsB;AAEtB3E,EAAAA,KAFsB;AAGtB5f,EAAAA,IAHsB;AAItBgI,EAAAA,KAJsB;AAKtBlwB,EAAAA,CALsB;AAMtBiwB,EAAAA,CANsB;AAOtB7vB,EAAAA,KAPsB;AAQtBM,EAAAA;AARsB,CAAD,KAUrByoC;AAAK,EAAA,GAAG,EAAEyE,gBAAV;AAA0B,EAAA,SAAS,EAAEnB,SAArC;AAAgD,EAAA,KAAK,EAAE3E,KAAvD;AAAA,aACE3sB;AACE,IAAA,GAAG,EAAEkrB,UADP;AAEE,IAAA,KAAK,EAAE;AACLjmC,MAAAA,KAAK,EAAG,GAAEA,KAAM,IADX;AAELM,MAAAA,MAAM,EAAG,GAAEA,MAAO,IAFb;AAGLspC,MAAAA,eAAe,EAAG,OAAM9Z,KAAM,GAHzB;AAIL4Z,MAAAA,kBAAkB,EAAG,IAAG9pC,CAAE,OAAMiwB,CAAE;AAJ7B;AAFT,IADF,EAUG4U,aAAa,CAAC3c,IAAD,CAVhB;AAAA,EAVF;;AAwBA2lB,cAAc,CAACzyB,SAAf,GAA2B;AACzBqxB,EAAAA,SAAS,EAAEphC,SAAS,CAACG,MADI;AAEzBs8B,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O,MAFQ;AAGzBwrB,EAAAA,IAAI,EAAE7c,SAAS,CAACE,MAHS;AAIzB2kB,EAAAA,KAAK,EAAE7kB,SAAS,CAACG,MAJQ;AAKzBxL,EAAAA,CAAC,EAAEqL,SAAS,CAACE,MALY;AAMzB0kB,EAAAA,CAAC,EAAE5kB,SAAS,CAACE,MANY;AAOzBnL,EAAAA,KAAK,EAAEiL,SAAS,CAACE,MAPQ;AAQzB7K,EAAAA,MAAM,EAAE2K,SAAS,CAACE;AARO,CAA3B;AAWA,oCAAeuiC,UAAI,CAACD,cAAD,CAAnB;;AChDA,MAAME,YAAY,GAAG7lB,IAAI,IAAI;AAC3B,QAAM;AAACjsB,IAAAA;AAAD,MAAUuf,gBAAU,CAACQ,OAAO,CAACS,GAAT,CAA1B;AACA,QAAMuxB,iBAAiB,GAAG/xC,KAAK,CAAC+xC,iBAAN,IAA2B,EAArD;AAEA,SACEA,iBAAiB,CAACtoC,IAAlB,CAAuBuoC,CAAC,IAAIA,CAAC,CAACrwC,SAAF,IAAesqB,IAAf,IAAuBA,IAAI,IAAI+lB,CAAC,CAACnwC,OAA7D,KACAkwC,iBAAiB,CAACrvC,KAAlB,CAAwB,CAAC,CAAzB,EAA4B,CAA5B,CADA,IAEA,EAHF;AAKD,CATD;;ACJA;AAgBA,MAAMuvC,YAAY,GAAG;AACnB/d,EAAAA,QAAQ,EAAE,UADS;AAEnByJ,EAAAA,OAAO,EAAE,MAFU;AAGnBE,EAAAA,UAAU,EAAE,QAHO;AAInB15B,EAAAA,KAAK,EAAE,MAJY;AAKnBM,EAAAA,MAAM,EAAE,MALW;AAMnBytC,EAAAA,QAAQ,EAAE,KANS;AAOnBC,EAAAA,aAAa,EAAE,KAPI;AAQnBhU,EAAAA,KAAK,EAAE;AARY,CAArB;AAWA,MAAMiU,aAAW,GAAG;AAClBzD,EAAAA,IAAI,EAAE,CADY;AAElB0D,EAAAA,MAAM,EAAE,OAFU;AAGlB,GAAE,UAASnX,gBAAiB,EAA5B,GAAgC;AAC9B,0BAAsB;AACpBoX,MAAAA,OAAO,EAAE,CADW;AAEpBC,MAAAA,UAAU,EAAE;AAFQ;AADQ,GAHd;AASlB,gCAA8B;AAC5BD,IAAAA,OAAO,EAAE;AADmB;AATZ,CAApB;AAcA,MAAME,cAAc,GAAG;AACrBxuC,EAAAA,IAAI,EAAE,GADe;AAErBooC,EAAAA,MAAM,EAAE;AAFa,CAAvB;;AAKA,MAAMqG,cAAc,GAAGC,GAAG,KAAK;AAC7BnB,EAAAA,IAAI,EAAEmB,GAAG,CAAC;AAACjuC,IAAAA,MAAM,EAAE;AAAT,GAAD,CADoB;AAE7BgtC,EAAAA,MAAM,EAAEiB,GAAG,CAAC;AAACjuC,IAAAA,MAAM,EAAE;AAAT,GAAD,CAFkB;AAG7BitC,EAAAA,KAAK,EAAEgB,GAAG,CAAC;AAACvuC,IAAAA,KAAK,EAAE,QAAR;AAAkBM,IAAAA,MAAM,EAAE;AAA1B,GAAD;AAHmB,CAAL,CAA1B;;AAMA,MAAMkuC,iBAAiB,GAAG,CAAC1P,SAAD,EAAY2P,QAAZ,EAAsB;AAACzuC,EAAAA;AAAD,IAAU,EAAhC,KAAuC;AAC/D,QAAM0uC,UAAU,GAAG,CAAA5P,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAE6P,UAAX,KAAyB,CAA5C;AACA,QAAMC,WAAW,GAAGF,UAAU,IAAG5P,SAAH,aAAGA,SAAH,uBAAGA,SAAS,CAAE+P,WAAd,CAAV,GAAsC7uC,KAA1D;AACA,SAAOnC,IAAI,CAACR,GAAL,CACL,CAACqxC,UADI,EAEL7wC,IAAI,CAACV,GAAL,CAASsxC,QAAQ,GAAGC,UAAX,GAAwB1uC,KAAK,GAAG,CAAzC,EAA4C4uC,WAA5C,CAFK,CAAP;AAID,CAPD;;AASA,MAAME,aAAa,GAAG,CAACjzC,KAAD,EAAQ;AAAC8P,EAAAA,IAAD;AAAOvO,EAAAA,KAAP;AAAcwC,EAAAA;AAAd,CAAR,KAA6B;AACjD,UAAQ+L,IAAR;AACE,SAAK,MAAL;AACE,aAAO,EAAC,GAAG9P,KAAJ;AAAWkzC,QAAAA,KAAK,EAAE,IAAlB;AAAwB3xC,QAAAA,KAAxB;AAA+BwC,QAAAA;AAA/B,OAAP;;AACF,SAAK,QAAL;AACE,aAAO,EAAC,GAAG/D,KAAJ;AAAWupC,QAAAA,OAAO,EAAE,IAApB;AAA0BhoC,QAAAA;AAA1B,OAAP;;AACF,SAAK,SAAL;AACE,aAAO,EAAC,GAAGvB,KAAJ;AAAWupC,QAAAA,OAAO,EAAE,KAApB;AAA2BhoC,QAAAA;AAA3B,OAAP;;AACF,SAAK,OAAL;AACE,aAAO,EAAC,GAAGvB,KAAJ;AAAWkzC,QAAAA,KAAK,EAAE;AAAlB,OAAP;AARJ;AAUD,CAXD;;AAaA,MAAMC,SAAO,GAAG,CAAC;AAACtH,EAAAA,KAAD;AAAQ4E,EAAAA;AAAR,CAAD,KAAsB;AACpC,QAAM;AAAC2C,IAAAA;AAAD,MAAqBvzB,UAAU,EAArC;AACA,QAAM;AACJ7f,IAAAA,KAAK,EAAE;AAACukB,MAAAA,YAAD;AAAezN,MAAAA,QAAf;AAAyB+wB,MAAAA,UAAzB;AAAqC/lC,MAAAA;AAArC,KADH;AAEJoX,IAAAA;AAFI,MAGFqG,gBAAU,CAACQ,OAAO,CAACO,cAAT,CAHd;AAIA,QAAM;AAAC8oB,IAAAA,cAAD;AAAiB5xB,IAAAA,YAAY,GAAG;AAAhC,MAAsC+H,gBAAU,CAACQ,OAAO,CAACU,EAAT,CAAV,CAAuBzgB,KAAnE;AACA,QAAM,CAAC4wC,YAAD,EAAeyC,eAAf,IAAkCC,gBAAU,CAACL,aAAD,EAAgB,EAAhB,CAAlD;AACA,QAAM3X,YAAY,GAAGljB,YAAM,EAA3B;AACA,QAAMhW,WAAW,GAAG0U,QAAQ,IAAI,CAAZ,GAAgBA,QAAhB,GAA2ByN,YAA/C;AACA,QAAMgvB,aAAa,GAAG3C,YAAY,CAACsC,KAAb,IAAsBtC,YAAY,CAACrH,OAAzD;AACA,QAAMiK,WAAW,GAAGD,aAAa,GAAG3C,YAAY,CAACrvC,KAAhB,GAAwBa,WAAzD;AACA,QAAMqxC,SAAS,GAAG3B,YAAY,CAAClB,YAAY,CAACrvC,KAAd,CAA9B;AACA,QAAMmyC,gBAAgB,GAAG,CAACtK,cAAD,IAAmBgK,gBAAnB,IAAuCG,aAAhE;AAEA,SACErG;AACE,IAAA,SAAS,EAAC,sBADZ;AAEE,IAAA,GAAG,GAAG+E,YAAH,EAAiBpG,KAAjB,6wMAFL;AAGE,IAAA,GAAG,EAAEvQ,YAHP;AAAA,eAKGsN,aAAa,CAAC4K,WAAD,CALhB,EAMEt0B,iBAACy0B,gBAAD;AAAA,gBACG,CAAC;AAACjB,QAAAA;AAAD,OAAD,KACCxzB,iBAAC,YAAD;AACE,QAAA,GAAG,EAAEkzB,aADP;AAEE,QAAA,OAAO,EAAE;AACPZ,UAAAA,KAAK,EAAEkB,GAAG,CAAC;AAAC3U,YAAAA,eAAe,EAAE;AAAlB,WAAD,CADH;AAEP,aAAG0U,cAAc,CAACC,GAAD,CAFV;AAGP,aAAGjC;AAHI,SAFX;AAOE,QAAA,mBAAmB,EAAElsB,YAAY,GAAGsjB,UAPtC;AAQE,QAAA,KAAK,EAAEzlC,WART;AASE,QAAA,GAAG,EAAEN,QATP;AAUE,QAAA,KAAK,EAAE0V,YAAY,CAAC7W,GAAb,CAAiBmE,KAAK,IAAIA,KAAK,CAAC6xB,KAAhC,CAVT;AAWE,QAAA,aAAa,EAAE,CAACuG,CAAD,EAAI;AAAC37B,UAAAA,KAAD;AAAQwC,UAAAA;AAAR,SAAJ,KACbsvC,eAAe,CAAC;AAACvjC,UAAAA,IAAI,EAAE,MAAP;AAAevO,UAAAA,KAAf;AAAsBwC,UAAAA;AAAtB,SAAD,CAZnB;AAcE,QAAA,cAAc,EAAE,MAAMsvC,eAAe,CAAC;AAACvjC,UAAAA,IAAI,EAAE;AAAP,SAAD,CAdvC;AAeE,QAAA,QAAQ,EAAE,CAACotB,CAAD,EAAI;AAAC37B,UAAAA;AAAD,SAAJ,KAAgB;AACxB2X,UAAAA,QAAQ,CAACjB,YAAM,CAACmQ,KAAP,EAAD,CAAR;AACAirB,UAAAA,eAAe,CAAC;AAACvjC,YAAAA,IAAI,EAAE,QAAP;AAAiBvO,YAAAA;AAAjB,WAAD,CAAf;AACD,SAlBH;AAAA;AAoBE,QAAA,iBAAiB,EAAE,CAAC27B,CAAD,EAAI;AAAC37B,UAAAA;AAAD,SAAJ,KAAgB;AACjC8xC,UAAAA,eAAe,CAAC;AAACvjC,YAAAA,IAAI,EAAE,SAAP;AAAkBvO,YAAAA;AAAlB,WAAD,CAAf;AACA2X,UAAAA,QAAQ,CAACyX,QAAQ,CAACrI,IAAT,CAAc/mB,KAAd,CAAD,CAAR;AACD;AAvBH;AAFJ,MANF,EAmCGqnC,aAAa,CAAC9mC,QAAD,CAnChB,EAoCG4xC,gBAAgB,IACfx0B,iBAAC0yB,gBAAD;AACE,MAAA,GAAG,EAAEY,cADP;AAEE,MAAA,KAAK,EAAE;AACLlI,QAAAA,SAAS,EAAG,cAAaqI,iBAAiB,CACxCrX,YAAY,CAAC/iB,OAD2B,EAExCq4B,YAAY,CAAC7sC,CAF2B,EAGxC0vC,SAHwC,aAGxCA,SAHwC,uBAGxCA,SAAS,CAAEvf,QAH6B,CAIxC;AALG,OAFT;AASE,MAAA,IAAI,EAAE0c,YAAY,CAACrvC,KATrB;AAUE,MAAA,KAAK,EAAEkyC,SAAS,CAACxf,KAVnB;AAAA,SAWMwf,SAAS,CAACvf;AAXhB,MArCJ;AAAA,IADF;AAsDD,CArED;;AAuEAif,SAAO,CAACh0B,SAAR,GAAoB;AAClB0sB,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O,MADC;AAElBgwC,EAAAA,OAAO,EAAErhC,SAAS,CAAC3O,MAFD;AAGlB2yC,EAAAA,gBAAgB,EAAEhkC,SAAS,CAACq5B;AAHV,CAApB;;ACjJA;AAQA,MAAMmL,MAAI,GAAG;AACXjW,EAAAA,OAAO,EAAE,MADE;AAEXE,EAAAA,UAAU,EAAE,QAFD;AAGX15B,EAAAA,KAAK,EAAE,MAHI;AAIX+tC,EAAAA,QAAQ,EAAE,QAJC;AAKXC,EAAAA,aAAa,EAAE,KALJ;AAMXhU,EAAAA,KAAK,EAAE;AANI,CAAb;AASA,MAAMiU,aAAW,GAAG;AAClBzD,EAAAA,IAAI,EAAE,CADY;AAElB0D,EAAAA,MAAM,EAAE,SAFU;AAGlB5tC,EAAAA,MAAM,EAAE,QAHU;AAIlBs5B,EAAAA,eAAe,EAAE;AAJC,CAApB;;AAOA,MAAM8V,WAAW,GAAG,CAAC;AAAChI,EAAAA;AAAD,CAAD,KAAa;AAC/BtsB,EAAAA,gBAAU,CAACQ,OAAO,CAACO,cAAT,CAAV;AACA,QAAM;AACJtgB,IAAAA,KAAK,EAAE;AAACgY,MAAAA;AAAD;AADH,MAEFuH,gBAAU,CAACQ,OAAO,CAACS,GAAT,CAFd;AAGA,QAAM;AAAC1e,IAAAA,QAAD;AAAWM,IAAAA;AAAX,MAA0BX,WAAW,CAACuW,OAAO,IAAI,EAAZ,CAA3C,CAL+B;;AAQ/B,SACEkH;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAsC,IAAA,GAAG,GAAG00B,MAAH,EAAS/H,KAAT,64DAAzC;AAAA,cACGzpC,WAAW,GAAG,CAAd,IACC8qC;AAAA,iBACGtE,aAAa,CAACxmC,WAAD,CADhB,EAEE8c;AACE,QAAA,SAAS,EAAC,oBADZ;AAEE,QAAA,GAAG,GAAGkzB,aAAH,EAAgBvG,KAAhB,aAAgBA,KAAhB,uBAAgBA,KAAK,CAAEiI,MAAvB;AAFL,QAFF,EAMGlL,aAAa,CAAC9mC,QAAD,CANhB;AAAA;AAFJ,IADF;AAcD,CAtBD;;AAuBA+xC,WAAW,CAAC10B,SAAZ,GAAwB;AACtB0sB,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O;AADK,CAAxB;;ACpCA,MAAMszC,cAAY,GAAG,CAAC;AAAClI,EAAAA;AAAD,CAAD,KAAa;AAChC,QAAM;AACJ7rC,IAAAA,KAAK,EAAE;AAACukB,MAAAA,YAAD;AAAezN,MAAAA;AAAf,KADH;AAEJoC,IAAAA;AAFI,MAGFqG,gBAAU,CAACQ,OAAO,CAACO,cAAT,CAHd;AAIA,QAAM;AAACtgB,IAAAA;AAAD,MAAUuf,gBAAU,CAACQ,OAAO,CAAClT,WAAT,CAA1B;AAEA,SACE7M,KAAK,KAAK6M,aAAW,CAACQ,KAAtB,iBACE6R,eAACitB,eAAD;AAAS,IAAA,KAAK,eAAEjtB,eAAC,OAAD;AAAS,MAAA,IAAI,EAAC;AAAd,MAAhB;AAAsD,IAAA,MAAM,EAAC,MAA7D;AAAA,2BACEA,eAAC8uB,YAAD;AACE,MAAA,KAAK,EAAEnC,KADT;AAEE,MAAA,IAAI,EAAC,2BAFP;AAGE,MAAA,GAAG,EAAEqC,IAAI,CAACvD,QAHZ;AAIE,MAAA,OAAO,EAAE,MACPzxB,QAAQ,CACNjB,YAAM,CAACqQ,IAAP,CACE,CAACxR,QAAQ,KAAKrT,SAAb,GAAyBqT,QAAzB,GAAoCyN,YAArC,IAAqD,EADvD,CADM;AALZ;AADF,IAFJ;AAkBD,CAzBD;;AA2BAwvB,cAAY,CAAC50B,SAAb,GAAyB;AACvB0sB,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O;AADM,CAAzB;;AC3BA,MAAMuzC,eAAa,GAAG,CAAC;AAACnI,EAAAA;AAAD,CAAD,KAAa;AACjC,QAAM;AACJ7rC,IAAAA,KAAK,EAAE;AAACukB,MAAAA,YAAD;AAAezN,MAAAA;AAAf,KADH;AAEJoC,IAAAA;AAFI,MAGFqG,gBAAU,CAACQ,OAAO,CAACO,cAAT,CAHd;AAIA,QAAM;AAACtgB,IAAAA;AAAD,MAAUuf,gBAAU,CAACQ,OAAO,CAAClT,WAAT,CAA1B;AAEA,SACE7M,KAAK,KAAK6M,aAAW,CAACQ,KAAtB,iBACE6R,eAACitB,eAAD;AAAS,IAAA,KAAK,eAAEjtB,eAAC,OAAD;AAAS,MAAA,IAAI,EAAC;AAAd,MAAhB;AAAuD,IAAA,MAAM,EAAC,MAA9D;AAAA,2BACEA,eAAC8uB,YAAD;AACE,MAAA,KAAK,EAAEnC,KADT;AAEE,MAAA,IAAI,EAAC,4BAFP;AAGE,MAAA,GAAG,EAAEqC,IAAI,CAACxD,SAHZ;AAIE,MAAA,OAAO,EAAE,MACPxxB,QAAQ,CACNjB,YAAM,CAACqQ,IAAP,CACE,CAACxR,QAAQ,KAAKrT,SAAb,GAAyBqT,QAAzB,GAAoCyN,YAArC,IAAqD,EADvD,CADM;AALZ;AADF,IAFJ;AAkBD,CAzBD;;AA2BAyvB,eAAa,CAAC70B,SAAd,GAA0B;AACxB0sB,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O;AADO,CAA1B;;;AC7BA,MAAMorC,OAAK,GAAG;AACZlO,EAAAA,OAAO,EAAE,aADG;AAEZE,EAAAA,UAAU,EAAE;AAFA,CAAd;AAKA;;;;;;;;;;;;AACA,MAAMoW,eAAa,GAAG,CAAC;AACrBC,EAAAA,cADqB;AAErBC,EAAAA,aAAa,GAAG,KAFK;AAGrB3yC,EAAAA,GAAG,GAAG,CAHe;AAIrB4yC,EAAAA,gBAAgB,GAAGjI;AACnB;;AALqB,CAAD,KAMhB;AACJ,QAAM;AAACzqB,IAAAA,MAAD;AAAS+C,IAAAA,KAAT;AAAgB+E,IAAAA,YAAhB;AAA8BC,IAAAA;AAA9B,MAA6CyqB,cAAc,EAAjE;AACA,QAAMG,QAAQ,GACZ5vB,KAAK,IAAI/C,MAAM,KAAK,CAApB,GACIwsB,IAAI,CAACjlB,IADT,GAEIvH,MAAM,GAAGlgB,GAAG,GAAG,CAAf,GACA0sC,IAAI,CAACrD,SADL,GAEAqD,IAAI,CAACtD,WALX;AAOA,SACEsC;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAoC,IAAA,GAAG,EAAErB,OAAzC;AAAA,eACE3sB,iBAAC,gBAAD;AACE,MAAA,KAAK,EACHA,iBAAC,OAAD;AAAS,QAAA,IAAI,EAAEuF,KAAK,GAAG,mBAAH,GAAyB;AAA7C,QAFJ;AAIE,MAAA,MAAM,EAAC,MAJT;AAAA,gBAMEvF,iBAAC+uB,YAAD;AACE,QAAA,IAAI,EAAC,2BADP;AAEE,QAAA,OAAO,EAAExpB,KAAK,GAAG,mBAAH,GAAyB,iBAFzC;AAGE,QAAA,OAAO,EAAEgF,WAHX;AAAA,kBAKEvK,iBAAC,IAAD;AAAM,UAAA,GAAG,EAAEm1B;AAAX;AALF;AANF,MADF,EAeGF,aAAa,IACZj1B,iBAAC,YAAD;AACE,MAAA,GAAG,QADL;AAKE,MAAA,KAAK,EAAEuF,KAAK,GAAG,CAAH,GAAO/C,MALrB;AAME,MAAA,GAAG,EAAElgB,GANP;AAOE,MAAA,QAAQ,EAAE,CAAC07B,CAAD,EAAI;AAAC37B,QAAAA;AAAD,OAAJ,KAAgBioB,YAAY,CAACjoB,KAAD;AAPxC,MAhBJ;AAAA,IADF;AA6BD,CA5CD;;ACVA,MAAM+yC,eAAe,GAAG,MAAM;AAC5B,QAAM;AACJt0C,IAAAA,KAAK,EAAE;AAAC0hB,MAAAA,MAAD;AAAS+C,MAAAA;AAAT,KADH;AAEJvL,IAAAA;AAFI,MAGFqG,gBAAU,CAACQ,OAAO,CAACQ,YAAT,CAHd;AAKA,SAAO;AACLmB,IAAAA,MADK;AAEL+C,IAAAA,KAFK;AAGL;AACA+E,IAAAA,YAAY,EAAEjoB,KAAK,IAAI2X,QAAQ,CAAC2X,YAAY,CAAC9H,SAAb,CAAuBxnB,KAAvB,CAAD,CAJ1B;AAKLkoB,IAAAA,WAAW,EAAE,MACXvQ,QAAQ,CAACuL,KAAK,GAAGoM,YAAY,CAACzE,MAAb,EAAH,GAA2ByE,YAAY,CAAC5H,IAAb,EAAjC;AANL,GAAP;AAQD,CAdD;;ACDA,MAAMgrB,aAAa,GAAGp0C,KAAK,iBACzBqf,eAACq1B,eAAD;AACE,EAAA,GAAG,EAAE,GADP;AAEE,EAAA,gBAAgB,EAAElH,eAFpB;AAGE,EAAA,cAAc,EAAEiH,eAHlB;AAAA,KAIMz0C;AAJN,EADF;;ACDA,MAAM20C,MAAM,GAAG7zB,KAAK,IAAI+M,IAAI,IAAIztB,MAAM,IAAI;AACxC,QAAMw0C,IAAI,GACRx0C,MAAM,CAAC6P,IAAP,KAAgBghB,MAAU,CAAC1G,mBAA3B,IACAnqB,MAAM,CAAC6P,IAAP,KAAgBghB,MAAU,CAAC9F,kBAD3B,IAEA/qB,MAAM,CAAC6P,IAAP,KAAgBgpB,MAAM,CAACliB,cAFvB,IAGA3W,MAAM,CAAC6P,IAAP,KAAgBgpB,MAAM,CAAC7kB,cAJzB,CADwC;;AAOxC,MAAIygC,OAAO,CAAC/Z,GAAR,CAAYga,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CF,IAAAA,IAAI,IAAI3hC,OAAO,CAAC8hC,KAAR,CAAc30C,MAAM,CAAC6P,IAArB,CAAR;AACA2kC,IAAAA,IAAI,IAAI3hC,OAAO,CAAC8hC,KAAR,CAAc,aAAd,EAA6B30C,MAA7B,CAAR;AACD;;AACD,MAAIipB,MAAM,GAAGwE,IAAI,CAACztB,MAAD,CAAjB,CAXwC;;AAaxC,MAAIy0C,OAAO,CAAC/Z,GAAR,CAAYga,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CF,IAAAA,IAAI,IAAI3hC,OAAO,CAAC8hC,KAAR,CAAc,YAAd,EAA4Bj0B,KAAK,CAACE,QAAN,EAA5B,CAAR;AACA4zB,IAAAA,IAAI,IAAI3hC,OAAO,CAAC+hC,QAAR,EAAR;AACD;;AACD,SAAO3rB,MAAP;AACD,CAlBD;;ACHA,MAAM4rB,KAAK,GAAGn0B,KAAK,IAAI+M,IAAI,IAAIztB,MAAM,IAAI;AACvC,SAAO,OAAOA,MAAP,KAAkB,UAAlB,GAA+BA,MAAM,CAAC0gB,KAAD,CAArC,GAA+C+M,IAAI,CAACztB,MAAD,CAA1D;AACD,CAFD;;ACAA,MAAM80C,UAAU,GAAG1kB,KAAK,IAAI1P,KAAK,IAAI+M,IAAI,IAAIztB,MAAM,IAAI;AACrD,SAAOowB,KAAK,CAAC1P,KAAK,CAACE,QAAN,EAAD,EAAmB5gB,MAAnB,CAAL,GAAkCytB,IAAI,CAACztB,MAAD,CAAtC,GAAiD,IAAxD;AACD,CAFD;;ACIO,MAAMkkB,WAAS,GAAG;AACvB6M,EAAAA,QAAQ,EAAEtjB,QAAQ,CAACC,OADI;AAEvBwX,EAAAA,YAAY,EAAE,IAFS;AAGvBsS,EAAAA,GAAG,EAAE,IAHkB;AAIvBjB,EAAAA,aAAa,EAAE,IAJQ;AAKvBrF,EAAAA,SAAS,EAAE,IALY;AAMvBnZ,EAAAA,OAAO,EAAE,IANc;AAOvB4pB,EAAAA,mBAAmB,EAAE,CAPE;AAQvBmQ,EAAAA,iBAAiB,EAAE,IARI;AASvBhO,EAAAA,QAAQ,EAAE;AACRiR,IAAAA,YAAY,EAAE,KADN;AAER/e,IAAAA,SAAS,EAAE,IAFH;AAGRgf,IAAAA,UAAU,EAAE;AAHJ;AATa,CAAlB;;AAeP,MAAMC,mBAAmB,GAAGzd,GAAG,IAAI;AACjC,SAAO;AACLvvB,IAAAA,SAAS,EAAEuvB,GAAG,CAACG,cAAJ,CAAmB/V,GADzB;AAEL7a,IAAAA,QAAQ,EAAEywB,GAAG,CAACI,aAAJ,CAAkBhW,GAFvB;AAGLna,IAAAA,QAAQ,EAAE+vB,GAAG,CAACC,aAAJ,CAAkB7V;AAHvB,GAAP;AAKD,CAND;;AAOA,MAAMszB,wBAAwB,GAAGhkB,SAAS,IAAI;AAC5C,QAAMikB,WAAW,GAAG;AAClBxU,IAAAA,IAAI,EAAE,EADY;AAElBC,IAAAA,GAAG,EAAE;AAFa,GAApB;AAIA,SAAO1P,SAAS,CAAChxB,MAAV,CAAiB,CAACC,GAAD,EAAM+K,IAAN,KAAe;AACrC/K,IAAAA,GAAG,CAAC+K,IAAI,CAACkqC,QAAN,CAAH,GAAqBlqC,IAArB;AACA,WAAO/K,GAAP;AACD,GAHM,EAGJg1C,WAHI,CAAP;AAID,CATD;;AAWA,WAAe,CAACp1C,KAAK,GAAGmkB,WAAT,EAAoBlkB,MAApB,KAA+B;AAC5C,UAAQA,MAAM,CAAC6P,IAAf;AACE,SAAKA,IAAI,CAACnC,OAAV;AACE,aAAOwW,WAAP;;AACF,SAAKrU,IAAI,CAAClC,MAAV;AACE,aAAO,EACL,GAAGuW,WADE;AAEL6M,QAAAA,QAAQ,EAAEtjB,QAAQ,CAACE,MAFd;AAGLoK,QAAAA,OAAO,EAAE/X,MAAM,CAAC+X,OAHX;AAILmN,QAAAA,YAAY,EAAEllB,MAAM,CAACklB,YAJhB;AAKLyc,QAAAA,mBAAmB,EAAE5hC,KAAK,CAAC4hC;AALtB,OAAP;;AAOF,SAAK9xB,IAAI,CAAC6d,KAAV;AACE,aAAO,EACL,GAAG3tB,KADE;AAELgY,QAAAA,OAAO,EAAE,EACP,GAAGhY,KAAK,CAACgY;AADF,SAFJ;AAKL+rB,QAAAA,QAAQ,EAAE,EACR,GAAG5f,WAAS,CAAC4f;AADL;AALL,OAAP;;AASF,SAAKj0B,IAAI,CAAC+d,gBAAV;AACE,aAAO,EACL,GAAG7tB,KADE;AAELgxB,QAAAA,QAAQ,EAAEtjB,QAAQ,CAACpB;AAFd,OAAP;;AAIF,SAAKwD,IAAI,CAACie,YAAV;AACE,aAAO,CAACqB,YAAY,KAAK,EACvB,GAAGpvB,KADoB;AAEvBy3B,QAAAA,GAAG,EAAEyd,mBAAmB,CAAC9lB,YAAY,CAACqI,GAAd,CAFD;AAGvBjB,QAAAA,aAAa,EAAEpH,YAAY,CAACoH,aAHL;AAIvBsB,QAAAA,iBAAiB,EAAE1I,YAAY,CAAC0I,iBAJT;AAKvB1G,QAAAA,gBAAgB,EAAEhC,YAAY,CAACgC,gBALR;AAMvBD,QAAAA,SAAS,EAAEgkB,wBAAwB,CAAC/lB,YAAY,CAAC+B,SAAd,CANZ;AAOvBnZ,QAAAA,OAAO,EAAE,EACP,GAAGhY,KAAK,CAACgY,OADF;AAEP,aAAGoX;AAFI,SAPc;AAWvB2iB,QAAAA,iBAAiB,EAAE,EAXI;AAYvBhO,QAAAA,QAAQ,EAAE;AACR9N,UAAAA,SAAS,EAAE,IADH;AAER+e,UAAAA,YAAY,EAAEhmC,UAAQ,CAACE,KAAT,KAAmBlP,KAAK,CAACgY,OAAN,CAActR,WAFvC;AAGRuuC,UAAAA,UAAU,EAAErzC,wBAAI,CAACwtB,YAAD,EAAe,kBAAf,CAAJ,IAA0C;AAH9C;AAZa,OAAL,CAAb,EAiBHnvB,MAAM,CAACmvB,YAjBJ,CAAP;;AAkBF,SAAKtf,IAAI,CAAC4e,cAAV;AACE,aAAO,EAAC,GAAG1uB,KAAJ;AAAW4hC,QAAAA,mBAAmB,EAAE5hC,KAAK,CAAC4hC,mBAAN,GAA4B;AAA5D,OAAP;;AACF,SAAK9xB,IAAI,CAACke,cAAV;AACE,aAAO,EACL,GAAGhuB,KADE;AAEL+xC,QAAAA,iBAAiB,EAAE9xC,MAAM,CAACqvB;AAFrB,OAAP;;AAIF,SAAKxf,IAAI,CAACue,WAAV;AACE,aAAO,EACL,GAAGruB,KADE;AAELgY,QAAAA,OAAO,EAAE,EACP,GAAGhY,KAAK,CAACgY,OADF;AAEP,aAAG/X,MAAM,CAAC+X;AAFH;AAFJ,OAAP;;AAOF,SAAKlI,IAAI,CAACvD,KAAV;AACE,aAAO,EACL,GAAGvM,KADE;AAELgxB,QAAAA,QAAQ,EAAEtjB,QAAQ,CAACnB;AAFd,OAAP;;AAIF,SAAKuD,IAAI,CAACme,sBAAV;AACE,aAAOhuB,MAAM,CAACuvB,WAAP,GACH,EACE,GAAGxvB,KADL;AAEEw2B,QAAAA,aAAa,EAAEv2B,MAAM,CAACuvB;AAFxB,OADG,GAKHxvB,KALJ;;AAMF,SAAK8P,IAAI,CAACoe,uBAAV;AACE,aAAO,EACL,GAAGluB,KADE;AAEL+jC,QAAAA,QAAQ,EAAE,EACR,GAAG/jC,KAAK,CAAC+jC,QADD;AAERkR,UAAAA,UAAU,EAAEh1C,MAAM,CAACgsB;AAFX;AAFL,OAAP;;AAOF;AACE,aAAOjsB,KAAP;AAjFJ;AAmFD,CApFD;;AChCO,MAAMmkB,WAAS,GAAG;AACvB5C,EAAAA,WAAW,EAAE1U,aAAW,CAACC,SADF;AAEvB2U,EAAAA,QAAQ,EAAE;AACR8C,IAAAA,YAAY,EAAE,CADN;AAERziB,IAAAA,QAAQ,EAAE,CAFF;AAGR+lC,IAAAA,UAAU,EAAE;AAHJ,GAFa;AAOvBnmB,EAAAA,MAAM,EAAE;AACNA,IAAAA,MAAM,EAAE,GADF;AAEN+C,IAAAA,KAAK,EAAE;AAFD,GAPe;AAWvBjD,EAAAA,QAAQ,EAAElU,cAAc,CAACE,MAXF;AAYvBkX,EAAAA,UAAU,EAAE,IAZW;AAavBwI,EAAAA,MAAM,EAAE,IAbe;AAcvBooB,EAAAA,UAAU,EAAE,OAdW;AAevBpN,EAAAA,SAAS,EAAE,KAfY;AAgBvB5sB,EAAAA,OAAO,EAAE,KAhBc;AAiBvByQ,EAAAA,KAAK,EAAE,KAjBgB;AAkBvBwpB,EAAAA,cAAc,EAAE;AAlBO,CAAlB;;AAoBP,MAAMC,gBAAgB,GAAG,CAACx1C,KAAD,EAAQuhB,WAAR,EAAqBk0B,KAArB,MAAgC,EACvD,GAAGz1C,KADoD;AAEvDuhB,EAAAA,WAFuD;AAGvD,KAAGk0B;AAHoD,CAAhC,CAAzB;;AAKA,MAAMC,aAAa,GAAG,CAAC11C,KAAD,EAAQyhB,QAAR,EAAkBg0B,KAAlB,MAA6B,EACjD,GAAGz1C,KAD8C;AAEjDyhB,EAAAA,QAAQ,EAAE,EACR,GAAGzhB,KAAK,CAACyhB,QADD;AAER,OAAGA;AAFK,GAFuC;AAMjD,KAAGg0B;AAN8C,CAA7B,CAAtB;;AAQA,MAAME,WAAW,GAAG,CAAC31C,KAAD,EAAQ0hB,MAAR,EAAgB+zB,KAAhB,MAA2B,EAC7C,GAAGz1C,KAD0C;AAE7C0hB,EAAAA,MAAM,EAAE,EACN,GAAG1hB,KAAK,CAAC0hB,MADH;AAEN,OAAGA;AAFG,GAFqC;AAM7C,KAAG+zB;AAN0C,CAA3B,CAApB;;AAQA,MAAMG,aAAa,GAAG,CAAC51C,KAAD,EAAQwhB,QAAR,EAAkBi0B,KAAlB,MAA6B,EACjD,GAAGz1C,KAD8C;AAEjDwhB,EAAAA,QAFiD;AAGjD,KAAGi0B;AAH8C,CAA7B,CAAtB;;AAMA,gBAAe,CAACz1C,KAAK,GAAGmkB,WAAT,EAAoBlkB,MAApB,KAA+B;AAC5C,UAAQA,MAAM,CAAC6P,IAAf;AACE,SAAKA,MAAI,CAACga,KAAV;AACE,aAAO0rB,gBAAgB,CAACrxB,WAAD,EAAYtX,aAAW,CAACE,QAAxB,CAAvB;;AACF,SAAK+C,MAAI,CAAC9C,OAAV;AACE,aAAOwoC,gBAAgB,CAACx1C,KAAD,EAAQ6M,aAAW,CAACG,OAApB,CAAvB;;AACF,SAAK8C,MAAI,CAACka,MAAV;AACE,aAAOwrB,gBAAgB,CAACx1C,KAAD,EAAQ6M,aAAW,CAACP,OAApB,EAA6B;AAClDyf,QAAAA,KAAK,EAAE,KAD2C;AAElDtK,QAAAA,QAAQ,EAAE0C,WAAS,CAAC1C;AAF8B,OAA7B,CAAvB;;AAIF,SAAK3R,MAAI,CAACma,QAAV;AACE,aAAOurB,gBAAgB,CAACx1C,KAAD,EAAQ6M,aAAW,CAACG,OAApB,EAA6B;AAACkgB,QAAAA,MAAM,EAAE;AAAT,OAA7B,CAAvB;;AACF,SAAKpd,MAAI,CAACvD,KAAV;AACE,UAAIvM,KAAK,CAACuhB,WAAN,KAAsB1U,aAAW,CAACM,OAAtC,EAA+C,OAAOnN,KAAP;AAC/C,aAAOw1C,gBAAgB,CAACx1C,KAAD,EAAQ6M,aAAW,CAACN,KAApB,CAAvB;;AACF,SAAKuD,MAAI,CAACqa,SAAV;AACE,aAAO,EAAC,GAAGnqB,KAAJ;AAAW,WAAGC,MAAM,CAACD;AAArB,OAAP;;AACF,SAAK8P,MAAI,CAAC/B,IAAV;AACE,aAAO/N,KAAK,CAACkoC,SAAN,GACHloC,KADG,GAEH,EACE,GAAGA,KADL;AAEE,YAAIA,KAAK,CAAC+rB,KAAN,IAAe;AACjBtK,UAAAA,QAAQ,EAAE,EAAC,GAAGzhB,KAAK,CAACyhB,QAAV;AAAoB8C,YAAAA,YAAY,EAAE;AAAlC,WADO;AAEjBwH,UAAAA,KAAK,EAAE;AAFU,SAAnB,CAFF;AAMEupB,QAAAA,UAAU,EAAE,MANd;AAOE/zB,QAAAA,WAAW,EAAE1U,aAAW,CAACK;AAP3B,OAFJ;;AAWF,SAAK4C,MAAI,CAAC9B,KAAV;AACE,aAAO,EACL,GAAGhO,KADE;AAELs1C,QAAAA,UAAU,EAAE;AAFP,OAAP;;AAIF,SAAKxlC,MAAI,CAAC1C,MAAV;AACE,aAAO,EACL,GAAGpN,KADE;AAEL,YAAIA,KAAK,CAACuhB,WAAN,KAAsB1U,aAAW,CAACK,QAAlC,IAA8C;AAChDqU,UAAAA,WAAW,EAAE1U,aAAW,CAACO;AADuB,SAAlD,CAFK;AAKL86B,QAAAA,SAAS,EAAE;AALN,OAAP;;AAOF,SAAKp4B,MAAI,CAACzC,KAAV;AACE,aAAOmoC,gBAAgB,CAACx1C,KAAD,EAAQ6M,aAAW,CAACQ,KAApB,EAA2B;AAChD66B,QAAAA,SAAS,EAAE,KADqC;AAEhDnc,QAAAA,KAAK,EAAE;AAFyC,OAA3B,CAAvB;;AAIF,SAAKjc,MAAI,CAACua,IAAV;AACE,aAAOqrB,aAAa,CAClB11C,KADkB,EAElB;AAAC8W,QAAAA,QAAQ,EAAEzV,KAAK,CAAC,CAAD,EAAIpB,MAAM,CAACgsB,IAAX,EAAiBjsB,KAAK,CAACyhB,QAAN,CAAe3f,QAAhC;AAAhB,OAFkB,EAGlB;AAACyf,QAAAA,WAAW,EAAE1U,aAAW,CAACK,QAA1B;AAAoCoO,QAAAA,OAAO,EAAE;AAA7C,OAHkB,CAApB;;AAKF,SAAKxL,MAAI,CAACwa,MAAV;AACE,aAAOorB,aAAa,CAClB11C,KADkB,EAElB;AAAC8W,QAAAA,QAAQ,EAAErT,SAAX;AAAsB8gB,QAAAA,YAAY,EAAEtkB,MAAM,CAACgsB;AAA3C,OAFkB,EAGlB,EACE,IAAIjsB,KAAK,CAACs1C,UAAN,KAAqB,OAArB,IAAgC;AAClC/zB,UAAAA,WAAW,EAAE1U,aAAW,CAACO;AADS,SAApC,CADF;AAIEkO,QAAAA,OAAO,EAAE;AAJX,OAHkB,CAApB;;AAUF,SAAKxL,MAAI,CAACsa,mBAAV;AACE,aAAOsrB,aAAa,CAClB11C,KADkB,EAElB;AACE8W,QAAAA,QAAQ,EAAErT,SADZ;AAEE8gB,QAAAA,YAAY,EAAEtkB,MAAM,CAACgsB,IAFvB;AAGEC,QAAAA,eAAe,EAAEjsB,MAAM,CAACisB;AAH1B,OAFkB,EAOlB;AACE3K,QAAAA,WAAW,EAAE1U,aAAW,CAACM,OAD3B;AAEEmoC,QAAAA,UAAU,EAAE,MAFd;AAGEpN,QAAAA,SAAS,EAAE,IAHb;AAIE5sB,QAAAA,OAAO,EAAE;AAJX,OAPkB,CAApB;;AAcF,SAAKu6B,MAAM,CAACnhC,iBAAZ;AACE,aAAO8gC,gBAAgB,CAACx1C,KAAD,EAAQ6M,aAAW,CAACK,QAApB,CAAvB;;AACF,SAAK4C,MAAI,CAACkb,kBAAV;AACE,aAAO0qB,aAAa,CAAC11C,KAAD,EAAQ;AAAC6nC,QAAAA,UAAU,EAAE5nC,MAAM,CAACgsB;AAApB,OAAR,CAApB;;AACF,SAAKnc,MAAI,CAACya,aAAV;AACE,aAAOorB,WAAW,CAAC31C,KAAD,EAAQ;AAAC0hB,QAAAA,MAAM,EAAEzhB,MAAM,CAACyhB;AAAhB,OAAR,CAAlB;;AACF,SAAK5R,MAAI,CAAC4a,KAAV;AACE,aAAOirB,WAAW,CAAC31C,KAAD,EAAQ;AAACykB,QAAAA,KAAK,EAAE;AAAR,OAAR,CAAlB;;AACF,SAAK3U,MAAI,CAAC8a,OAAV;AACE,aAAO+qB,WAAW,CAAC31C,KAAD,EAAQ;AAACykB,QAAAA,KAAK,EAAE;AAAR,OAAR,CAAlB;;AACF,SAAK3U,MAAI,CAACib,gBAAV;AACE,aAAO6qB,aAAa,CAAC51C,KAAD,EAAQC,MAAM,CAACwZ,IAAf,CAApB;;AACF,SAAK3J,MAAI,CAAC5C,QAAV;AACE,aAAOsoC,gBAAgB,CAACx1C,KAAD,EAAQ6M,aAAW,CAACK,QAApB,CAAvB;;AACF,SAAK4C,MAAI,CAACmb,OAAV;AACE,aAAOuqB,gBAAgB,CACrBx1C,KADqB,EAErBA,KAAK,CAACkoC,SAAN,GAAkBr7B,aAAW,CAACM,OAA9B,GAAwCN,aAAW,CAACO,MAF/B,CAAvB;;AAIF;AACE,aAAOpN,KAAP;AAnGJ;AAqGD,CAtGD;;AChDO,MAAMmkB,WAAS,GAAG;AACvB+b,EAAAA,YAAY,EAAE,EADS;AAEvBD,EAAAA,mBAAmB,EAAEx8B,SAFE;AAGvB08B,EAAAA,iBAAiB,EAAE,aAHI;AAIvB2V,EAAAA,YAAY,EAAE,EAJS;AAKvBlsB,EAAAA,mBAAmB,EAAE,IALE;AAMvBC,EAAAA,qBAAqB,EAAE,aANA;AAOvBsf,EAAAA,cAAc,EAAE,KAPO;AAQvB7tB,EAAAA,OAAO,EAAE,KARc;AASvBxE,EAAAA,QAAQ,EAAE,CATa;AAUvBsyB,EAAAA,cAAc,EAAE,KAVO;AAWvBgK,EAAAA,gBAAgB,EAAE,IAXK;AAYvB2C,EAAAA,mBAAmB,EAAE;AACnBzgC,IAAAA,OAAO,EAAE,KADU;AAEnB0gC,IAAAA,OAAO,EAAE;AAFU,GAZE;AAgBvB5c,EAAAA,YAAY,EAAE,KAhBS;AAiBvBqQ,EAAAA,qBAAqB,EAAE,KAjBA;AAkBvBwM,EAAAA,eAAe,EAAE,KAlBM;AAmBvB3M,EAAAA,EAAE,EAAE,EAnBmB;AAoBvBY,EAAAA,gBAAgB,EAAE,EApBK;AAqBvBnpC,EAAAA,KAAK,EAAE;AArBgB,CAAlB;;AAwBP,MAAMm1C,WAAW,GAAGj2C,MAAM,IAAI;AAC5B,QAAM;AAACk2C,IAAAA,UAAD;AAAaC,IAAAA,QAAb;AAAuBhvB,IAAAA;AAAvB,MAA0CnnB,MAAM,CAAC0X,cAAvD;AAEA,SAAO;AACLuc,IAAAA,QAAQ,EAAEiiB,UADL;AAELrM,IAAAA,KAAK,EAAEsM,QAFF;AAGLx+B,IAAAA,cAAc,EAAE3X,MAAM,CAAC2X,cAHlB;AAILwP,IAAAA;AAJK,GAAP;AAMD,CATD;;AAWA,UAAe,CAACpnB,KAAK,GAAGmkB,WAAT,EAAoBlkB,MAApB,KAA+B;AAC5C,UAAQA,MAAM,CAAC6P,IAAf;AACE,SAAKA,MAAI,CAACmD,cAAV;AACE,aAAO,EACL,GAAGjT,KADE;AAELmgC,QAAAA,iBAAiB,EAAE,MAFd;AAGLF,QAAAA,mBAAmB,EAAEhgC,MAAM,CAAC+U;AAHvB,OAAP;;AAKF,SAAKlF,MAAI,CAACoD,iBAAV;AACE,aAAO,EACL,GAAGlT,KADE;AAELkgC,QAAAA,YAAY,EAAEjgC,MAAM,CAACkJ;AAFhB,OAAP;;AAIF,SAAK2G,MAAI,CAACqD,mBAAV;AACE,aAAO,EACL,GAAGnT,KADE;AAEL6pB,QAAAA,qBAAqB,EAAE,MAFlB;AAGLD,QAAAA,mBAAmB,EAAE3pB,MAAM,CAACkV;AAHvB,OAAP;;AAKF,SAAKrF,MAAI,CAACsD,iBAAV;AACE,aAAO,EACL,GAAGpT,KADE;AAEL81C,QAAAA,YAAY,EAAE71C,MAAM,CAACkJ;AAFhB,OAAP;;AAIF,SAAK2G,MAAI,CAACuD,wBAAV;AACE,aAAO,EACL,GAAGrT,KADE;AAELozC,QAAAA,gBAAgB,EAAEnzC,MAAM,CAACqV;AAFpB,OAAP;;AAIF,SAAKxF,MAAI,CAACwD,2BAAV;AACE,aAAO,EACL,GAAGtT,KADE;AAEL+1C,QAAAA,mBAAmB,EAAE;AACnBzgC,UAAAA,OAAO,EAAErV,MAAM,CAACqV,OADG;AAEnB0gC,UAAAA,OAAO,EAAE/1C,MAAM,CAACqV,OAAP,IAAkBtV,KAAK,CAAC+1C,mBAAN,CAA0BC;AAFlC,SAFhB;AAML3M,QAAAA,WAAW,EACTppC,MAAM,CAACqV,OAAP,IAAkBtV,KAAK,CAAC+1C,mBAAN,CAA0BC,OAA5C,GACI,gBADJ,GAEIvyC;AATD,OAAP;;AAWF,SAAKqM,MAAI,CAACyD,2BAAV;AACE,aAAO,EACL,GAAGvT,KADE;AAEL,YAAIA,KAAK,CAAC+1C,mBAAN,CAA0BzgC,OAA1B,IAAqC;AACvCygC,UAAAA,mBAAmB,EAAE,EACnB,GAAG/1C,KAAK,CAAC+1C,mBADU;AAEnBC,YAAAA,OAAO,EAAE,CAACh2C,KAAK,CAAC+1C,mBAAN,CAA0BC;AAFjB,WADkB;AAKvC3M,UAAAA,WAAW,EAAErpC,KAAK,CAAC+1C,mBAAN,CAA0BC,OAA1B,GACTvyC,SADS,GAET;AAPmC,SAAzC;AAFK,OAAP;;AAYF,SAAKqM,MAAI,CAAC0D,UAAV;AACE,aAAO,EACL,GAAGxT,KADE;AAELqpC,QAAAA,WAAW,EAAEppC,MAAM,CAACyV;AAFf,OAAP;;AAIF,SAAK5F,MAAI,CAAC2D,UAAV;AACE,aAAO,EACL,GAAGzT,KADE;AAELqpC,QAAAA,WAAW,EAAE5lC;AAFR,OAAP;;AAIF,SAAKqM,MAAI,CAAC4D,cAAV;AACE,aAAO,EACL,GAAG1T,KADE;AAELopC,QAAAA,cAAc,EAAE,KAFX;AAGLK,QAAAA,qBAAqB,EAAE,IAHlB;AAILJ,QAAAA,WAAW,EAAE5lC,SAJR;AAKLsyC,QAAAA,mBAAmB,EAAE,EACnB,GAAG/1C,KAAK,CAAC+1C,mBADU;AAEnBC,UAAAA,OAAO,EAAE;AAFU,SALhB;AASLC,QAAAA,eAAe,EAAE;AATZ,OAAP;;AAWF,SAAKnmC,MAAI,CAACwE,cAAV;AACE,aAAO,EACL,GAAGtU,KADE;AAELi2C,QAAAA,eAAe,EAAE;AAFZ,OAAP;;AAIF,SAAKnmC,MAAI,CAAC6D,gBAAV;AACE,aAAO,EACL,GAAG3T,KADE;AAELypC,QAAAA,qBAAqB,EAAE,KAFlB;AAGL4M,QAAAA,0BAA0B,EAAE,KAHvB;AAIL,YAAIr2C,KAAK,CAACq2C,0BAAN,IACFr2C,KAAK,CAAC+1C,mBAAN,CAA0BzgC,OADxB,IACmC;AACnC+zB,UAAAA,WAAW,EAAE,gBADsB;AAEnC0M,UAAAA,mBAAmB,EAAE;AAACzgC,YAAAA,OAAO,EAAE,IAAV;AAAgB0gC,YAAAA,OAAO,EAAE;AAAzB;AAFc,SADvC;AAJK,OAAP;;AAUF,SAAKlmC,MAAI,CAAC8D,SAAV;AACE,aAAO,EACL,GAAG5T,KADE;AAELopC,QAAAA,cAAc,EAAE;AAFX,OAAP;;AAIF,SAAKt5B,MAAI,CAACgE,eAAV;AACE,aAAO,EACL,GAAG9T,KADE;AAELopC,QAAAA,cAAc,EAAE;AAFX,OAAP;;AAIF,SAAKt5B,MAAI,CAAC+D,SAAV;AACE,aAAO,EACL,GAAG7T,KADE;AAELopC,QAAAA,cAAc,EAAE;AAFX,OAAP;;AAIF,SAAKt5B,MAAI,CAACuE,aAAV;AACE,aAAO,EACL,GAAGrU,KADE;AAELo5B,QAAAA,YAAY,EAAEn5B,MAAM,CAACoX;AAFhB,OAAP;;AAIF,SAAKvH,MAAI,CAACtD,KAAV;AACE,aAAO,EACL,GAAGxM,KADE;AAELopC,QAAAA,cAAc,EAAE,KAFX;AAGLroC,QAAAA,KAAK,EAAEd,MAAM,CAACc;AAHT,OAAP;;AAKF,SAAK+O,MAAI,CAACmE,cAAV;AACE,aAAO,EACL,GAAGjU,KADE;AAELmpC,QAAAA,cAAc,EAAE,IAFX;AAGLryB,QAAAA,QAAQ,EAAE7W,MAAM,CAAC6W;AAHZ,OAAP;;AAKF,SAAKhH,MAAI,CAACiE,IAAV;AACA,SAAKjE,MAAI,CAACoE,aAAV;AACE,aAAO,EACL,GAAGlU,KADE;AAELsb,QAAAA,OAAO,EAAE;AAFJ,OAAP;;AAIF,SAAKxL,MAAI,CAACkE,IAAV;AACA,SAAKlE,MAAI,CAACqE,aAAV;AACE,aAAO,EACL,GAAGnU,KADE;AAELsb,QAAAA,OAAO,EAAE;AAFJ,OAAP;;AAIF,SAAKxL,MAAI,CAACsE,cAAV;AACE,aAAO,EACL,GAAGpU,KADE;AAELmpC,QAAAA,cAAc,EAAE;AAFX,OAAP;;AAIF,SAAKr5B,MAAI,CAACiD,mBAAV;AACE,aAAO,EACL,GAAG/S,KADE;AAELq2C,QAAAA,0BAA0B,EAAE,KAFvB;AAGL5M,QAAAA,qBAAqB,EAAE;AAHlB,OAAP;;AAKF,SAAKvY,IAAO,CAACxC,cAAb;AACE,aAAO,EACL,GAAG1uB,KADE;AAELspC,QAAAA,EAAE,EAAE,EAFC;AAGL9xB,QAAAA,YAAY,EAAE,EAHT;AAIL6+B,QAAAA,0BAA0B,EAAE,KAJvB;AAKLhN,QAAAA,WAAW,EAAE5lC,SALR;AAMLsyC,QAAAA,mBAAmB,EAAE,EAAC,GAAG/1C,KAAK,CAAC+1C,mBAAV;AAA+BC,UAAAA,OAAO,EAAE;AAAxC;AANhB,OAAP;;AAQF,SAAKM,MAAU,CAACjpC,KAAhB;AACE,aAAO,EACL,GAAGrN,KADE;AAELq2C,QAAAA,0BAA0B,EAAE,IAFvB;AAGL,YAAI,CAACr2C,KAAK,CAACypC,qBAAP,IACFzpC,KAAK,CAAC+1C,mBAAN,CAA0BzgC,OADxB,IACmC;AACnC+zB,UAAAA,WAAW,EAAE,gBADsB;AAEnC0M,UAAAA,mBAAmB,EAAE;AAACzgC,YAAAA,OAAO,EAAE,IAAV;AAAgB0gC,YAAAA,OAAO,EAAE;AAAzB;AAFc,SADvC;AAHK,OAAP;;AASF,SAAKlmC,MAAI,CAACyE,qBAAV;AACE,aAAO,EACL,GAAGvU,KADE;AAELwX,QAAAA,YAAY,EAAEvX,MAAM,CAACuX;AAFhB,OAAP;;AAIF,SAAK1H,MAAI,CAAC0E,gBAAV;AACE,aAAO,EACL,GAAGxU,KADE;AAELspC,QAAAA,EAAE,EAAE4M,WAAW,CAACj2C,MAAD;AAFV,OAAP;;AAIF,SAAK6P,MAAI,CAAC2E,cAAV;AACE,aAAO,EACL,GAAGzU,KADE;AAELspC,QAAAA,EAAE,EAAE;AACFQ,UAAAA,KAAK,EAAE;AADL;AAFC,OAAP;;AAMF,SAAKh6B,MAAI,CAAC6E,wBAAV;AACE,aAAO,EACL,GAAG3U,KADE;AAELkqC,QAAAA,gBAAgB,EAAEjqC,MAAM,CAAC+X;AAFpB,OAAP;;AAIF;AACE,aAAOhY,KAAP;AA5LJ;AA8LD,CA/LD;;ACpCA,MAAMmkB,WAAS,GAAG;AAChB,GAACzX,UAAU,CAACC,MAAZ,GAAqB;AACnB+U,IAAAA,MAAM,EAAE,GADW;AAEnB+C,IAAAA,KAAK,EAAE;AAFY;AADL,CAAlB;AAOA,oBAAe,CAACzkB,KAAK,GAAGmkB,WAAT,EAAoBlkB,MAApB,KAA+B;AAC5C,UAAQA,MAAM,CAAC6P,IAAf;AACE,SAAKA,MAAI,CAACia,IAAV;AACE,aAAO,EAAC,GAAG/pB,KAAJ;AAAW,SAACC,MAAM,CAAC6sB,GAAR,GAAc7sB,MAAM,CAACsB;AAAhC,OAAP;;AACF,SAAKuO,MAAI,CAAC+c,IAAV;AACE,aAAO,EAAC,GAAG7sB,KAAJ;AAAW,SAACC,MAAM,CAAC6sB,GAAR,GAAc7sB,MAAM,CAACsB;AAAhC,OAAP;AAJJ;;AAMA,SAAOvB,KAAP;AACD,CARD;;ACFO,MAAMmkB,SAAS,GAAG;AACvBnkB,EAAAA,KAAK,EAAEiM,WAAW,CAACC,gBADI;AAEvB0G,EAAAA,SAAS,EAAEjE,SAAS,CAACI,aAFE;AAGvBhO,EAAAA,KAAK,EAAE;AAHgB,CAAlB;;AAMP,MAAMof,MAAM,GAAG,CAACngB,KAAK,GAAGmkB,SAAT,EAAoBlkB,MAApB,KAA+B;AAC5C,UAAQA,MAAM,CAAC6P,IAAf;AACE,SAAKA,MAAI,CAACkC,UAAV;AACE,aAAO,EAAC,GAAGhS,KAAJ;AAAWA,QAAAA,KAAK,EAAEiM,WAAW,CAACE;AAA9B,OAAP;;AACF,SAAK2D,MAAI,CAAC1D,WAAV;AACE,aAAO,EAAC,GAAGpM,KAAJ;AAAWA,QAAAA,KAAK,EAAEiM,WAAW,CAACG;AAA9B,OAAP;;AACF,SAAK0D,MAAI,CAACmC,YAAV;AACE,aAAO,EAAC,GAAGjS,KAAJ;AAAWA,QAAAA,KAAK,EAAEiM,WAAW,CAACK;AAA9B,OAAP;;AACF,SAAKwD,MAAI,CAACoC,aAAV;AACE,aAAO,EAAC,GAAGlS,KAAJ;AAAWA,QAAAA,KAAK,EAAEiM,WAAW,CAACM;AAA9B,OAAP;;AACF,SAAKuD,MAAI,CAACsC,iBAAV;AACE,aAAO,EAAC,GAAGpS,KAAJ;AAAW4S,QAAAA,SAAS,EAAE3S,MAAM,CAAC2S;AAA7B,OAAP;;AACF,SAAK9C,MAAI,CAACtD,KAAV;AACE,aAAO;AAACxM,QAAAA,KAAK,EAAEiM,WAAW,CAACO,KAApB;AAA2BzL,QAAAA,KAAK,EAAEf,KAAK,CAACe,KAAN,CAAY4P,MAAZ,CAAmB1Q,MAAnB;AAAlC,OAAP;;AACF;AACE,aAAOD,KAAP;AAdJ;AAgBD,CAjBD;;AAmBA,cAAeL,cAAc,CAAC;AAC5BwgB,EAAAA,MAD4B;AAE5BC,EAAAA,YAF4B;AAG5BI,EAAAA,GAH4B;AAI5BH,UAAAA,QAJ4B;AAK5BI,EAAAA;AAL4B,CAAD,CAA7B;;AClBA,mBAAe,MAAM;AACnB,MAAIzgB,KAAK,GAAGu2C,OAAO,CAAC,EAAD,EAAK;AAACzmC,IAAAA,IAAI,EAAE;AAAP,GAAL,CAAnB;AACA,MAAI0mC,eAAe,GAAG,EAAtB;AACA,MAAIC,iBAAiB,GAAG,EAAxB;AACA,QAAM91B,KAAK,GAAG,EAAd;AACA,QAAM+1B,SAAS,GAAG3B,UAAU,CAC1B,CAAC/0C,KAAD,EAAQC,MAAR,KACED,KAAK,CAACmgB,MAAN,CAAangB,KAAb,KAAuBiM,WAAW,CAACO,KAAnC,IACAvM,MAAM,KAAK0wB,QAAQ,CAAC5vB,KADpB,IAEAd,MAAM,CAAC6P,IAAP,KAAgBohB,IAAO,CAACvD,KAFxB,IAGA1tB,MAAM,CAAC6P,IAAP,KAAgBghB,MAAU,CAAC9G,MAH3B,IAIA/pB,MAAM,CAAC6P,IAAP,KAAgBghB,MAAU,CAAC7G,QAJ3B,IAKAhqB,MAAM,CAAC6P,IAAP,KAAgBghB,MAAU,CAAChG,iBAL3B,IAMA7qB,MAAM,CAAC6P,IAAP,KAAgBA,MAAI,CAACqC,IARG,CAA5B;AAUA,QAAMwkC,WAAW,GAAG,CAACxpB,aAAD,EAAeupB,SAAf,EAA0B5B,KAA1B,EAAiCN,MAAjC,CAApB;AAEA,QAAMoC,gBAAgB,GAAGD,WAAW,CACjCh2C,GADsB,CAClBk2C,UAAU,IAAIA,UAAU,CAACl2B,KAAD,CADN,EAEtBhQ,MAFsB,CAEf1Q,MAAM,IAAIA,MAFK,EAGtB62C,WAHsB,CAGV,CAACvtC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACD,CAAD,CAHD,CAAzB;;AAIA,QAAMwtC,cAAc,GAAGC,SAAS,IAAIryC,QAAQ,IAAI;AAC9CqyC,IAAAA,SAAS,CAACC,IAAV,CAAetyC,QAAf;AACA,WAAO,MAAM;AACX,YAAM+iB,KAAK,GAAGsvB,SAAS,CAACE,OAAV,CAAkBvyC,QAAlB,CAAd;AACA,UAAI+iB,KAAK,IAAI,CAAb,EAAgBsvB,SAAS,CAACG,MAAV,CAAiBzvB,KAAjB,EAAwB,CAAxB;AACjB,KAHD;AAID,GAND;;AAOA,QAAM0vB,OAAO,GAAGC,0BAAM,CACpBC,mBAAQ,CAACC,gBAAK,CAAChB,OAAD,EAAUA,OAAO,CAAC,EAAD,EAAK;AAACzmC,IAAAA,IAAI,EAAE;AAAP,GAAL,CAAjB,CAAN,CADY,CAAtB;AAIA,SAAOhQ,MAAM,CAACgJ,MAAP,CAAc6X,KAAd,EAAqB;AAC1By2B,IAAAA,OAD0B;AAE1BzO,IAAAA,QAAQ,EAAE6O,8BAAU,CAACJ,OAAD,CAFM;AAG1Bl+B,IAAAA,QAAQ,EAAEjZ,MAAM,IAAI;AAClB,YAAMw3C,QAAQ,GAAGz3C,KAAjB;AACA,YAAM03C,WAAW,GAAGd,gBAAgB,CAAC32C,MAAD,CAAhB,IAA4BA,MAAhD;AACAD,MAAAA,KAAK,GAAGu2C,OAAO,CAACv2C,KAAD,EAAQ03C,WAAR,CAAf;AACAjB,MAAAA,iBAAiB,CACd/zC,KADH,GAEG2O,OAFH,CAEW1M,QAAQ,IAAIA,QAAQ,CAACgc,KAAD,EAAQ+2B,WAAR,CAF/B;;AAGA,UAAI13C,KAAK,KAAKy3C,QAAd,EAAwB;AACtBjB,QAAAA,eAAe,CAAC9zC,KAAhB,GAAwB2O,OAAxB,CAAgC1M,QAAQ,IAAIA,QAAQ,CAACgc,KAAD,EAAQ1gB,MAAR,CAApD;AACD;;AACDm3C,MAAAA,OAAO,CAACv2B,QAAR,GAAmB3H,QAAnB,CAA4Bw+B,WAA5B;AAEA,aAAO13C,KAAP;AACD,KAhByB;AAiB1B6gB,IAAAA,QAAQ,EAAE,MAAM7gB,KAjBU;AAkB1B4gB,IAAAA,kBAAkB,EAAEm2B,cAAc,CAACP,eAAD,CAlBR;AAmB1BjmB,IAAAA,qBAAqB,EAAEwmB,cAAc,CAACN,iBAAD;AAnBX,GAArB,CAAP;AAqBD,CArDD;;ACPO,MAAMkB,OAAO,GAAG,MAAM;AAC3B,QAAM;AAACz+B,IAAAA;AAAD,MAAaqG,gBAAU,CAACQ,OAAO,CAACU,EAAT,CAA7B;;AACA,QAAM5G,IAAI,GAAG,MAAM;AACjB,QAAI,CAAC8f,SAAS,EAAd,EAAkB;AAChBzgB,MAAAA,QAAQ,CAAC2X,YAAY,CAACzI,KAAb,EAAD,CAAR;AACD;;AACDlP,IAAAA,QAAQ,CAACmY,QAAQ,CAAC/a,QAAT,EAAD,CAAR;AACD,GALD;;AAMA,SAAO,CAACuD,IAAD,CAAP;AACD,CATM;;ACRP;;AAQA,MAAM+9B,kBAAkB,GAAG9B,YAAY,IACrCA,YAAY,CAAC7qC,MAAb,GAAsB,CAAtB,IAA2B6qC,YAAY,CAAC,CAAD,CADzC;;AAEA,MAAM+B,iBAAiB,GAAGtsC,SAAS,IAAIA,SAAS,CAACN,MAAV,GAAmB,CAAnB,IAAwBM,SAAS,CAAC,CAAD,CAAxE;;AAEA,MAAMusC,mBAAmB,GAAGC,aAAa,IACvCA,aAAa,CAAC9sC,MAAd,GAAuB,CAAvB,IAA4B8sC,aAAa,CAAC,CAAD,CAD3C;;AAGA,MAAMC,eAAe,GAAGC,SAAS,IAAIA,SAAS,CAAChtC,MAAV,GAAmB,CAAnB,IAAwBgtC,SAAS,CAAC,CAAD,CAAtE;;AAEA,MAAMC,kBAAkB,GAAG,CAAC/uC,KAAD,EAAQsC,OAAO,GAAG,EAAlB,KAAyB;AAAA;;AAClD,QAAM0sC,UAAU,GAAGhvC,KAAK,CAACM,IAAN,CACjB2uC,EAAE,IAAIA,EAAE,CAAC72C,KAAH,KAAakK,OAAb,IAAwB2sC,EAAE,CAAC72C,KAAH,KAAakK,OAAO,CAAC80B,OADlC,CAAnB;;AAGA,MAAI4X,UAAJ,EAAgB;AACd,WAAOA,UAAP;AACD;;AACD,QAAME,YAAY,GAAGnvC,gBAAgB,CACnCC,KAAK,CAACxI,GAAN,CAAUy3C,EAAE,IAAIA,EAAE,CAAC3zC,MAAnB,CADmC,EAEnC+7B,QAAQ,CAAC/0B,OAAO,CAAC80B,OAAR,IAAmB90B,OAApB,EAA6B,EAA7B,CAF2B,CAArC;AAIA,wBAAOtC,KAAK,CAACM,IAAN,CAAW2uC,EAAE,IAAIA,EAAE,CAAC3zC,MAAH,KAAc4zC,YAA/B,CAAP,gDAAO,YAA8C92C,KAArD;AACD,CAZD;;AAcA,MAAM+2C,UAAU,GAAG,CAAC,IAAD,EAAO,GAAP,EAAY,IAAZ,EAAkB,CAAlB,EAAqB,IAArB,EAA2B,GAA3B,EAAgC,IAAhC,EAAsC,CAAtC,EAAyC33C,GAAzC,CAA6CY,KAAK,KAAK;AACxEg3C,EAAAA,KAAK,EAAG,GAAEh3C,KAAM,GADwD;AAExEA,EAAAA;AAFwE,CAAL,CAAlD,CAAnB;;AAKA,MAAMi3C,kBAAkB,GAAG,CAAC;AAC1B9xC,EAAAA,WAD0B;AAE1BovC,EAAAA,YAAY,GAAG,EAFW;AAG1Bhe,EAAAA,iBAH0B;AAI1BoI,EAAAA,YAAY,GAAG,EAJW;AAK1BD,EAAAA,mBAL0B;AAM1BwY,EAAAA,aAAa,GAAG,EANU;AAO1BC,EAAAA,oBAP0B;AAQ1BC,EAAAA,UAAU,GAAG,EARa;AAS1BC,EAAAA,iBAT0B;AAU1BC,EAAAA;AAV0B,CAAD,KAYzB,CACEjB,kBAAkB,CAAC9B,YAAD,CAAlB,IAAoC;AAClCr/B,EAAAA,OAAO,EAAE,aADyB;AAElCuF,EAAAA,KAAK,EAAE,qBAF2B;AAGlC88B,EAAAA,aAAa,EAAEhhB,iBAHmB;AAIlC3uB,EAAAA,KAAK,EAAE2sC,YAAY,CAACn1C,GAAb,CAAiBY,KAAK,KAAK;AAACA,IAAAA;AAAD,GAAL,CAAtB;AAJ2B,CADtC,EAOEs2C,iBAAiB,CAAC3X,YAAD,CAAjB,IAAmC;AACjCzpB,EAAAA,OAAO,EAAE,SADwB;AAEjCuF,EAAAA,KAAK,EAAE,aAF0B;AAGjC88B,EAAAA,aAAa,EAAE7Y,mBAHkB;AAIjC92B,EAAAA,KAAK,EAAE+2B;AAJ0B,CAPrC,EAaE4X,mBAAmB,CAACW,aAAD,CAAnB,IAAsC;AACpChiC,EAAAA,OAAO,EAAE,WAD2B;AAEpCuF,EAAAA,KAAK,EAAE,eAF6B;AAGpC88B,EAAAA,aAAa,EAAEJ,oBAHqB;AAIpCvvC,EAAAA,KAAK,EAAE,CAAC,GAAGsvC,aAAJ,EAAmB;AAACF,IAAAA,KAAK,EAAE,KAAR;AAAeh3C,IAAAA,KAAK,EAAE;AAAtB,GAAnB;AAJ6B,CAbxC,EAmBEy2C,eAAe,CAACW,UAAD,CAAf,IAA+B;AAC7BliC,EAAAA,OAAO,EAAE,OADoB;AAE7BuF,EAAAA,KAAK,EAAE,WAFsB;AAG7B88B,EAAAA,aAAa,EAAEF,iBAHc;AAI7BzvC,EAAAA,KAAK,EAAEwvC;AAJsB,CAnBjC,EAyBEjyC,WAAW,KAAK,OAAhB,IAA2B;AACzB+P,EAAAA,OAAO,EAAE,OADgB;AAEzBuF,EAAAA,KAAK,EAAE,mBAFkB;AAGzB88B,EAAAA,aAAa,EAAED,YAHU;AAIzB1vC,EAAAA,KAAK,EAAEmvC;AAJkB,CAzB7B,EA+BEruC,MA/BF,CA+BSC,OA/BT,CAZF;;AA6CA,MAAM6uC,WAAW,GAAG,MAAM;AAAA;;AACxB,QAAM;AAACp6B,IAAAA;AAAD,MAAYY,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAA5B;AACA,QAAM;AAACnI,IAAAA,OAAD;AAAU8f,IAAAA;AAAV,MAA+BvY,gBAAU,CAACQ,OAAO,CAACS,GAAT,CAAV,CAAwBxgB,KAA7D;AACA,QAAM;AAACkgC,IAAAA,YAAD;AAAe4V,IAAAA;AAAf,MAA+Bv2B,gBAAU,CAACQ,OAAO,CAACU,EAAT,CAAV,CAAuBzgB,KAA5D;AACA,QAAMogC,YAAY,GAChB,qBAAAzhB,OAAO,CAAClT,OAAR,+FAAiB40B,iBAAjB,uGAAqCH,YAArC,MAAsDA,YADxD;AAEA,QAAM8Y,cAAc,GAClBz5B,gBAAU,CAACQ,OAAO,CAACU,EAAT,CAAV,CAAuBzgB,KAAvB,CAA6BigC,mBAA7B,IACAiY,kBAAkB,CAAC9X,YAAD,EAAezhB,OAAO,CAAClT,OAAvB,CAFpB;AAGA,QAAMw0B,mBAAmB,WACvBG,YAAY,CAAC32B,IAAb,CAAkB0B,IAAI,IAAIA,IAAI,CAAC5J,KAAL,KAAey3C,cAAzC,KACA5Y,YAAY,CAAC,CAAD,CADZ,IAEA,EAHuB,yCAAG,KAIzB7+B,KAJH;AAKA,QAAMie,MAAM,GAAGC,SAAS,EAAxB;AACA,QAAMg5B,aAAa,GAAGj5B,MAAH,aAAGA,MAAH,4CAAGA,MAAM,CAAEy5B,SAAX,sDAAG,kBAClB3e,IADkB;AAAA,GAGnBrwB,MAHmB,CAGZunC,KAAK,IAAIA,KAAK,CAAC/gC,IAAN,KAAe,SAHZ,EAInB9P,GAJmB,CAIf6wC,KAAK,KAAK;AAAC+G,IAAAA,KAAK,EAAE/G,KAAK,CAAC+G,KAAd;AAAqBh3C,IAAAA,KAAK,EAAEiwC,KAAK,CAAC/gC;AAAlC,GAAL,CAJU,CAAtB;AAKA,MAAIioC,oBAAoB,GAAGl5B,MAAH,aAAGA,MAAH,6CAAGA,MAAM,CAAEy5B,SAAX,gFAAG,mBACvB3e,IADuB,GAExB7wB,IAFwB,CAEnB+nC,KAAK,IAAIA,KAAK,CAACl8B,OAAN,KAAkB,IAFR,CAAH,0DAAG,sBAEe7E,IAF1C;AAGA,MAAI,CAACioC,oBAAL,EAA2BA,oBAAoB,GAAG,KAAvB;AAE3B,QAAMC,UAAU,GAAGn5B,MAAH,aAAGA,MAAH,uBAAGA,MAAM,CACrB05B,iBADe,GAEhBjvC,MAFgB,CAETunC,KAAK,IAAIA,KAAK,CAAC/gC,IAAN,IAAc+gC,KAAK,CAAC/gC,IAAN,KAAe,KAF7B,EAGhB9P,GAHgB,CAGZ6wC,KAAK,KAAK;AAAC+G,IAAAA,KAAK,EAAE/G,KAAK,CAAC+G,KAAd;AAAqBh3C,IAAAA,KAAK,EAAEiwC,KAAK,CAAC/gC;AAAlC,GAAL,CAHO,CAAnB;AAKA,SAAO+nC,kBAAkB,CAAC;AACxB9xC,IAAAA,WAAW,EAAEsR,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEtR,WADE;AAExBovC,IAAAA,YAFwB;AAGxBhe,IAAAA,iBAHwB;AAIxBoI,IAAAA,YAAY,EAAEE,YAJU;AAKxBH,IAAAA,mBALwB;AAMxBwY,IAAAA,aANwB;AAOxBC,IAAAA,oBAPwB;AAQxBC,IAAAA,UARwB;AASxBC,IAAAA,iBAAiB,EAAEp5B,MAAF,aAAEA,MAAF,2CAAEA,MAAM,CAAE25B,QAAR,EAAF,qDAAE,iBAAoB1oC,IATf;AAUxBooC,IAAAA,YAAY,EAAEr5B,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAE45B,gBAAR;AAVU,GAAD,CAAzB;AAYD,CA1CD;;AA4CA,MAAMC,iBAAiB,GAAG,MAAM;AAC9B,QAAM;AAACngC,IAAAA;AAAD,MAAaqG,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAA7B;AACA,QAAMX,MAAM,GAAGC,SAAS,EAAxB;AAEA,SAAO,CAAC;AAAChJ,IAAAA,OAAD;AAAUlV,IAAAA;AAAV,GAAD,KAAsB;AAC3B,QAAIkV,OAAO,KAAK,aAAZ,IAA6B,CAAC+I,MAAM,CAACgkB,QAAP,EAAlC,EAAqD;AACnDhkB,MAAAA,MAAM,CAAC0I,IAAP;AACD;;AACD,QAAIzR,OAAO,KAAK,SAAhB,EAA2B;AACzByC,MAAAA,QAAQ,CAACyX,QAAQ,CAACa,aAAT,CAAuBjwB,KAAvB,CAAD,CAAR;AACD;;AACD,QAAIkV,OAAO,KAAK,aAAhB,EAA+B;AAC7ByC,MAAAA,QAAQ,CAACyX,QAAQ,CAACc,iBAAT,CAA2BlwB,KAA3B,CAAD,CAAR;AACD;;AACD,QAAIkV,OAAO,KAAK,OAAhB,EAAyB;AACvB+I,MAAAA,MAAM,CAAC85B,gBAAP,CAAwB/3C,KAAxB;AACD;;AACD,QAAIkV,OAAO,KAAK,WAAhB,EAA6B;AAC3B,YAAMwiC,SAAS,GAAGz5B,MAAM,CAACy5B,SAAzB;AACAA,MAAAA,SAAS,CAAC3e,IAAV,GAAiBjpB,OAAjB,CAAyBmgC,KAAK,IAAI;AAChC,cAAM+H,MAAM,GACVh4C,KAAK,KAAKiwC,KAAK,CAAC/gC,IAAhB,GAAuBwoC,SAAS,CAACnqB,OAAjC,GAA2CmqB,SAAS,CAAClqB,MADvD;AAEAwqB,QAAAA,MAAM,CAAC/H,KAAK,CAACv7B,EAAP,CAAN,CAHgC;;AAMhC,YAAI1U,KAAK,KAAK,KAAd,EAAqB03C,SAAS,CAACO,OAAV;AACtB,OAPD;AAQD;;AACD,QAAI/iC,OAAO,KAAK,OAAhB,EAAyB;AACvB,YAAM;AAACR,QAAAA;AAAD,UAAOuJ,MAAM,CAChB05B,iBADU,GAEVzvC,IAFU,CAEL+nC,KAAK,IAAIA,KAAK,CAAC/gC,IAAN,KAAelP,KAFnB,CAAb;AAGAie,MAAAA,MAAM,CAACi6B,QAAP,CAAgBxjC,EAAhB;AACD;AACF,GA9BD;AA+BD,CAnCD;;ACjHA,MAAMyjC,aAAa,GAAG,CAAC;AAAC7N,EAAAA;AAAD,CAAD,KAAa;AACjC,QAAM;AACJ7rC,IAAAA,KAAK,EAAE;AAACgY,MAAAA;AAAD;AADH,MAEFuH,gBAAU,CAACQ,OAAO,CAACS,GAAT,CAFd;AAGA,QAAM;AAAC0f,IAAAA,YAAD;AAAe4V,IAAAA;AAAf,MAA+Bv2B,gBAAU,CAACQ,OAAO,CAACU,EAAT,CAAV,CAAuBzgB,KAA5D;AACA,QAAM,CAACsW,QAAD,IAAaqhC,OAAO,EAA1B;AACA,QAAMgC,YAAY,GAChBnB,kBAAkB,CAAC;AACjB9xC,IAAAA,WAAW,EAAEsR,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEtR,WADL;AAEjBovC,IAAAA,YAFiB;AAGjB5V,IAAAA;AAHiB,GAAD,CAAlB,CAIGj1B,MAJH,GAIY,CALd;AAOA,SACE0uC,YAAY,iBACVz6B,eAACitB,eAAD;AAAS,IAAA,KAAK,eAAEjtB,eAAC,OAAD;AAAS,MAAA,IAAI,EAAC;AAAd,MAAhB;AAAgD,IAAA,MAAM,EAAC,MAAvD;AAAA,2BACEA,eAAC8uB,YAAD;AACE,MAAA,KAAK,EAAEnC,KADT;AAEE,MAAA,IAAI,EAAC,4BAFP;AAGE,MAAA,GAAG,EAAEqC,IAAI,CAACpD,OAHZ;AAIE,MAAA,OAAO,EAAEhmC,KAAK,IAAIwR,QAAQ,CAACxR,KAAD;AAJ5B;AADF,IAFJ;AAYD,CAzBD;;AA2BA40C,aAAa,CAACv6B,SAAd,GAA0B;AACxB0sB,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O;AADO,CAA1B;;ACvCA;AAQA,MAAMm5C,mBAAmB,GAAGC,eAAU;AACtC;AACA,6BAA6B3L,IAAI,CAAC1C,gBAAiB;AACnD;AACA;AACA,6BAA6B0C,IAAI,CAACzC,gBAAiB;AACnD;AACA;AACA,6BAA6ByC,IAAI,CAACxC,gBAAiB;AACnD;AACA;AACA,6BAA6BwC,IAAI,CAAC1C,gBAAiB;AACnD;AACA,CAbA;AAeA,MAAMsO,QAAM,GAAG;AACbzb,EAAAA,MAAM,EAAE;AACNV,IAAAA,OAAO,EAAE,MADH;AAEN,eAAW;AACTa,MAAAA,OAAO,EAAE,CADA;AAETC,MAAAA,UAAU,EAAE,CAFH;AAGTvoB,MAAAA,MAAM,EAAE,MAHC;AAITooB,MAAAA,OAAO,EAAE,MAJA;AAKTP,MAAAA,eAAe,EAAE,aALR;AAMTQ,MAAAA,MAAM,EAAE,SANC;AAOT,iBAAW;AACTvmB,QAAAA,OAAO,EAAE,IADA;AAET2lB,QAAAA,OAAO,EAAE,OAFA;AAGTx5B,QAAAA,KAAK,EAAE,MAHE;AAITM,QAAAA,MAAM,EAAE,MAJC;AAKTqpC,QAAAA,cAAc,EAAE,OALP;AAMTwE,QAAAA,OAAO,EAAE,IANA;AAOTroC,QAAAA,MAAM,EAAE;AAPC;AAPF;AAFL,GADK;AAqBb,GAAC0E,SAAS,CAACI,aAAX,GAA2B;AACzB4uB,IAAAA,OAAO,EAAE,aADgB;AAEzB,sBAAkB;AAChBoQ,MAAAA,eAAe,EAAG,QAAOG,IAAI,CAAC5C,gBAAiB;AAD/B;AAFO,GArBd;AA2Bb,GAAC38B,SAAS,CAACG,UAAX,GAAwB;AACtB6uB,IAAAA,OAAO,EAAE,aADa;AAEtB,sBAAkB;AAChBoc,MAAAA,SAAS,EAAG,GAAEH,mBAAoB;AADlB;AAFI,GA3BX;AAiCb,GAACjrC,SAAS,CAACE,SAAX,GAAuB;AACrB8uB,IAAAA,OAAO,EAAE,aADY;AAErB,sBAAkB;AAChBoQ,MAAAA,eAAe,EAAG,QAAOG,IAAI,CAAC3C,aAAc;AAD5B;AAFG;AAjCV,CAAf;;AAyCA,MAAMyO,UAAU,GAAG,CAAC;AAACpnC,EAAAA,SAAD;AAAYkM,EAAAA,QAAZ;AAAsB+sB,EAAAA,KAAtB;AAA6B,KAAGhsC;AAAhC,CAAD,KACjBqf;AACE,EAAA,SAAS,EAAEyuB,8BAAU,CACnB,qBADmB,EAEnB/6B,SAAS,IAAK,wBAAuBA,SAAS,CAACqnC,iBAAV,EAA8B,EAFhD,CADvB;AAKE,EAAA,GAAG,GAAGH,QAAM,CAACzb,MAAV,EAAkByb,QAAM,CAAClnC,SAAD,CAAxB,EAAqCi5B,KAArC,g5FALL;AAAA,KAMMhsC,KANN;AAAA,YAQGif;AARH,EADF;;AAaAk7B,UAAU,CAAC76B,SAAX,GAAuB;AACrBvM,EAAAA,SAAS,EAAExD,SAAS,CAACG,MADA;AAErBuP,EAAAA,QAAQ,EAAE1P,SAAS,CAACgQ,IAFC;AAGrBysB,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O;AAHI,CAAvB;;MCpEMy5C,eAAe,GAAG,CAAC;AAAC70C,EAAAA,SAAD;AAAYqB,EAAAA,WAAZ;AAAyByO,EAAAA,WAAzB;AAAsC,KAAGtV;AAAzC,CAAD,KAAqD;AAC3E,QAAM;AACJG,IAAAA,KAAK,EAAE;AAAC4S,MAAAA;AAAD,KADH;AAEJgS,IAAAA,OAAO,EAAE;AAAC+C,MAAAA,OAAD;AAAUnV,MAAAA,WAAV;AAAuBwV,MAAAA;AAAvB;AAFL,MAGFoB,cAAc,EAHlB;AAIA,QAAM+kB,OAAO,GACXv7B,SAAS,KAAKjE,SAAS,CAACE,SAAxB,GACI,4BADJ,GAEI,iBAHN;;AAIA,QAAMsrC,UAAU,GAAG,MAAM;AACvB,QAAIvnC,SAAS,KAAKjE,SAAS,CAACE,SAA5B,EAAuC;AACrCmZ,MAAAA,WAAW;AACZ,KAFD,MAEO,IAAI3iB,SAAS,IAAIqB,WAAjB,EAA8B;AACnC8L,MAAAA,WAAW,CAAC;AAACnN,QAAAA,SAAD;AAAYqB,QAAAA,WAAZ;AAAyByO,QAAAA;AAAzB,OAAD,CAAX;AACD,KAFM,MAEA;AACLwS,MAAAA,OAAO;AACR;AACF,GARD;;AAUA,sBACEzI,eAACitB,eAAD;AAAS,IAAA,KAAK,eAAEjtB,eAAC,OAAD;AAAS,MAAA,IAAI,EAAEivB;AAAf,MAAhB;AAA4C,IAAA,MAAM,EAAC,MAAnD;AAAA,2BACEjvB,eAAC,UAAD;AAAY,MAAA,SAAS,EAAEtM,SAAvB;AAAkC,MAAA,OAAO,EAAEunC,UAA3C;AAAA,SAA2Dt6C;AAA3D;AADF,IADF;AAKD;;AAEDq6C,eAAe,CAAC/6B,SAAhB,GAA4B;AAC1B9Z,EAAAA,SAAS,EAAE+J,SAAS,CAACG,MADK;AAE1B7I,EAAAA,WAAW,EAAEyiB,KAAK,CAACna,QAFO;AAG1BmG,EAAAA,WAAW,EAAE/F,SAAS,CAACG;AAHG,CAA5B;;ACxBA,MAAM6qC,eAAe,GAAG,CAAC;AAACC,EAAAA,IAAI,GAAG;AAAR,CAAD,KAAmB;AACzC,QAAM;AAACC,IAAAA,UAAU,GAAG;AAAd,MAAoBz6B,UAAU,EAApC;AACA,QAAM;AAAC3G,IAAAA;AAAD,MAAaqG,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAA7B;AAEA,sBACE+sB;AAAA,eACGmN,IAAI,iBACHnN;AAAA,8BACEhuB,eAAC86B,eAAD,KADF,EAEGM,UAAU,CAAC35C,GAAX,CAAe,CAACwK,IAAD,EAAOuc,KAAP,kBACdylB,kBAAY,CAAChiC,IAAI,CAACkzB,MAAN,EAAc;AACxBvR,QAAAA,GAAG,EAAEpF,KADmB;AAExB5N,QAAAA,OAAO,EAAE,MAAM;AACbZ,UAAAA,QAAQ,CAACjZ,QAAM,CAACwV,SAAP,CAAiBiS,KAAjB,CAAD,CAAR;AACD;AAJuB,OAAd,CADb,CAFH;AAAA,MAFJ,eAcExI,eAAC,aAAD,KAdF;AAAA,IADF;AAkBD,CAtBD;;AAwBAk7B,eAAe,CAACj7B,SAAhB,GAA4B;AAC1Bk7B,EAAAA,IAAI,EAAEjrC,SAAS,CAACq5B;AADU,CAA5B;;ACvBA,MAAM8R,gBAAgB,GAAG,CAAC;AAAC1O,EAAAA;AAAD,CAAD,KAAa;AACpC,QAAM;AAAC7rC,IAAAA,KAAD;AAAQkZ,IAAAA;AAAR,MAAoBqG,gBAAU,CAACQ,OAAO,CAACzS,cAAT,CAApC;AACA,QAAM8U,GAAG,GACPpiB,KAAK,KAAKsN,cAAc,CAACE,MAAzB,GACI0gC,IAAI,CAAC5hB,eADT,GAEI4hB,IAAI,CAAC3hB,eAHX;AAIA,QAAM4hB,OAAO,GACXnuC,KAAK,KAAKsN,cAAc,CAACE,MAAzB,GACI,uBADJ,GAEI,4BAHN;;AAIA,QAAMsM,OAAO,GAAG,MAAM;AACpBZ,IAAAA,QAAQ,CACNlZ,KAAK,KAAKsN,cAAc,CAACE,MAAzB,GACIqjB,YAAY,CAACvE,eAAb,EADJ,GAEIuE,YAAY,CAACtE,eAAb,EAHE,CAAR;AAKD,GAND;;AAQA,sBACErN,eAACitB,eAAD;AAAS,IAAA,KAAK,eAAEjtB,eAAC,OAAD;AAAS,MAAA,IAAI,EAAEivB;AAAf,MAAhB;AAA4C,IAAA,MAAM,EAAC,MAAnD;AAAA,2BACEjvB,eAAC8uB,YAAD;AACE,MAAA,IAAI,EAAEL,8BAAU,CACd,gCADc,EAEb,mCACC3tC,KAAK,KAAKsN,cAAc,CAACE,MAAzB,GAAkC,QAAlC,GAA6C,YAC9C,EAJa,CADlB;AAOE,MAAA,GAAG,EAAE4U,GAPP;AAQE,MAAA,OAAO,EAAEtI,OARX;AASE,MAAA,KAAK,EAAE+xB;AATT;AADF,IADF;AAeD,CAjCD;;AAmCA0O,gBAAgB,CAACp7B,SAAjB,GAA6B;AAC3B0sB,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O;AADU,CAA7B;;ACpCA,MAAM+5C,gBAAgB,GAAG,CAAC;AAAC3O,EAAAA;AAAD,CAAD,KAAa;AACpC,QAAM;AACJ7rC,IAAAA,KAAK,EAAE;AAACgY,MAAAA;AAAD,KADH;AAEJkB,IAAAA;AAFI,MAGFqG,gBAAU,CAACQ,OAAO,CAACS,GAAT,CAHd;;AAIA,QAAMi6B,UAAU,GAAG74C,wBAAI,CAACoW,OAAD,EAAU,uBAAV,EAAmC,IAAnC,CAAvB;;AAEA,sBACEkH,eAACitB,eAAD;AAAS,IAAA,KAAK,eAAEjtB,eAAC,OAAD;AAAS,MAAA,IAAI,EAAC;AAAd,MAAhB;AAAwD,IAAA,MAAM,EAAC,MAA/D;AAAA,2BACEA,eAAC8uB,YAAD;AACE,MAAA,KAAK,EAAEnC,KADT;AAEE,MAAA,IAAI,EAAC,qCAFP;AAGE,MAAA,GAAG,EAAEqC,IAAI,CAACnD,eAHZ;AAIE,MAAA,QAAQ,EAAE,CAAC0P,UAJb;AAKE,MAAA,OAAO,EAAE,MACPA,UAAU,IAAIvhC,QAAQ,CAACjB,QAAM,CAACnD,qBAAP,CAA6B2lC,UAA7B,CAAD;AAN1B;AADF,IADF;AAaD,CApBD;;AAsBAD,gBAAgB,CAACr7B,SAAjB,GAA6B;AAC3Bu7B,EAAAA,IAAI,EAAEtrC,SAAS,CAACq5B,IADW;AAE3BoD,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O;AAFU,CAA7B;;ACtBA,MAAMk6C,mBAAiB,GAAG,CAAC;AAAC9O,EAAAA;AAAD,CAAD,KAAa;AACrC,QAAM;AACJ7rC,IAAAA,KAAK,EAAE;AAACgY,MAAAA;AAAD,KADH;AAEJkB,IAAAA;AAFI,MAGFqG,gBAAU,CAACQ,OAAO,CAACS,GAAT,CAHd;;AAIA,QAAMwqB,WAAW,GAAGppC,wBAAI,CAACoW,OAAD,EAAU,mBAAV,EAA+B,IAA/B,CAAxB;;AAEA,sBACEkH,eAACitB,eAAD;AAAS,IAAA,KAAK,eAAEjtB,eAAC,OAAD;AAAS,MAAA,IAAI,EAAC;AAAd,MAAhB;AAAoD,IAAA,MAAM,EAAC,MAA3D;AAAA,2BACEA,eAAC8uB,YAAD;AACE,MAAA,KAAK,EAAEnC,KADT;AAEE,MAAA,IAAI,EAAC,iCAFP;AAGE,MAAA,GAAG,EAAEqC,IAAI,CAAClD,WAHZ;AAIE,MAAA,QAAQ,EAAE,CAACA,WAJb;AAKE,MAAA,OAAO,EAAE,MACPA,WAAW,IAAI9xB,QAAQ,CAACjB,QAAM,CAACrD,iBAAP,CAAyBo2B,WAAzB,CAAD;AAN3B;AADF,IADF;AAaD,CApBD;;AAsBA2P,mBAAiB,CAACx7B,SAAlB,GAA8B;AAC5Bu7B,EAAAA,IAAI,EAAEtrC,SAAS,CAACq5B,IADY;AAE5BoD,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O;AAFW,CAA9B;;AC1BA,MAAMm6C,UAAU,GAAG,CAAC;AAAC/O,EAAAA;AAAD,CAAD,KAAa;AAC9B,QAAM;AAAC3yB,IAAAA;AAAD,MAAaqG,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAA7B;AACA,sBACEjB,eAAC8uB,YAAD;AACE,IAAA,KAAK,EAAEnC,KADT;AAEE,IAAA,IAAI,EAAC,yBAFP;AAGE,IAAA,GAAG,EAAEqC,IAAI,CAACx7B,IAHZ;AAIE,IAAA,OAAO,EAAE,MAAMwG,QAAQ,CAACjB,MAAM,CAACvF,IAAP,EAAD;AAJzB,IADF;AAQD,CAVD;;AAYAkoC,UAAU,CAACz7B,SAAX,GAAuB;AACrB0sB,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O;AADI,CAAvB;;ACfA,MAAMo6C,YAAY,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAmB;AACtC,QAAM;AAAC/5C,IAAAA;AAAD,MAAU+5C,WAAhB;AACA,QAAM;AAACte,IAAAA;AAAD,MAAejd,gBAAU,CAACw7B,IAAI,CAACh7B,OAAN,CAA/B;AACA,QAAMvO,IAAI,GAAGzQ,KAAK,CAACyQ,IAAN,IAAc,CAA3B;AACA,QAAMI,IAAI,GAAG,EACX,GAAG7Q,KADQ;AAEXyQ,IAAAA,IAFW;AAGXwpC,IAAAA,IAAI,EAAExpC;AAHK,GAAb;AAKA,QAAMypC,YAAY,GAChBze,UAAU,CAACz7B,KAAK,CAAC4Q,OAAP,EAAgBC,IAAhB,CAAV,IACA4qB,UAAU,CAACz7B,KAAK,CAACV,IAAP,EAAauR,IAAb,CADV,IAEA4qB,UAAU,CAAE,aAAYz7B,KAAK,CAACV,IAAK,EAAzB,EAA4BuR,IAA5B,CAFV,IAGA4qB,UAAU,CAAE,aAAYz7B,KAAK,CAACyQ,IAAK,EAAzB,EAA4BI,IAA5B,CAHV,IAIA7Q,KAAK,CAAC4Q,OALR;AAOA,sBAAOuN;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA,cAA4C+7B;AAA5C,IAAP;AACD,CAjBD;;AAmBAJ,YAAY,CAAC17B,SAAb,GAAyB;AACvB27B,EAAAA,WAAW,EAAE1rC,SAAS,CAAC3O,MAAV,CAAiBw7B;AADP,CAAzB;;ACvBA;AAMA,MAAM4P,OAAK,GAAG;AACZ1nC,EAAAA,KAAK,EAAE,OADK;AAEZM,EAAAA,MAAM,EAAE,MAFI;AAGZsnC,EAAAA,YAAY,EAAE,KAHF;AAIZ8C,EAAAA,UAAU,EAAE,aAJA;AAKZ34B,EAAAA,MAAM,EAAE,WALI;AAMZioB,EAAAA,KAAK,EAAE,OANK;AAOZ+T,EAAAA,QAAQ,EAAE,MAPE;AAQZI,EAAAA,OAAO,EAAE,GARG;AASZ/T,EAAAA,MAAM,EAAE,SATI;AAUZD,EAAAA,OAAO,EAAE,MAVG;AAWZF,EAAAA,UAAU,EAAE;AAXA,CAAd;;AAcA,MAAM8c,UAAU,GAAG,CAAC;AAAC76C,EAAAA,IAAD;AAAOyZ,EAAAA,OAAP;AAAgB6Z,EAAAA,IAAhB;AAAsB1G,EAAAA;AAAtB,CAAD,KACjB/N;AACE,EAAA,SAAS,EAAEyuB,8BAAU,CAAC,yBAAD,EAA4BttC,IAA5B,CADvB;AAEE,EAAA,GAAG,GAAGwrC,OAAH,EAAUvnC,MAAV,gjDAFL;AAGE,EAAA,OAAO,EAAEwV,OAHX;AAAA,YAKEoF,iBAAC,IAAD,CAAM,OAAN;AAAc,IAAA,IAAI,EAAEyU,IAApB;AAA0B,IAAA,YAAY,EAAE1G;AAAxC;AALF,EADF;;AAUAiuB,UAAU,CAAC/7B,SAAX,GAAuB;AACrB9e,EAAAA,IAAI,EAAE+O,SAAS,CAACG,MADK;AAErBuK,EAAAA,OAAO,EAAE1K,SAAS,CAACpO,IAFE;AAGrB2yB,EAAAA,IAAI,EAAEvkB,SAAS,CAACG,MAHK;AAIrB0d,EAAAA,YAAY,EAAE7d,SAAS,CAACG;AAJH,CAAvB;;AC9BA;AAQA,MAAMqkC,MAAI,GAAG;AACX1F,EAAAA,IAAI,EAAE;AACJ/pC,IAAAA,KAAK,EAAE,MADH;AAEJM,IAAAA,MAAM,EAAE;AAFJ;AADK,CAAb;;AAOA,MAAM8sB,OAAK,GAAG,CAAC;AAACxwB,EAAAA,KAAD;AAAQ8qC,EAAAA,KAAR;AAAetT,EAAAA;AAAf,CAAD,KACZ2U;AAAK,EAAA,SAAS,EAAC,mBAAf;AAAmC,EAAA,GAAG,GAAGpP,IAAH,EAAS+N,KAAT,2iDAAtC;AAAA,aACE3sB,iBAAC,IAAD;AAAM,IAAA,KAAK,EAAE00B,MAAI,CAAC1F,IAAlB;AAAwB,IAAA,GAAG,EAAEA,IAAI,CAACvC;AAAlC,IADF,EAEEzsB,iBAAC,YAAD;AAAc,IAAA,WAAW,EAAEne,KAAK,CAACA,KAAK,CAACkK,MAAN,GAAe,CAAhB;AAAhC,IAFF,EAGEiU,iBAAC,UAAD;AACE,IAAA,IAAI,EAAC,gCADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,YAAY,EAAC,MAHf;AAIE,IAAA,OAAO,EAAEqZ;AAJX,IAHF;AAAA,EADF;;AAYAhH,OAAK,CAACpS,SAAN,GAAkB;AAChBpe,EAAAA,KAAK,EAAEqO,SAAS,CAACuS,KADD;AAEhBkqB,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O,MAFD;AAGhB83B,EAAAA,MAAM,EAAEnpB,SAAS,CAACpO;AAHF,CAAlB;AAKAuwB,OAAK,CAACY,YAAN,GAAqB;AACnBpxB,EAAAA,KAAK,EAAE,EADY;AAEnB8qC,EAAAA,KAAK,EAAE,EAFY;AAGnBtT,EAAAA,MAAM,EAAE,MAAM;AAHK,CAArB;;AChCA;AAKA,MAAM4iB,cAAc,GAAGtB,eAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;AASA,MAAMhO,OAAK,GAAG;AACZlO,EAAAA,OAAO,EAAE,OADG;AAEZoc,EAAAA,SAAS,EAAG,GAAEoB,cAAe,uBAFjB;AAGZjlC,EAAAA,MAAM,EAAE,sBAHI;AAIZklC,EAAAA,gBAAgB,EAAE,aAJN;AAKZrP,EAAAA,YAAY,EAAE,KALF;AAMZtnC,EAAAA,MAAM,EAAE,KANI;AAOZN,EAAAA,KAAK,EAAE;AAPK,CAAd;;AAUA,MAAMk3C,OAAO,GAAG,CAAC;AAAC3I,EAAAA,GAAD;AAAMoH,EAAAA;AAAN,CAAD,KACd56B;AAAK,EAAA,GAAG,GAAG4e,IAAH,EAAS4U,GAAT,EAAcoH,MAAd,i0CAAR;AAAA,YACE56B;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAqC,IAAA,GAAG,EAAE2sB;AAA1C;AADF,EADF;;AAKAwP,OAAO,CAACl8B,SAAR,GAAoB;AAClBuzB,EAAAA,GAAG,EAAEtjC,SAAS,CAAC3O,MADG;AAElBq5C,EAAAA,MAAM,EAAE1qC,SAAS,CAAC3O;AAFA,CAApB;;AC7BA;AAQA,MAAM66C,OAAO,GAAGzB,eAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CATA;;AAWA,MAAMjG,MAAI,GAAG,CAAC2H,SAAD,EAAYn5B,GAAZ,MAAqB,EAChC,IAAIm5B,SAAS,IAAI;AACfC,IAAAA,aAAa,EAAEF;AADA,GAAjB,CADgC;AAIhCxN,EAAAA,cAAc,EAAE,aAJgB;AAKhCD,EAAAA,kBAAkB,EAAE,QALY;AAMhC4N,EAAAA,gBAAgB,EAAE,WANc;AAOhCC,EAAAA,iBAAiB,EAAE,UAPa;AAQhCC,EAAAA,cAAc,EAAE,MARgB;AAShCC,EAAAA,iBAAiB,EAAE,OATa;AAUhC7N,EAAAA,eAAe,EAAG,OAAM3rB,GAAI,GAVI;AAWhCkwB,EAAAA,OAAO,EAAE;AAXuB,CAArB,CAAb;;AAcA,MAAMuJ,SAAS,GAAG,CAAC;AAAC3T,EAAAA,SAAD;AAAY4T,EAAAA,IAAZ;AAAkBhiC,EAAAA;AAAlB,CAAD,KAAgC;AAChD,QAAM,CAACyhC,SAAD,EAAYQ,YAAZ,IAA4BjjC,cAAQ,CAAC,KAAD,CAA1C;AAEA,SAAOgjC,IAAI,GACT58B;AAAG,IAAA,IAAI,EAAE48B,IAAT;AAAe,IAAA,MAAM,EAAC,QAAtB;AAA+B,IAAA,GAAG,EAAC,YAAnC;AAAgD,IAAA,GAAG,EAAEpe;AAArD,IADS,GAGTxe;AACE,IAAA,SAAS,EAAEyuB,8BAAU,CAAC,wBAAD,EAA2B;AAC9C,OAAE,2BAA0BzF,SAAS,GAAG,MAAH,GAAY,OAAQ,EAAzD,GAA6DqT;AADf,KAA3B,CADvB;AAIE,IAAA,GAAG,GACD7d,KADC,EAEDkW,MAAI,CAAC2H,SAAD,EAAYrT,SAAS,GAAGgG,IAAI,CAAChD,UAAR,GAAqBgD,IAAI,CAACjD,WAA/C,CAFH,u0EAJL;AAQE,IAAA,cAAc,EAAE,MAAM8Q,YAAY,CAAC,KAAD,CARpC;AASE,IAAA,OAAO,EAAE,MAAM;AACbA,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACAjiC,MAAAA,OAAO;AACR;AAZH,IAHF;AAkBD,CArBD;;AAuBA+hC,SAAS,CAAC18B,SAAV,GAAsB;AACpB+oB,EAAAA,SAAS,EAAE94B,SAAS,CAACq5B,IADD;AAEpBqT,EAAAA,IAAI,EAAE1sC,SAAS,CAACG,MAFI;AAGpBuK,EAAAA,OAAO,EAAE1K,SAAS,CAACpO;AAHC,CAAtB;;ACxDA;AAMA,MAAM6qC,OAAK,GAAG;AACZ31B,EAAAA,MAAM,EAAE,MADI;AAEZooB,EAAAA,OAAO,EAAE,MAFG;AAGZC,EAAAA,MAAM,EAAE,SAHI;AAIZC,EAAAA,OAAO,EAAE,CAJG;AAKZC,EAAAA,UAAU,EAAE,CALA;AAMZyT,EAAAA,QAAQ,EAAE,EANE;AAOZ/tC,EAAAA,KAAK,EAAE,MAPK;AAQZM,EAAAA,MAAM,EAAE,MARI;AASZ25B,EAAAA,UAAU,EAAE;AATA,CAAd;;AAYA,MAAM4d,IAAI,GAAG,CAAC;AAAC37C,EAAAA,IAAD;AAAOyZ,EAAAA,OAAP;AAAgB6Z,EAAAA,IAAhB;AAAsB1G,EAAAA;AAAtB,CAAD,KACX/N;AACE,EAAA,SAAS,EAAEyuB,8BAAU,CAAC,kBAAD,EAAqBttC,IAArB,CADvB;AAEE,EAAA,GAAG,GAAGwrC,OAAH,EAAUvnC,MAAV,k1CAFL;AAGE,EAAA,OAAO,EAAEwV,OAHX;AAAA,YAKEoF,iBAAC,IAAD,CAAM,OAAN;AAAc,IAAA,IAAI,EAAEyU,IAApB;AAA0B,IAAA,YAAY,EAAE1G;AAAxC;AALF,EADF;;AAUA+uB,IAAI,CAAC78B,SAAL,GAAiB;AACf9e,EAAAA,IAAI,EAAE+O,SAAS,CAACG,MADD;AAEfuK,EAAAA,OAAO,EAAE1K,SAAS,CAACpO,IAFJ;AAGf2yB,EAAAA,IAAI,EAAEvkB,SAAS,CAACG,MAHD;AAIf0d,EAAAA,YAAY,EAAE7d,SAAS,CAACG;AAJT,CAAjB;;AC5BA;AAOA,MAAMqkC,MAAI,GAAG;AACX53B,EAAAA,KAAK,EAAE;AACLigC,IAAAA,QAAQ,EAAE,OADL;AAEL/d,IAAAA,SAAS,EAAE,QAFN;AAGLgU,IAAAA,QAAQ,EAAE,MAHL;AAILgK,IAAAA,UAAU,EAAE;AAJP,GADI;AAOXvqC,EAAAA,OAAO,EAAE;AACPsqC,IAAAA,QAAQ,EAAE,OADH;AAEP/J,IAAAA,QAAQ,EAAE;AAFH;AAPE,CAAb;;AAaA,MAAMiK,SAAS,GAAG,CAAC;AAACC,EAAAA,OAAD;AAAU3M,EAAAA;AAAV,CAAD,KAChBvC;AAAK,EAAA,SAAS,EAAC,wBAAf;AAAwC,EAAA,GAAG,GAAGpP,IAAH,u3DAA3C;AAAA,aACE5e;AAAK,IAAA,SAAS,EAAC,+BAAf;AAA+C,IAAA,GAAG,EAAE00B,MAAI,CAAC53B,KAAzD;AAAA,cACEkD,iBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC;AAAnB;AADF,IADF,EAIEA;AAAK,IAAA,SAAS,EAAC,iCAAf;AAAiD,IAAA,GAAG,EAAE00B,MAAI,CAACjiC,OAA3D;AAAA,cACEuN,iBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC;AAAnB;AADF,IAJF,EAOEA,iBAAC,UAAD;AACE,IAAA,IAAI,EAAC,0BADP;AAEE,IAAA,IAAI,EAAC,cAFP;AAGE,IAAA,OAAO,EAAEk9B;AAHX,IAPF,EAYEl9B,iBAAC,IAAD;AACE,IAAA,IAAI,EAAC,0BADP;AAEE,IAAA,IAAI,EAAC,iBAFP;AAGE,IAAA,OAAO,EAAEuwB;AAHX,IAZF;AAAA,EADF;;AAoBA0M,SAAS,CAACh9B,SAAV,GAAsB;AACpBi9B,EAAAA,OAAO,EAAEhtC,SAAS,CAACpO,IADC;AAEpByuC,EAAAA,OAAO,EAAErgC,SAAS,CAACpO;AAFC,CAAtB;;ACxCA;AASA,MAAM6qC,OAAK,GAAG;AACZ9N,EAAAA,eAAe,EAAE,MADL;AAEZM,EAAAA,MAAM,EAAE;AACNnK,IAAAA,QAAQ,EAAE,UADJ;AAEN1vB,IAAAA,GAAG,EAAE,MAFC;AAGNR,IAAAA,IAAI,EAAE;AAHA;AAFI,CAAd;AASA,MAAMq4C,SAAS,GAAG;AAChBl4C,EAAAA,KAAK,EAAE,MADS;AAEhBM,EAAAA,MAAM,EAAE,MAFQ;AAGhBwF,EAAAA,MAAM,EAAE;AAHQ,CAAlB;;AAMA,MAAMqyC,QAAQ,GAAG,CAAC;AAAC/jB,EAAAA;AAAD,CAAD,KACf2U;AAAK,EAAA,SAAS,EAAC,uBAAf;AAAuC,EAAA,GAAG,GAAGpP,IAAH,EAAS+N,OAAT,8lDAA1C;AAAA,aACE3sB,iBAAC+uB,YAAD;AAAQ,IAAA,IAAI,EAAC,6CAAb;AAA2D,IAAA,OAAO,EAAE1V,MAApE;AAAA,cACErZ,iBAAC,IAAD;AAAM,MAAA,GAAG,EAAEgvB,IAAI,CAACx7B;AAAhB;AADF,IADF,EAIEwM,iBAAC,IAAD;AAAM,IAAA,GAAG,EAAEgvB,IAAI,CAAC3C,aAAhB;AAA+B,IAAA,KAAK,EAAE8Q;AAAtC,IAJF,EAKEn9B;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAA,cACEA,iBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC;AAAnB;AADF,IALF;AAAA,EADF;;AAYAo9B,QAAQ,CAACn9B,SAAT,GAAqB;AACnBoZ,EAAAA,MAAM,EAAEnpB,SAAS,CAACpO;AADC,CAArB;;ACpCA;AAOA,MAAM84C,MAAM,GAAG;AACbtb,EAAAA,OAAO,EAAE,QADI;AAEbtoB,EAAAA,MAAM,EAAE,gBAFK;AAGbioB,EAAAA,KAAK,EAAE,MAHM;AAIb0Q,EAAAA,UAAU,EAAE,oBAJC;AAKbqD,EAAAA,QAAQ,EAAE,MALG;AAMbI,EAAAA,OAAO,EAAE,GANI;AAOb,uBAAqB;AACnBiK,IAAAA,UAAU,EAAE,MADO;AAEnBp4C,IAAAA,KAAK,EAAE,MAFY;AAGnBM,IAAAA,MAAM,EAAE,MAHW;AAInBk5B,IAAAA,OAAO,EAAE;AAJU;AAPR,CAAf;;AAeA,MAAM6e,UAAU,GAAG,CAAC;AAACC,EAAAA,aAAD;AAAgB3iC,EAAAA;AAAhB,CAAD,KACjBoF;AAAQ,EAAA,GAAG,EAAE46B,MAAb;AAAqB,EAAA,QAAQ,EAAE2C,aAAa,GAAG,CAA/C;AAAkD,EAAA,OAAO,EAAE3iC,OAA3D;AAAA,YACG2iC,aAAa,GAAG,CAAhB,GACCvP;AAAA,eACGlrC,IAAI,CAAC4nC,IAAL,CAAU6S,aAAV,CADH,OAC6Bv9B,iBAAC,OAAD;AAAS,MAAA,IAAI,EAAC;AAAd,MAD7B,EAEEA,iBAAC,IAAD;AAAM,MAAA,GAAG,EAAEgvB,IAAI,CAAClD,WAAhB;AAA6B,MAAA,KAAK,EAAE;AAACsH,QAAAA,OAAO,EAAE;AAAV;AAApC,MAFF;AAAA,IADD,GAMCpF;AAAA,eACEhuB,iBAAC,OAAD;AAAS,MAAA,IAAI,EAAC;AAAd,MADF,EAEEA,iBAAC,IAAD;AAAM,MAAA,GAAG,EAAEgvB,IAAI,CAAClD;AAAhB,MAFF;AAAA;AAPJ,EADF;;AAgBAwR,UAAU,CAACr9B,SAAX,GAAuB;AACrBs9B,EAAAA,aAAa,EAAErtC,SAAS,CAACE,MADJ;AAErBwK,EAAAA,OAAO,EAAE1K,SAAS,CAACpO;AAFE,CAAvB;;ACtCA;;AAgCA,MAAM07C,QAAQ,GAAG,MAAM;AACrB,QAAM;AAAC3qC,IAAAA;AAAD,MAAW42B,QAAQ,CAAC6B,gBAAD,EAAmB8D,2BAAnB,CAAzB;AACA,QAAMx+B,IAAI,GAAG64B,QAAQ,CAAC,CAAC;AAACloB,IAAAA,EAAE,EAAEzgB;AAAL,GAAD,KACpBA,KAAK,CAACqpC,WAAN,KAAsB,gBAAtB,GACI,SADJ,GAEIrpC,KAAK,CAACypC,qBAAN,IAA+BzpC,KAAK,CAACypC,qBAArC,GACA,MADA,GAEA,MALe,CAArB;AAOA,QAAMM,KAAK,GAAGpB,QAAQ,CAAC,CAAC;AAACloB,IAAAA,EAAE,EAAEzgB;AAAL,GAAD;AAAA;;AAAA,wBAAiBA,KAAK,CAACspC,EAAvB,8CAAiB,UAAUliB,eAA3B;AAAA,GAAD,CAAtB;AACA,QAAM;AAAClO,IAAAA;AAAD,MAAaqG,gBAAU,CAACQ,OAAO,CAAClT,WAAT,CAA7B;AAEA,SAAOiD,IAAI,KAAK,SAAT,gBACLoP;AACE,IAAA,KAAK,EAAE;AACLza,MAAAA,MAAM,EAAE,MADH;AAELN,MAAAA,KAAK,EAAE,MAFF;AAGL0qC,MAAAA,UAAU,EAAE;AAHP,KADT;AAME,IAAA,OAAO,EAAE,MAAM31B,QAAQ,CAACyjC,QAAQ,CAAChnC,SAAT,EAAD;AANzB,IADK,GAUL7F,IAAI,KAAK,MAAT,iBACEoP,eAAC,SAAD;AACE,IAAA,SAAS,EAAE,kBAAkBxN,IAAlB,CAAuBK,MAAvB,CADb;AAEE,IAAA,IAAI,EAAEg4B,KAFR;AAGE,IAAA,OAAO,EAAE,MAAM7wB,QAAQ,CAACq0B,UAAU,CAACx7B,MAAD,CAAX;AAHzB,IAXJ;AAkBD,CA9BD;;AAgCA,MAAM6qC,YAAY,GAAG,MAAM;AACzB,QAAM;AAAC1jC,IAAAA;AAAD,MAAaqG,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAA7B;AACA,QAAM;AAACpf,IAAAA;AAAD,MAAUwe,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAAV,CAA2BngB,KAA3C;AAEA,sBAAOkf,eAACqS,OAAD;AAAO,IAAA,KAAK,EAAExwB,KAAd;AAAqB,IAAA,MAAM,EAAE,MAAMmY,QAAQ,CAACjB,MAAM,CAACvF,IAAP,EAAD;AAA3C,IAAP;AACD,CALD;;AAOA,MAAMmqC,cAAc,GAAG,MAAM;AAC3B,QAAM;AAAC3jC,IAAAA;AAAD,MAAaqG,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAA7B;AAEA,sBAAOjB,eAAC49B,QAAD;AAAS,IAAA,MAAM,EAAE,MAAM5jC,QAAQ,CAACjB,MAAM,CAACvF,IAAP,EAAD;AAA/B,IAAP;AACD,CAJD;;AAMA,MAAMqqC,kBAAkB,GAAG,MAAM;AAC/B,QAAM;AAAC7jC,IAAAA;AAAD,MAAaqG,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAA7B;AAEA,sBACEjB,eAAC89B,SAAD;AACE,IAAA,OAAO,EAAE,MAAM9jC,QAAQ,CAACyX,QAAQ,CAACe,KAAV,CADzB;AAEE,IAAA,OAAO,EAAE,MAAMxY,QAAQ,CAACjB,MAAM,CAACvF,IAAP,EAAD;AAFzB,IADF;AAMD,CATD;;AAWA,MAAMuqC,mBAAmB,GAAG,CAAC;AAACz8B,EAAAA,GAAD;AAAMC,EAAAA;AAAN,CAAD;AAAA;;AAAA,SAC1B,iBAAAD,GAAG,CAACxI,OAAJ,8DAAatR,WAAb,MAA6B,OAA7B,GAAuC,CAAC,CAAxC,aAA4C+Z,EAAE,CAAC6oB,EAA/C,2CAA4C,OAAO1xB,cADzB;AAAA,CAA5B;;AAGA,MAAMslC,YAAY,GAAG,MAAM;AACzB,QAAM;AAACpsC,IAAAA;AAAD,MAAY+O,UAAU,EAA5B;AACA,QAAMjI,cAAc,GAAG+wB,QAAQ,CAACsU,mBAAD,CAA/B;AACA,QAAM,CAACE,UAAD,EAAaC,aAAb,IAA8BtkC,cAAQ,CAAC,CAAD,CAA5C;AAEAT,EAAAA,eAAS,CAAC,MAAM;AACd,UAAM4C,KAAK,GAAGgH,QAAQ,CAAC0Z,aAAT,CAAuB,OAAvB,CAAd;;AACA,UAAM0hB,UAAU,GAAG,MAAMD,aAAa,CAAC,MAAMniC,KAAK,CAAC7Y,WAAb,CAAtC;;AACA6Y,IAAAA,KAAK,CAACf,gBAAN,CAAuB,YAAvB,EAAqCmjC,UAArC;AAEA,WAAO,MAAMpiC,KAAK,CAACd,mBAAN,CAA0B,YAA1B,EAAwCkjC,UAAxC,CAAb;AACD,GANQ,EAMN,EANM,CAAT;AAQA,SACEzlC,cAAc,IAAI,CAAlB,iBACEsH,eAAC,UAAD;AACE,IAAA,aAAa,EAAEtH,cAAc,GAAGulC,UADlC;AAEE,IAAA,OAAO,EAAE,MAAMrsC,OAAO,CAACO,OAAR,CAAgBJ,MAAM;AAAA;;AAAA,+BAAIA,MAAM,CAACyX,MAAX,mDAAI,oBAAAzX,MAAM,CAAV;AAAA,KAAtB;AAFjB,IAFJ;AAQD,CArBD;;AAuBA,MAAMqsC,aAAa,GAAG,OAAO;AAC3BlP,cAAAA,YAD2B;AAE3B+E,WAAAA,SAF2B;AAG3BU,EAAAA,WAH2B;AAI3BE,gBAAAA,cAJ2B;AAK3BC,iBAAAA,eAL2B;AAM3BC,EAAAA,aAN2B;AAO3BmG,EAAAA,eAP2B;AAQ3BG,EAAAA,gBAR2B;AAS3BgD,yBAAAA,gBAT2B;AAU3B5C,qBAAAA,mBAV2B;AAW3BC,EAAAA,UAX2B;AAY3BS,EAAAA,OAZ2B;AAa3BqB,EAAAA,QAb2B;AAc3BE,EAAAA,YAd2B;AAe3BG,EAAAA,kBAf2B;AAgB3BF,EAAAA,cAhB2B;AAkB3BK,EAAAA,YAlB2B;AAmB3BlD,cAAAA;AAnB2B,CAAP,CAAtB;;;;AClHA;;AACA;AACA,MAAMwD,MAAM,GAAG;AACbnL,EAAAA,MAAM,EAAE,CADK;AAEb1D,EAAAA,IAAI,EAAE;AAFO,CAAf;AAKA,MAAMgD,gBAAc,GAAG;AACrBzd,EAAAA,QAAQ,EAAE,UADW;AAErB1vB,EAAAA,GAAG,EAAE,CAFgB;AAGrBR,EAAAA,IAAI,EAAE,CAHe;AAIrBG,EAAAA,KAAK,EAAE,MAJc;AAKrBM,EAAAA,MAAM,EAAE,MALa;AAMrBg5C,EAAAA,SAAS,EAAE,YANU;AAOrB9f,EAAAA,OAAO,EAAE,MAPY;AAQrBK,EAAAA,aAAa,EAAE,QARM;AASrB4Q,EAAAA,QAAQ,EAAE,QATW;AAUrBzQ,EAAAA,KAAK,EAAE,OAVc;AAWrB;AACAmM,EAAAA,SAAS,EAAE,eAZU;AAarBlM,EAAAA,UAAU,EAAE,MAbS;AAcrBsf,EAAAA,EAAE,EAAE;AACFrL,IAAAA,MAAM,EAAE,CADN;AAEFH,IAAAA,QAAQ,EAAE,KAFR;AAGFyL,IAAAA,UAAU,EAAE;AAHV,GAdiB;AAmBrB,0BAAwB;AACtBxf,IAAAA,KAAK,EAAE,MADe;AAEtBmU,IAAAA,OAAO,EAAE,GAFa;AAGtBsL,IAAAA,cAAc,EAAE;AAHM,GAnBH;AAwBrBvf,EAAAA,MAAM,EAAE;AACN6T,IAAAA,QAAQ,EAAE;AADJ;AAxBa,CAAvB;AA6BA,MAAM/6B,IAAI,GAAG;AACX42B,EAAAA,eAAe,EAAG;AACpB;AACA;AACA;AACA;AACA;AANa,CAAb;AASA,MAAM8P,OAAO,GAAG;AACd9P,EAAAA,eAAe,EAAG;AACpB;AACA;AACA;AACA;AACA;AANgB,CAAhB;AASA,MAAM+P,gBAAgB,GAAG;AACvBr+C,EAAAA,OAAO,EAAE;AACPyyC,IAAAA,QAAQ,EAAE;AADH,GADc;;AAAA,CAAzB;AAMA,MAAM6L,QAAQ,GAAG;AACfN,EAAAA,SAAS,EAAE,YADI;AAEft5C,EAAAA,KAAK,EAAE,MAFQ;AAGfq6B,EAAAA,OAAO,EAAE,kBAHM;AAIfb,EAAAA,OAAO,EAAE,MAJM;AAKfE,EAAAA,UAAU,EAAE,QALG;AAMfQ,EAAAA,MAAM,EAAE;AACNsQ,IAAAA,IAAI,EAAE,WADA;AAENxqC,IAAAA,KAAK,EAAE,OAFD;AAGNM,IAAAA,MAAM,EAAE;AAHF,GANO;AAWf,gFAA8E;AAC5E83C,IAAAA,UAAU,EAAE;AADgE,GAX/D;AAcf,iCAA+B;AAC7ByB,IAAAA,WAAW,EAAE;AADgB;AAdhB,CAAjB;AAmBA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,MAAM,EAAE;AACN,oEAAgE;AAC9D5L,MAAAA,OAAO,EAAE,CADqD;AAE9DhI,MAAAA,SAAS,EAAE,mBAFmD;AAG9DiI,MAAAA,UAAU,EAAE;AAHkD;AAD1D,GADY;AAQpB4L,EAAAA,KAAK,EAAE;AACL,oEAAgE;AAC9D5L,MAAAA,UAAU,EAAE;AADkD;AAD3D;AARa,CAAtB;AAeA,MAAM6L,qBAAqB,GAAG;AAC5BF,EAAAA,MAAM,EAAE,EACN,GAAGD,aAAa,CAACC,MADX;AAEN,0BAAsBD,aAAa,CAACC;AAF9B,GADoB;AAK5BC,EAAAA,KAAK,EAAE,EACL,GAAGF,aAAa,CAACtgB,OADZ;AAEL,aAASsgB,aAAa,CAACtgB;AAFlB;AALqB,CAA9B;AAWA,MAAM0gB,aAAa,GAAG;AACpBnqB,EAAAA,QAAQ,EAAE,UADU;AAEpB4X,EAAAA,MAAM,EAAE,GAFY;AAGpBnO,EAAAA,OAAO,EAAE,MAHW;AAIpBE,EAAAA,UAAU,EAAE,QAJQ;AAKpB,cAAY;AACVwU,IAAAA,MAAM,EAAE,KADE;AAEVluC,IAAAA,KAAK,EAAE,QAFG;AAGVM,IAAAA,MAAM,EAAE,QAHE;AAIV,kBAAc;AACZ6tC,MAAAA,OAAO,EAAE;AADG,KAJJ;AAOV,qBAAiB;AACfnuC,MAAAA,KAAK,EAAE,KADQ;AAEfM,MAAAA,MAAM,EAAE;AAFO;AAPP;AALQ,CAAtB;AAmBA,MAAM65C,YAAY,GAAG;AACnB1P,EAAAA,QAAQ,EAAE,QADS;AAEnB3Q,EAAAA,UAAU,EAAE,QAFO;AAGnBsgB,EAAAA,YAAY,EAAE;AAHK,CAArB;AAMA,MAAMC,SAAS,GAAG;AAChB3gB,EAAAA,UAAU,EAAE,YADI;AAEhB+Q,EAAAA,QAAQ,EAAE,SAFM;AAGhB8O,EAAAA,EAAE,EAAE;AACFj5C,IAAAA,MAAM,EAAE,KADN;AAEFy3C,IAAAA,UAAU,EAAE,KAFV;AAGF,OAAGoC,YAHD;AAIF,aAASA;AAJP;AAHY,CAAlB;AAWA,MAAMG,SAAS,GAAG;AAChBvqB,EAAAA,QAAQ,EAAE,UADM;AAEhB4X,EAAAA,MAAM,EAAE,IAFQ;AAGhB3nC,EAAAA,KAAK,EAAE,MAHS;AAIhBM,EAAAA,MAAM,EAAE,MAJQ;AAKhBk5B,EAAAA,OAAO,EAAE,MALO;AAMhBE,EAAAA,UAAU,EAAE,QANI;AAOhBD,EAAAA,cAAc,EAAE;AAPA,CAAlB;AAUA,MAAM8gB,SAAS,GAAG;AAChBxqB,EAAAA,QAAQ,EAAE,UADM;AAEhB7vB,EAAAA,KAAK,EAAE,CAFS;AAGhB+nC,EAAAA,MAAM,EAAE,MAHQ;AAIhBlO,EAAAA,SAAS,EAAE,OAJK;AAKhBG,EAAAA,MAAM,EAAE;AACNl6B,IAAAA,KAAK,EAAE,MADD;AAENM,IAAAA,MAAM,EAAE;AAFF;AALQ,CAAlB;AAWA,MAAMk6C,cAAY,GAAG;AACnB,WAAS;AACP,4EAAwE;AACtEpC,MAAAA,UAAU,EAAE;AAD0D,KADjE;AAIP,2EAAuE;AACrEyB,MAAAA,WAAW,EAAE;AADwD,KAJhE;AAOP,8BAA0B;AACxBzB,MAAAA,UAAU,EAAE;AADY;AAPnB;AADU,CAArB;AAcA,MAAMqC,eAAe,GAAG;AACtBC,EAAAA,QAAQ,EAAE,MADY;AAEtB,yBAAuB;AACrBlQ,IAAAA,IAAI,EAAE,MADe;AAErBmQ,IAAAA,YAAY,EAAE;AAFO,GAFD;AAMtB,sBAAoB;AAClBnhB,IAAAA,OAAO,EAAE;AADS;AANE,CAAxB;;AAWA,MAAMohB,aAAa,GAAG,CAAC;AACrBC,EAAAA,KAAK,GAAG,QADa;AAErBC,EAAAA,UAFqB;AAGrBC,EAAAA,YAAY,GAAG,EAHM;AAIrBC,EAAAA,aAAa,GAAG,EAJK;AAKrBC,EAAAA,qBAAqB,GAAG,EALH;AAMrBC,EAAAA,iBAAiB,GAAG;AANC,CAAD,KAQpBL,KAAK,KAAK,SAAV,GACE9R;AAAA,aACGkS,qBADH,EAEGH,UAFH,EAGGI,iBAHH,EAIGH,YAJH,EAKGC,aALH;AAAA,EADF,GASEjS;AAAA,aACGgS,YADH,EAEGE,qBAFH,EAGGH,UAHH,EAIGI,iBAJH,EAKGF,aALH;AAAA,EAjBJ;;;;;;;;;;;;;;;;;;;;;;AA0BA,MAAMG,aAAa,GAAG,CAAC;AACrBxvC,EAAAA,IAAI,GAAG,QADc;AAErB6tB,EAAAA,OAFqB;AAGrB6L,EAAAA,eAHqB;AAIrB+V,EAAAA,IAJqB;AAKrBvjC,EAAAA,KAAK,GAAG,EALa;AAMrB2tB,EAAAA,YAAY,GAAG,EANM;AAOrB6V,EAAAA,cAPqB;AAQrBC,EAAAA,OAAO,GAAG,EARW;AASrBC,EAAAA,cATqB;AAUrBC,EAAAA,aAVqB;AAWrBC,EAAAA,eAXqB;AAYrBC,EAAAA,gBAZqB;AAarBC,EAAAA,UAbqB;AAcrBjW,EAAAA,QAAQ,GAAG,EAdU;AAerBkW,EAAAA,MAAM,GAAG,EAfY;AAgBrBC,EAAAA,YAhBqB;AAiBrBC,EAAAA,SAjBqB;AAkBrBnhC,EAAAA,QAlBqB;AAmBrBwc,EAAAA,YAnBqB;AAoBrB4kB,EAAAA,OApBqB;AAqBrB,KAAGC;AArBkB,CAAD,KAuBpBjT;AACE,EAAA,GAAG,GACDyE,gBADC,EAEDmM,gBAAgB,CAACyB,IAAD,CAFf,EAGDzvC,IAAI,KAAK,SAAT,IAAsB6uC,cAHrB,EAIDhhB,OAAO,KAAK,OAAZ,KAAwB6hB,cAAc,GAAG3B,OAAH,GAAa1mC,IAAnD,CAJC,28QADL;AAOE,EAAA,GAAG,EAAEmkB,YAPP;AAAA,KAQM6kB,IARN;AAAA,aAUEjT;AAAK,IAAA,GAAG,EAAEgT,OAAV;AAAmB,IAAA,GAAG,EAAEzB,SAAxB;AAAA,eACG3uC,IAAI,KAAK,QAAT,GACCoP;AAAK,MAAA,GAAG,GAAGm/B,aAAH,EAAkBJ,aAAa,CAACzU,eAAD,CAA/B,28QAAR;AAAA,gBACEtqB,iBAAC,aAAD;AAAe,QAAA,KAAK,EAAC,QAArB;AAAA,WAAkCwgC;AAAlC;AADF,MADD,GAKCO,SANJ,EAQGD,YAAY,IAAI9gC;AAAK,MAAA,GAAG,EAAEw/B,SAAV;AAAA,gBAAsBsB;AAAtB,MARnB;AAAA,IAVF,EAoBE9S;AAAK,IAAA,GAAG,GAAG6Q,QAAH,EAAaS,SAAb,EAAwBP,aAAa,CAACtgB,OAAD,CAArC,28QAAR;AAAA,eACGmiB,UADH,EAEE5S;AAAA,iBACGlxB,KADH,EAEG2tB,YAAY,IAAIzqB;AAAK,QAAA,GAAG,QAAR;AAAA,kBAA+ByqB;AAA/B,QAFnB;AAAA,MAFF,EAMEzqB;AAAK,MAAA,GAAG,EAAEs+B;AAAV,MANF,EAOG1tC,IAAI,KAAK,QAAT,IAAqB8vC,eAPxB,EAQGG,MAAM,IAAI7gC;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,gBAAyB6gC;AAAzB,MARb;AAAA,IApBF,EA8BE7S;AACE,IAAA,GAAG,GACD6Q,QADC,sBAGDjuC,IAAI,KAAK,SAAT,IAAsB8uC,eAHrB,EAIDR,qBAAqB,CAAC5U,eAAD,CAJpB,28QADL;AAAA,eAQGiW,OAAO,IAAIvgC,2BARd,EASGpP,IAAI,KAAK,SAAT,IACCoP,iBAAC,aAAD;AAAe,MAAA,KAAK,EAAC,SAArB;AAAA,SAAmCwgC;AAAnC,MAVJ,EAYG7V,QAAQ,IACP3qB;AAAK,MAAA,SAAS,EAAC,QAAf;AAAwB,MAAA,GAAG,SAA3B;AAAA,gBACG2qB;AADH,MAbJ,EAiBG/5B,IAAI,KAAK,SAAT,IACCo9B;AAAA,iBACEhuB;AAAK,QAAA,GAAG,EAAEs+B;AAAV,QADF,EAEGmC,aAFH,EAGGC,eAHH;AAAA,MAlBJ,EAwBGC,gBAxBH;AAAA,IA9BF,EAwDG/gC,QAxDH;AAAA,EAvBF;;ACrNA;AAMA,MAAMshC,QAAQ,GAAG;AACfj8C,EAAAA,KAAK,EAAE,MADQ;AAEfM,EAAAA,MAAM,EAAE,MAFO;AAGf4tC,EAAAA,MAAM,EAAE,UAHO;AAIf6J,EAAAA,UAAU,EAAE,MAJG;AAKfnO,EAAAA,eAAe,EAAG,OAAMG,IAAI,CAAC9C,QAAS,GALvB;AAMfmH,EAAAA,UAAU,EAAE;AANG,CAAjB;AASA,MAAM8N,SAAS,GAAG,EAChB,GAAGD,QADa;AAEhB9V,EAAAA,SAAS,EAAE;AAFK,CAAlB;AAKA,MAAMgW,UAAU,GAAG;AACjB9hB,EAAAA,OAAO,EAAE,eADQ;AAEjBb,EAAAA,OAAO,EAAE,MAFQ;AAGjBE,EAAAA,UAAU,EAAE,QAHK;AAIjBM,EAAAA,KAAK,EAAE,MAJU;AAKjB+T,EAAAA,QAAQ,EAAE,MALO;AAMjB3T,EAAAA,MAAM,EAAE;AANS,CAAnB;AASA,MAAMgiB,YAAY,GAAG;AACnB3R,EAAAA,QAAQ,EAAE;AADS,CAArB;AAIA,MAAM4R,kBAAkB,GAAG;AACzB5R,EAAAA,QAAQ,EAAE,QADe;AAEzBlQ,EAAAA,aAAa,EAAE,MAFU;AAGzBC,EAAAA,WAAW,EAAE;AAHY,CAA3B;;AAMA,MAAM8hB,iBAAiB,GAAG,CAAC;AAACzK,EAAAA,OAAD;AAAUh6B,EAAAA,KAAV;AAAiB8C,EAAAA,QAAQ,GAAG,EAA5B;AAAgC4hC,EAAAA;AAAhC,CAAD,KACxBxT;AAAA,aACEA;AAAK,IAAA,GAAG,EAAEoT,UAAV;AAAsB,IAAA,OAAO,EAAEtK,OAAO,IAAI0K,MAA1C;AAAA,eACG1kC,KADH,EAEEkD;AAAK,MAAA,GAAG,GAAG82B,OAAO,GAAGqK,SAAH,GAAeD,QAAzB;AAAR,MAFF;AAAA,IADF,EAKElhC;AAAK,IAAA,GAAG,GAAGqhC,YAAH,EAAiB,CAACvK,OAAD,IAAYwK,kBAA7B,2uGAAR;AAAA,cAA2D1hC;AAA3D,IALF;AAAA,EADF;;AAUA2hC,iBAAiB,CAACthC,SAAlB,GAA8B;AAC5B62B,EAAAA,OAAO,EAAE5mC,SAAS,CAACq5B,IADS;AAE5BiY,EAAAA,MAAM,EAAEtxC,SAAS,CAACpO,IAFU;AAG5Bgb,EAAAA,KAAK,EAAE5M,SAAS,CAACgQ,IAHW;AAI5BN,EAAAA,QAAQ,EAAE1P,SAAS,CAACgQ;AAJQ,CAA9B;AAOA,MAAMuhC,YAAY,GAAG,MAArB;AAEA,MAAM9U,OAAK,GAAG;AACZ5I,EAAAA,SAAS,EAAE;AACT/O,IAAAA,QAAQ,EAAE,UADD;AAETkY,IAAAA,MAAM,EAAE,GAFC;AAGTjoC,IAAAA,KAAK,EAAE,MAHE;AAITyqC,IAAAA,QAAQ,EAAE,QAJD;AAKT2D,IAAAA,UAAU,EAAE,qBALH;AAMTjI,IAAAA,SAAS,EAAE;AANF,GADC;AASZsW,EAAAA,MAAM,EAAE;AACNtW,IAAAA,SAAS,EAAG,gCAA+BqW,YAAa;AADlD;AATI,CAAd;;AAcA,MAAME,mBAAmB,GAAG,CAAC;AAAC7K,EAAAA,OAAD;AAAU0K,EAAAA,MAAV;AAAkB1kC,EAAAA,KAAlB;AAAyB8C,EAAAA,QAAQ,GAAG;AAApC,CAAD,KAA+C;AACzE,SACEA,QAAQ,IACNI;AACE,IAAA,SAAS,EAAC,4BADZ;AAEE,IAAA,GAAG,GAAG2sB,OAAK,CAAC5I,SAAT,EAAoB,CAAC+S,OAAD,IAAYnK,OAAK,CAAC+U,MAAtC,6uGAFL;AAGE,IAAA,OAAO,EAAE,MAAM;AACb,UAAI,CAAC5K,OAAL,EAAc;AACZ0K,QAAAA,MAAM;AACP;AACF,KAPH;AAAA,cASExhC,iBAAC,iBAAD;AAAmB,MAAA,OAAO,EAAE82B,OAA5B;AAAqC,MAAA,KAAK,EAAEh6B,KAA5C;AAAmD,MAAA,MAAM,EAAE0kC,MAA3D;AAAA,gBACG5hC;AADH;AATF,IAFJ;AAiBD,CAlBD;;AAoBA+hC,mBAAmB,CAAC1hC,SAApB,GAAgC;AAC9B62B,EAAAA,OAAO,EAAE5mC,SAAS,CAACq5B,IADW;AAE9BiY,EAAAA,MAAM,EAAEtxC,SAAS,CAACpO,IAFY;AAG9Bgb,EAAAA,KAAK,EAAE5M,SAAS,CAACgQ,IAHa;AAI9BN,EAAAA,QAAQ,EAAE1P,SAAS,CAACgQ;AAJU,CAAhC;;AC5FA;AAOA,MAAM0hC,UAAU,GAAG;AACjBC,EAAAA,SAAS,EAAE,QADM;AAEjBpjB,EAAAA,OAAO,EAAE,MAFQ;AAGjBK,EAAAA,aAAa,EAAE,QAHE;AAIjB4Q,EAAAA,QAAQ,EAAE,SAJO;AAKjBqN,EAAAA,QAAQ,EAAE,MALO;AAMjB/nB,EAAAA,QAAQ,EAAE,UANO;AAOjBkY,EAAAA,MAAM,EAAE,GAPS;AAQjBmG,EAAAA,UAAU,EAAE,mBARK;AASjBjI,EAAAA,SAAS,EAAE,kBATM;AAUjB,sBAAoB;AAClBqE,IAAAA,IAAI,EAAE,QADY;AAElB4D,IAAAA,UAAU,EAAE,wCAFM;AAGlBjI,IAAAA,SAAS,EAAE,kBAHO;AAIlBgI,IAAAA,OAAO,EAAE;AAJS;AAVH,CAAnB;AAkBA,MAAM0O,cAAc,GAAG;AACrBzO,EAAAA,UAAU,EAAE,iBADS;AAErBjI,EAAAA,SAAS,EAAE,eAFU;AAGrB,sBAAoB;AAClBA,IAAAA,SAAS,EAAE,eADO;AAElBgI,IAAAA,OAAO,EAAE;AAFS;AAHC,CAAvB;;AAUA,MAAM2O,gBAAgB,GAAGx8C,MAAM,IAC7BA,MAAM,IAAI;AACR,sBAAoB;AAClB;AACA6lC,IAAAA,SAAS,EAAG,gCAA+B7lC,MAAO;AAFhC;AADZ,CADZ;;AAQA,MAAMy8C,aAAa,GAAG;AACpBz8C,EAAAA,MAAM,EAAE,MADY;AAEpBs5B,EAAAA,eAAe,EAAE,kBAFG;AAGpBwU,EAAAA,UAAU,EAAE;AAHQ,CAAtB;AAMA,MAAM4O,iBAAiB,GAAG;AACxBpjB,EAAAA,eAAe,EAAE,oBADO;AAExBwU,EAAAA,UAAU,EAAE;AAFY,CAA1B;;AAKA,MAAM6O,YAAY,GAAG,CAAC;AACpBtxC,EAAAA,IAAI,GAAG,QADa;AAEpBuxC,EAAAA,cAFoB;AAGpB/G,EAAAA,UAHoB;AAIpBjR,EAAAA,WAJoB;AAKpB1zB,EAAAA,SALoB;AAMpBH,EAAAA;AANoB,CAAD,KAQnB03B;AAAA,aACGmU,cAAc,IAAIvxC,IAAI,KAAK,SAA3B,IACCo9B;AAAA,eACEhuB;AAAK,MAAA,KAAK,EAAE;AAACza,QAAAA,MAAM,EAAE;AAAT;AAAZ,MADF,EAEEya,iBAAC,mBAAD;AACE,MAAA,KAAK,EAAEmiC,cAAc,CAACrlC,KADxB;AAEE,MAAA,OAAO,EAAEqtB,WAAW,KAAK,gBAF3B;AAGE,MAAA,MAAM,EAAE7zB,yBAHV;AAAA,gBAKG6rC,cAAc,CAACrpC;AALlB,MAFF;AAAA,IAFJ,EAaGsiC,UAAU,CAAC35C,GAAX,CACC,CACE;AACEqX,IAAAA,OADF;AAEEw0B,IAAAA,IAFF;AAGEX,IAAAA,KAHF;AAIEyV,IAAAA,WAAW,GAAG,IAJhB;AAKEhoC,IAAAA,MAAM,GAAG,KALX;AAMEqnC,IAAAA,YAAY,GAAG;AANjB,GADF,EASEj5B,KATF,KAUK;AACH,UAAM65B,SAAS,GAAG/U,IAAI,IAAI9kB,KAAK,KAAK2hB,WAApC;AAEA,WACE6D;AACE,MAAA,GAAG,GACD4T,UADC,EAEDS,SAAS,GAAGP,cAAH,GAAoBC,gBAAgB,CAACN,YAAD,CAF5C,EAGDW,WAAW,IAAI,CAACJ,aAAD,EAAgBK,SAAS,IAAIJ,iBAA7B,CAHd,EAIDI,SAAS,IAAI1V,KAJZ,8lJADL;AAOE,MAAA,SAAS,EAAEvyB,MAAM,IAAI,QAPvB;AAAA,iBASGgoC,WAAW,IACVpiC;AACE,QAAA,KAAK,EAAE;AAACyvB,UAAAA,IAAI,EAAE;AAAP,SADT;AAEE,QAAA,OAAO,EAAE7pC,KAAK,IAAI;AAChBA,UAAAA,KAAK,CAACusC,eAAN;AACA17B,UAAAA,SAAS,CAAC7Q,KAAD,CAAT;AACD;AALH,QAVJ,eAkBGqoC,kBAAY,CAACn1B,OAAO,CAAC,CAAD,CAAP,IAAcA,OAAf,EAAwB;AACnCwpC,QAAAA,MAAM,EAAED,SAD2B;AAEnClW,QAAAA,KAAK,EAAE11B;AAF4B,OAAxB,CAlBf;AAAA,MADF;AAyBD,GAvCF,CAbH;AAAA,EARF;;AAiEAyrC,YAAY,CAACjiC,SAAb,GAAyB;AACvBrP,EAAAA,IAAI,EAAEV,SAAS,CAACI,KAAV,CAAgB,CAAC,QAAD,EAAW,SAAX,CAAhB,CADiB;AAEvB6xC,EAAAA,cAAc,EAAEjyC,SAAS,CAAC3O,MAFH;AAGvB65C,EAAAA,UAAU,EAAElrC,SAAS,CAACuS,KAHC;AAIvB0nB,EAAAA,WAAW,EAAEj6B,SAAS,CAACG,MAJA;AAKvBoG,EAAAA,SAAS,EAAEvG,SAAS,CAACpO,IALE;AAMvBwU,EAAAA,yBAAyB,EAAEpG,SAAS,CAACpO;AANd,CAAzB;;ACvHA;AAGA,MAAMygD,cAAc,GAAG;AACrBV,EAAAA,SAAS,EAAE,QADU;AAErBpjB,EAAAA,OAAO,EAAE,MAFY;AAGrBK,EAAAA,aAAa,EAAE,QAHM;AAIrB4Q,EAAAA,QAAQ,EAAE,SAJW;AAKrBqN,EAAAA,QAAQ,EAAE,MALW;AAMrB/nB,EAAAA,QAAQ,EAAE,UANW;AAOrBkY,EAAAA,MAAM,EAAE,KAPa;AAQrBjO,EAAAA,KAAK,EAAE,SARc;AASrBujB,EAAAA,UAAU,EAAG,4EATQ;AAUrBzjB,EAAAA,UAAU,EAAE,UAVS;AAWrBC,EAAAA,SAAS,EAAE;AAXU,CAAvB;;AAcA,MAAMyjB,SAAS,GAAG,CAAC;AAAChuB,EAAAA;AAAD,CAAD,KAChBzU;AAAK,EAAA,GAAG,EAAEuiC,cAAV;AAAA,YACEviC;AAAA,cAAOyU;AAAP;AADF,EADF;;AAMAguB,SAAS,CAACxiC,SAAV,GAAsB;AACpBwU,EAAAA,IAAI,EAAEvkB,SAAS,CAACG;AADI,CAAtB;;ACvBA;AAaA,MAAMqyC,OAAK,GAAG;AACZ,iBAAe,GADH;AAEZC,EAAAA,KAAK,EAAE,GAFK;AAGZ,qBAAmB,GAHP;AAIZ,sBAAoB,GAJR;AAKZpiD,EAAAA,OAAO,EAAE;AALG,CAAd;;AAQA,MAAMqiD,UAAQ,GAAG,CAAC;AAChBhyC,EAAAA,IAAI,GAAG,QADS;AAEhBiC,EAAAA,MAFgB;AAGhB2Z,EAAAA,KAHgB;AAIhBue,EAAAA,QAJgB;AAKhBV,EAAAA,OALgB;AAMhBC,EAAAA,eANgB;AAOhBxtB,EAAAA,KAPgB;AAQhB2tB,EAAAA,YARgB;AAShBE,EAAAA,QATgB;AAUhBK,EAAAA,gBAVgB;AAWhBH,EAAAA,KAXgB;AAYhBuQ,EAAAA,UAZgB;AAahB+G,EAAAA,cAbgB;AAchBhY,EAAAA,WAdgB;AAehBmW,EAAAA,cAfgB;AAgBhBU,EAAAA,OAhBgB;AAiBhBvqC,EAAAA,SAjBgB;AAkBhBH,EAAAA,yBAlBgB;AAmBhBusC,EAAAA,MAAM,GAAGzC,aAnBO;AAoBhBxgC,EAAAA;AApBgB,CAAD,KAqBX;AACJ,QAAM;AAACrF,IAAAA,IAAD;AAAOK,IAAAA,OAAP;AAAgBE,IAAAA;AAAhB,MAA+BZ,WAAW,CAAC;AAC/CE,IAAAA,MAAM,EAAEvH,MAAM,KAAK,SAAX,IAAwBw3B,OADe;AAE/ChwB,IAAAA,SAAS,EAAEzJ,IAAI,KAAK;AAF2B,GAAD,CAAhD;AAIA,QAAM;AAAC3L,IAAAA,KAAD;AAAQ69C,IAAAA,iBAAiB,EAAEzC,IAA3B;AAAiCjgC,IAAAA,GAAG,EAAEgc;AAAtC,MAAsD2mB,iCAAa,CAAC;AACxEC,IAAAA,QAAQ,EAAEC,6BAD8D;AAExEC,IAAAA,WAAW,EAAER;AAF2D,GAAD,CAAzE;AAIA,QAAM;AACJxT,IAAAA,UADI;AAEJ+E,IAAAA,OAFI;AAGJU,IAAAA,WAHI;AAIJE,IAAAA,YAJI;AAKJC,IAAAA,aALI;AAMJC,IAAAA,aANI;AAOJmG,IAAAA,eAPI;AAQJG,IAAAA,gBARI;AASJgD,IAAAA,qBATI;AAUJ5C,IAAAA,iBAVI;AAWJC,IAAAA,UAXI;AAYJS,IAAAA,OAZI;AAaJqB,IAAAA,QAbI;AAcJE,IAAAA,YAdI;AAeJG,IAAAA,kBAfI;AAgBJF,IAAAA,cAhBI;AAiBJK,IAAAA;AAjBI,MAkBFI,aAAa,EAlBjB;AAmBA,QAAMoC,cAAc,GAAG;AACrBT,IAAAA,UAAU,EACRnvC,IAAI,KAAK,QAAT,IAAqBiC,MAAM,KAAK,WAAhC,GACEmN,iBAAC,OAAD;AACE,MAAA,MAAM,EAAE;AACNgV,QAAAA,QAAQ,EAAE,QADJ;AAEN/vB,QAAAA,KAAK,EAAE,KAFD;AAGNkuC,QAAAA,MAAM,EAAE,KAHF;AAINtU,QAAAA,eAAe,EAAE;AAJX;AADV,MADF,GAUE7e,iBAAC,UAAD,KAZiB;AAcrB,QAAI,CAAC2qB,QAAD,IACFI,QADE,IAEFve,KAFE,KAGD5b,IAAI,KAAK,QAAT,IAAqB3L,KAAK,IAAIy9C,OAAK,CAAC,iBAAD,CAHlC,KAG0D;AAC1DxC,MAAAA,qBAAqB,EAAElgC,iBAAC,qBAAD,KADmC;AAE1DmgC,MAAAA,iBAAiB,EAAEngC,iBAAC,iBAAD,KAFuC;AAG1DggC,MAAAA,YAAY,EAAEhgC,iBAAC,YAAD,KAH4C;AAI1DigC,MAAAA,aAAa,EAAEjgC,iBAAC,aAAD;AAJ2C,KAH9D;AAdqB,GAAvB;AAwBA,QAAM+gC,SAAS,GACbluC,MAAM,KAAK,WAAX,GACEmN,iBAAC,OAAD;AAAS,IAAA,MAAM,EAAE;AAAC6e,MAAAA,eAAe,EAAE;AAAlB;AAAjB,IADF,GAGE7e,iBAAC,QAAD,KAJJ;AAMA,QAAMmjC,UAAU,GAAGxY,QAAQ,GACvB;AACEkW,IAAAA,MAAM,EAAEhW,KAAK,IACX7qB;AAAG,MAAA,IAAI,EAAE6qB,KAAT;AAAgB,MAAA,GAAG,EAAC,YAApB;AAAiC,MAAA,MAAM,EAAC,QAAxC;AAAA,gBACE7qB,iBAAC,OAAD;AAAS,QAAA,IAAI,EAAC;AAAd;AADF,MAFJ;AAME2qB,IAAAA,QANF;AAOEmW,IAAAA,YAAY,EAAE9gC,iBAAC,YAAD;AAPhB,GADuB,GAUvB;AACElD,IAAAA,KADF;AAEE2tB,IAAAA,YAFF;AAGE8V,IAAAA,OAAO,EAAExV,QAAQ,GAAG/qB,iBAAC,OAAD,KAAH,GAAiBA,iBAAC,WAAD,KAHpC;AAIE0gC,IAAAA,eAAe,EAAEl0B,KAAK,KACnB5b,IAAI,KAAK,QAAT,IAAqB3L,KAAK,IAAIy9C,OAAK,CAAC,aAAD,CADhB,CAAL,IAEb1iC,iBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEpP,IAAI,KAAK,QAAT,IAAqB3L,KAAK,IAAIy9C,OAAK,CAACC;AAA3D;AANN,GAVJ;AAoBA,SACE3U,kBAAC,MAAD;AACE,IAAA,IAAI,EAAEp9B,IADR;AAEE,IAAA,OAAO,EAAE2J,IAFX;AAGE,IAAA,eAAe,EAAE+vB,eAAe,IAAI/vB,IAHtC;AAIE,IAAA,IAAI,EAAE8lC,IAJR;AAKE,IAAA,cAAc,EAAEC,cAAc,IAAI,CAAC3V,QALrC;AAAA,OAMMwY,UANN;AAOE,IAAA,cAAc,EAAE3C,cAPlB;AAQE,IAAA,aAAa,EACXv7C,KAAK,IAAIy9C,OAAK,CAAC,aAAD,CAAd,IACE1iC,iBAAC,aAAD;AAAe,MAAA,aAAa,EAAE/a,KAAK,IAAI;AAAvC,MAVN;AAaE,IAAA,gBAAgB,EAAEunB,KAAK,IAAIxM,iBAAC,gBAAD,KAb7B;AAcE,IAAA,UAAU,EAAEA,iBAAC,UAAD,KAdd;AAeE,IAAA,SAAS,EAAE+gC,SAfb;AAgBE,IAAA,YAAY,EAAE3kB,YAhBhB;AAiBE,IAAA,OAAO,EAAE4kB,OAjBX;AAkBOpmC,IAAAA,OAlBP;AAkBgBE,IAAAA,WAlBhB;AAAA,eAoBEkF,iBAAC,SAAD;AAAW,MAAA,IAAI,EAAEgrB,gBAAF,aAAEA,gBAAF,uBAAEA,gBAAgB,CAAEvW;AAAnC,MApBF,EAqBG,CAACkW,QAAD,IACC3qB,iBAAC,YAAD;AACE,MAAA,IAAI,EAAEpP,IADR;AAEE,MAAA,UAAU,EAAEwqC,UAFd;AAGE,MAAA,cAAc,EAAE+G,cAHlB;AAIE,MAAA,WAAW,EAAEhY,WAJf;AAKE,MAAA,SAAS,EAAE1zB,SALb;AAME,MAAA,yBAAyB,EAAEH;AAN7B,MAtBJ,EA+BGzD,MAAM,KAAK,OAAX,GACCmN,iBAAC,YAAD,KADD,GAEGnN,MAAM,KAAK,SAAX,GACFmN,iBAAC,cAAD,KADE,GAEAnN,MAAM,KAAK,SAAX,GACFmN,iBAAC,OAAD,KADE,GAEAnN,MAAM,KAAK,aAAX,GACFmN,iBAAC,kBAAD,KADE,GAGF,EAxCJ,EA0CGJ,QA1CH;AAAA,IADF;AA8CD,CAjJD;;ACrBA;AAKA,MAAM8iC,KAAK,GAAG;AACZU,EAAAA,MAAM,EAAE;AACNlW,IAAAA,MAAM,EAAE,MADF;AAEN5N,IAAAA,OAAO,EAAE,QAFH;AAGNr6B,IAAAA,KAAK,EAAE,SAHD;AAINM,IAAAA,MAAM,EAAE,SAJF;AAKNytC,IAAAA,QAAQ,EAAE,MALJ;AAMN,iBAAa;AANP,GADI;AASZqQ,EAAAA,GAAG,EAAE;AACHnW,IAAAA,MAAM,EAAE,MADL;AAEH5N,IAAAA,OAAO,EAAE,SAFN;AAGHr6B,IAAAA,KAAK,EAAE,OAHJ;AAIHM,IAAAA,MAAM,EAAE,OAJL;AAKHytC,IAAAA,QAAQ,EAAE,MALP;AAMH,iBAAa;AANV;AATO,CAAd;AAmBA,MAAMrG,OAAK,GAAG;AACZ5I,EAAAA,SAAS,EAAE;AACT/O,IAAAA,QAAQ,EAAE,UADD;AAET4X,IAAAA,MAAM,EAAE,IAFC;AAGTznC,IAAAA,KAAK,EAAE,GAHE;AAITs5B,IAAAA,OAAO,EAAE,MAJA;AAKToO,IAAAA,YAAY,EAAE,KALL;AAMT5N,IAAAA,KAAK,EAAE,MANE;AAOTJ,IAAAA,eAAe,EAAE,uBAPR;AAQTuU,IAAAA,OAAO,EAAE,GARA;AASTC,IAAAA,UAAU,EAAE;AATH,GADC;AAYZyD,EAAAA,OAAO,EAAE;AACPlK,IAAAA,MAAM,EAAE,SADD;AAEPwG,IAAAA,OAAO,EAAE;AAFF,GAZG;AAgBZkQ,EAAAA,KAAK,EAAEC,QAAQ,KAAK;AAClB9T,IAAAA,IAAI,EAAE,OADY;AAElBz4B,IAAAA,MAAM,EAAE,MAFU;AAGlB61B,IAAAA,YAAY,EAAE,KAHI;AAIlB8C,IAAAA,UAAU,EAAG;AACjB,mCAAmCX,IAAI,CAAC/C,gBAAiB;AACzD,QAAQsX,QAAQ,GAAI,sBAAqBA,QAAS,IAAlC,GAAwC,EAAG;AAC3D;AACA;AARsB,GAAL,CAhBH;AA0BZ5rB,EAAAA,IAAI,EAAE;AACJ0lB,IAAAA,UAAU,EAAE,QADR;AAEJ5N,IAAAA,IAAI,EAAE;AAFF,GA1BM;AA8BZh9B,EAAAA,OAAO,EAAE;AACPmtC,IAAAA,YAAY,EAAE,CAAC,MAAD,EAAS,gBAAT,CADP;AAEPnhB,IAAAA,OAAO,EAAE;AAFF,GA9BG;AAkCZ+kB,EAAAA,OAAO,EAAE;AACPnG,IAAAA,UAAU,EAAE,MADL;AAEPp4C,IAAAA,KAAK,EAAE,CAAC,MAAD,EAAS,+BAAT,CAFA;AAGPM,IAAAA,MAAM,EAAE,CAAC,MAAD,EAAS,+BAAT,CAHD;AAIPyR,IAAAA,MAAM,EAAE,MAJD;AAKP24B,IAAAA,UAAU,EAAG,+BAA8BX,IAAI,CAAC7C,KAAM;AAL/C;AAlCG,CAAd;;AA2CA,MAAMsX,UAAU,GAAG,CAAC;AAClB3M,EAAAA,OADkB;AAElB4M,EAAAA,aAFkB;AAGlBjxC,EAAAA,OAHkB;AAIlBqK,EAAAA,KAJkB;AAKlBujC,EAAAA,IALkB;AAMlBjkB,EAAAA,YANkB;AAOlBpT,EAAAA,IAPkB;AAQlBw6B,EAAAA,OARkB;AASlB,KAAGvC;AATe,CAAD,KAWjBjT;AACE,EAAA,GAAG,GAAGrB,OAAK,CAAC5I,SAAT,EAAoB2e,KAAK,CAACrC,IAAD,CAAzB,EAAiCvJ,OAAO,IAAInK,OAAK,CAACmK,OAAlD,w/GADL;AAEE,EAAA,GAAG,EAAE1a,YAFP;AAAA,KAGM6kB,IAHN;AAAA,aAKEjhC;AACE,IAAA,GAAG,EAAE2sB,OAAK,CAAC2W,KAAN,CAAYI,aAAZ,CADP;AAEE,IAAA,OAAO,EAAE16B,IAFX;AAGE,IAAA,SAAS,EAAC;AAHZ,IALF,EAUEglB;AAAK,IAAA,GAAG,EAAErB,OAAK,CAAChV,IAAhB;AAAA,eACEqW;AAAK,MAAA,GAAG,EAAErB,OAAK,CAACl6B,OAAhB;AAAA,iBACGA,OADH,EAEEuN;AACE,QAAA,GAAG,EAAE2sB,OAAK,CAAC6W,OADb;AAEE,QAAA,OAAO,EAAEA,OAFX;AAGE,QAAA,SAAS,EAAC;AAHZ,QAFF;AAAA,MADF,EASG1mC,KATH;AAAA,IAVF;AAAA,EAXF;;AAmCA2mC,UAAU,CAACxjC,SAAX,GAAuB;AACrB62B,EAAAA,OAAO,EAAE5mC,SAAS,CAACq5B,IADE;AAErBma,EAAAA,aAAa,EAAExzC,SAAS,CAACG,MAFJ;AAGrBoC,EAAAA,OAAO,EAAEvC,SAAS,CAACgQ,IAHE;AAIrBpD,EAAAA,KAAK,EAAE5M,SAAS,CAACgQ,IAJI;AAKrBmgC,EAAAA,IAAI,EAAEnwC,SAAS,CAACG,MALK;AAMrB+rB,EAAAA,YAAY,EAAElsB,SAAS,CAAC3O,MANH;AAOrBynB,EAAAA,IAAI,EAAE9Y,SAAS,CAACpO,IAPK;AAQrB0hD,EAAAA,OAAO,EAAEtzC,SAAS,CAACpO;AARE,CAAvB;;AC1FA,MAAM6hD,kBAAkB,GAAG,CAAC;AAAC52B,EAAAA,IAAD;AAAO3W,EAAAA;AAAP,CAAD,KAAqB;AAC9C,QAAM,CAACwtC,QAAD,EAAWC,WAAX,IAA0BjqC,cAAQ,EAAxC;AAEAT,EAAAA,eAAS,CAAC,MAAM;AACd,QAAI,CAAC/C,OAAL,EAAc;AAEdytC,IAAAA,WAAW,CAAC92B,IAAD,CAAX;AACA,UAAM+2B,UAAU,GAAGrqC,WAAW,CAC5B,MAAMoqC,WAAW,CAACxqC,OAAO,IAAIA,OAAO,GAAG,CAAtB,CADW,EAE5B,IAF4B,CAA9B;AAKA,WAAO,MAAMG,aAAa,CAACsqC,UAAD,CAA1B;AACD,GAVQ,EAUN,CAAC/2B,IAAD,EAAO3W,OAAP,CAVM,CAAT;AAYA,SAAOwtC,QAAP;AACD,CAhBD;;AAkBA,MAAMG,cAAc,GAAG,MAAM;AAC3B,QAAM;AAACjB,IAAAA;AAAD,MAAsBC,iCAAa,CAAC;AACxC3iC,IAAAA,GAAG,EAAEK,QAAQ,EAD2B;AAExCuiC,IAAAA,QAAQ,EAAEC,6BAF8B;AAGxCC,IAAAA,WAAW,EAAE;AACXE,MAAAA,MAAM,EAAE,CADG;AAEXC,MAAAA,GAAG,EAAE;AAFM;AAH2B,GAAD,CAAzC;AAQA,QAAM;AACJviD,IAAAA,KAAK,EAAE;AAACypC,MAAAA,qBAAqB,EAAEuM;AAAxB,KADH;AAEJ98B,IAAAA;AAFI,MAGFqG,gBAAU,CAACQ,OAAO,CAACU,EAAT,CAHd;AAIA,QAAM;AACJzgB,IAAAA,KAAK,EAAE;AAACgY,MAAAA;AAAD;AADH,MAEFuH,gBAAU,CAACQ,OAAO,CAACS,GAAT,CAFd;AAGA,QAAM;AACJxgB,IAAAA,KAAK,EAAE;AAACA,MAAAA,KAAK,EAAE+yB;AAAR;AADH,MAEFxT,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAFd;AAGA,QAAM;AACJlK,IAAAA,EADI;AAEJ+F,IAAAA,KAFI;AAGJ4Z,IAAAA,MAAM,EAAE,CAAC;AAAC/T,MAAAA,GAAG,EAAE+gC;AAAN,KAAD;AAHJ,MAIFhhD,wBAAI,CAACoW,OAAD,EAAU,gBAAV,CAAJ,IAAmC;AAAC4d,IAAAA,MAAM,EAAE,CAAC,EAAD;AAAT,GAJvC;;AAKA,QAAMstB,QAAQ,GAAG,MAAM;AACrBhqC,IAAAA,QAAQ,CAACmY,QAAQ,CAACzc,iBAAT,CAA2BqB,EAA3B,CAAD,CAAR;AACD,GAFD;;AAGA,QAAM6sC,QAAQ,GAAGD,kBAAkB,CAAC;AAAC52B,IAAAA,IAAI,EAAE,EAAP;AAAW3W,IAAAA,OAAO,EAAE0gC;AAApB,GAAD,CAAnC;AAEA39B,EAAAA,eAAS,CAAC,MAAM;AACd,QAAIyqC,QAAQ,IAAI,CAAhB,EAAmBI,QAAQ;AAC5B,GAFQ,EAEN,CAACJ,QAAQ,GAAG,CAAZ,CAFM,CAAT;AAIA,sBACE5jC,eAAC,UAAD;AACE,IAAA,SAAS,EAAC,6BADZ;AAEE,IAAA,OAAO,EAAE82B,OAAO,IAAIjjB,WAAW,KAAK9mB,WAAW,CAACO,KAFlD;AAGE,IAAA,OAAO,eACL0S,eAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,uBAAnB;AAA2C,MAAA,QAAQ,EAAE;AAAC4jC,QAAAA;AAAD;AAArD,MAJJ;AAME,IAAA,KAAK,EAAE9mC,KANT;AAOE,IAAA,aAAa,EAAE4mC,aAPjB;AAQE,IAAA,IAAI,EAAEZ,iBARR;AASE,IAAA,IAAI,EAAEkB,QATR;AAUE,IAAA,OAAO,EAAE,MAAMhqC,QAAQ,CAACmY,QAAQ,CAACtb,eAAT,EAAD;AAVzB,IADF;AAcD,CA/CD;;AC9BA;AAYA,MAAM81B,OAAK,GAAG;AACZsX,EAAAA,IAAI,EAAE;AACJjvB,IAAAA,QAAQ,EAAE,QADN;AAEJ4X,IAAAA,MAAM,EAAE,GAFJ;AAGJtnC,IAAAA,GAAG,EAAE,GAHD;AAIJm5B,IAAAA,OAAO,EAAE,MAJL;AAKJE,IAAAA,UAAU,EAAE,QALR;AAMJW,IAAAA,OAAO,EAAE,aANL;AAOJL,IAAAA,KAAK,EAAE,OAPH;AAQJJ,IAAAA,eAAe,EAAE,SARb;AASJmU,IAAAA,QAAQ,EAAE,MATN;AAUJgK,IAAAA,UAAU,EAAE,MAVR;AAWJ7d,IAAAA,MAAM,EAAE;AACN2f,MAAAA,WAAW,EAAE,MADP;AAENxf,MAAAA,OAAO,EAAE,GAFH;AAGNr6B,MAAAA,KAAK,EAAE,MAHD;AAINM,MAAAA,MAAM,EAAE,MAJF;AAKNyR,MAAAA,MAAM,EAAE;AALF;AAXJ,GADM;AAoBZktC,EAAAA,OAAO,EAAE;AACPlvB,IAAAA,QAAQ,EAAE,UADH;AAEP4X,IAAAA,MAAM,EAAE,IAFD;AAGPtnC,IAAAA,GAAG,EAAE,GAHE;AAIPL,IAAAA,KAAK,EAAE,MAJA;AAKPM,IAAAA,MAAM,EAAE,MALD;AAMPk5B,IAAAA,OAAO,EAAE,MANF;AAOPE,IAAAA,UAAU,EAAE,QAPL;AAQPD,IAAAA,cAAc,EAAE,QART;AASPG,IAAAA,eAAe,EAAE,oBATV;AAUPuU,IAAAA,OAAO,EAAE,GAVF;AAWPC,IAAAA,UAAU,EAAE;AAXL,GApBG;AAiCZtP,EAAAA,SAAS,EAAE;AACT0L,IAAAA,IAAI,EAAE,SADG;AAET0U,IAAAA,SAAS,EAAE,mBAFF;AAGTllB,IAAAA,KAAK,EAAE,MAHE;AAIT0Q,IAAAA,UAAU,EAAE,SAJH;AAKT5Q,IAAAA,UAAU,EAAE,QALH;AAMT8N,IAAAA,YAAY,EAAE,KANL;AAOT3N,IAAAA,UAAU,EAAE,MAPH;AAQTwQ,IAAAA,QAAQ,EAAE;AARD,GAjCC;AA2CZoH,EAAAA,OAAO,EAAE;AACPlK,IAAAA,MAAM,EAAE,GADD;AAEPwG,IAAAA,OAAO,EAAE,GAFF;AAGPhI,IAAAA,SAAS,EAAE,eAHJ;AAIPiI,IAAAA,UAAU,EAAE;AAJL,GA3CG;AAiDZv2B,EAAAA,KAAK,EAAE;AACLwiB,IAAAA,OAAO,EAAE;AADJ,GAjDK;AAoDZkkB,EAAAA,OAAO,EAAE;AACP7T,IAAAA,UAAU,EAAG,+BAA8BX,IAAI,CAAC7C,KAAM;AAD/C,GApDG;AAuDZ34B,EAAAA,IAAI,EAAE;AACJm8B,IAAAA,UAAU,EAAG,+BAA8BX,IAAI,CAACx7B,IAAK;AADjD,GAvDM;AA0DZ4wC,EAAAA,GAAG,EAAE;AACH/kB,IAAAA,MAAM,EAAE,SADL;AAEHZ,IAAAA,OAAO,EAAE,MAFN;AAGHa,IAAAA,OAAO,EAAE,aAHN;AAIH0T,IAAAA,QAAQ,EAAE,MAJP;AAKH,eAAW;AACTl6B,MAAAA,OAAO,EAAE,KADA;AAETukC,MAAAA,UAAU,EAAE,MAFH;AAGTp4C,MAAAA,KAAK,EAAE,MAHE;AAITM,MAAAA,MAAM,EAAE,MAJC;AAKTk5B,MAAAA,OAAO,EAAE,cALA;AAMTQ,MAAAA,KAAK,EAAE,OANE;AAOT0P,MAAAA,kBAAkB,EAAE,QAPX;AAQTC,MAAAA,cAAc,EAAE;AARP;AALR,GA1DO;AA0EZyV,EAAAA,KAAK,EAAE;AACL5U,IAAAA,IAAI,EAAE;AADD,GA1EK;AA6EZ6U,EAAAA,UAAU,EAAE;AACV,eAAW;AACTzV,MAAAA,eAAe,EAAG,OAAMG,IAAI,CAAC9C,QAAS,GAD7B;AAETd,MAAAA,SAAS,EAAE;AAFF;AADD,GA7EA;AAmFZhK,EAAAA,QAAQ,EAAE;AACR,eAAW;AACTyN,MAAAA,eAAe,EAAG,OAAMG,IAAI,CAAC7d,KAAM;AAD1B;AADH;AAnFE,CAAd;AA0FA,MAAMsuB,YAAY,GAAG;AACnByE,EAAAA,OAAO,EAAE;AACPlvB,IAAAA,QAAQ,EAAE,UADH;AAEPkY,IAAAA,MAAM,EAAE,KAFD;AAGP/nC,IAAAA,KAAK,EAAE,MAHA;AAIPs5B,IAAAA,OAAO,EAAE,MAJF;AAKPE,IAAAA,UAAU,EAAE,UALL;AAMP15B,IAAAA,KAAK,EAAE,OANA;AAOPM,IAAAA,MAAM,EAAE,mBAPD;AAQP6tC,IAAAA,OAAO,EAAE,GARF;AASPhI,IAAAA,SAAS,EAAE;AATJ,GADU;AAYnBrH,EAAAA,SAAS,EAAE,EACT,GAAG4I,OAAK,CAAC5I,SADA;AAETogB,IAAAA,SAAS,EAAE,MAFF;AAGTxU,IAAAA,UAAU,EAAE;AAHH,GAZQ;AAiBnBsU,EAAAA,IAAI,EAAE,EACJ,GAAGtX,OAAK,CAACsX,IADL;AAEJtU,IAAAA,UAAU,EAAE;AAFR,GAjBa;AAqBnByU,EAAAA,GAAG,EAAE,EACH,GAAGzX,OAAK,CAACyX,GADN;AAEH,eAAW,EAFR;AAGH,gBAAY,EACV,GAAGzX,OAAK,CAACyX,GAAN,CAAU,SAAV,CADO;AAEV/G,MAAAA,UAAU,EAAE,GAFF;AAGVyB,MAAAA,WAAW,EAAE;AAHH;AAHT,GArBc;AA8BnBwF,EAAAA,UAAU,EAAE;AACV,gBAAY;AACVzV,MAAAA,eAAe,EAAG,OAAMG,IAAI,CAAC9C,QAAS,GAD5B;AAEVd,MAAAA,SAAS,EAAE;AAFD;AADF,GA9BO;AAoCnBhK,EAAAA,QAAQ,EAAE;AACR,gBAAY;AACVyN,MAAAA,eAAe,EAAG,OAAMG,IAAI,CAAC7d,KAAM;AADzB;AADJ;AApCS,CAArB;;AA2CA,MAAMozB,YAAY,GAAG,CAAC;AAAC9vB,EAAAA;AAAD,CAAD,KACnBzU,iBAAC,gBAAD;AAAkB,EAAA,EAAE,EAAG,eAAcyU,IAAK,EAA1C;AAA6C,EAAA,UAAU,EAAE,MAAMA;AAA/D,EADF;;AAIA8vB,YAAY,CAACtkC,SAAb,GAAyB;AACvBwU,EAAAA,IAAI,EAAEvkB,SAAS,CAACG;AADO,CAAzB;;AAIA,MAAMm0C,WAAW,GAAG,CAAC;AAACC,EAAAA,WAAD;AAAcx6C,EAAAA,KAAK,GAAG,EAAtB;AAA0B2vC,EAAAA,aAA1B;AAAyC8K,EAAAA;AAAzC,CAAD,KAClB1kC;AAAK,EAAA,SAAS,EAAC,0BAAf;AAAA,YACG/V,KAAK,CAACxI,GAAN,CAAU,CAAC;AAACY,IAAAA,KAAD;AAAQg3C,IAAAA;AAAR,GAAD,KACTrL;AAEE,IAAA,SAAS,EAAES,8BAAU,CAAC,uBAAD,EAA0B;AAC7C,yCAAmCmL,aAAa,KAAKv3C;AADR,KAA1B,CAFvB;AAKE,IAAA,GAAG,GAAGoiD,WAAW,CAACL,GAAf,EAAoBxK,aAAa,KAAKv3C,KAAlB,IAA2BoiD,WAAW,CAACrjB,QAA3D,67TALL;AAME,IAAA,OAAO,EAAE,MAAMsjB,QAAQ,CAACriD,KAAD,CANzB;AAAA,eAQE2d,iBAAC,YAAD;AAAc,MAAA,IAAI,EAAEq5B,KAAK,IAAIh3C;AAA7B,MARF,EASE2d;AAAK,MAAA,GAAG,GAAG2sB,OAAK,CAAC0X,KAAT;AAAR,MATF;AAAA,KACOhiD,KADP,CADD;AADH,EADF;;AAkBAmiD,WAAW,CAACvkC,SAAZ,GAAwB;AACtBwkC,EAAAA,WAAW,EAAEv0C,SAAS,CAAC3O,MADD;AAEtB0I,EAAAA,KAAK,EAAEiG,SAAS,CAACuS,KAFK;AAGtBm3B,EAAAA,aAAa,EAAE1pC,SAAS,CAACG,MAHH;AAItBs0C,EAAAA,QAAQ,EAAEz0C,SAAS,CAAC2tB,WAJE;AAKtB6mB,EAAAA,QAAQ,EAAEx0C,SAAS,CAACpO;AALE,CAAxB;;AAQA,MAAM8iD,cAAc,GAAG,CAAC;AAACrkD,EAAAA,OAAD;AAAUskD,EAAAA;AAAV,CAAD,KAA+B;AACpD,QAAMJ,WAAW,GAAGlkD,OAAO,GAAGk/C,YAAH,GAAkB9S,OAA7C;AACA,QAAM;AACJ7rC,IAAAA,KAAK,EAAE;AAACopC,MAAAA;AAAD,KADH;AAEJlwB,IAAAA;AAFI,MAGFqG,gBAAU,CAACQ,OAAO,CAACU,EAAT,CAHd;AAIA,QAAM,CAACoT,IAAD,EAAOmwB,OAAP,IAAkBlrC,cAAQ,CAAC,GAAD,CAAhC;AACA,QAAMmrC,YAAY,GAAGlL,WAAW,EAAhC;AACA,QAAMviC,cAAc,GAAG6iC,iBAAiB,EAAxC;AAEAhhC,EAAAA,eAAS,CAAC,MAAM;AACd,QAAI,CAAC+wB,cAAL,EAAqB;AACnB4a,MAAAA,OAAO,CAAC,GAAD,CAAP;AACD;AACF,GAJQ,EAIN,CAAC5a,cAAD,CAJM,CAAT;AAMA,QAAM9pB,GAAG,GAAGlH,YAAM,EAAlB;AACA8rC,EAAAA,qCAAiB,CACf,MAAM;AACJ,QAAI9a,cAAJ,EAAoB;AAClBlwB,MAAAA,QAAQ,CAACjB,QAAM,CAAC1B,QAAP,EAAD,CAAR;AACD;AACF,GALc,EAMf;AACE4tC,IAAAA,IAAI,EAAE,CAAC7kC,GAAD,CADR;AAEE8kC,IAAAA,UAAU,EAAE,CAAC,OAAD;AAFd,GANe,CAAjB;AAYA,SACEllC;AACE,IAAA,GAAG,GACDykC,WAAW,CAACP,OADX,EAEDha,cAAc,IAAIyC,OAAK,CAACmK,OAFvB,EAGD+N,cAAc,IAAI;AAChB3X,MAAAA,MAAM,EAAE;AADQ,KAHjB,g8TADL;AAAA,cASEc;AAAK,MAAA,GAAG,EAAE5tB,GAAV;AAAe,MAAA,SAAS,EAAC,kBAAzB;AAA4C,MAAA,GAAG,EAAEqkC,WAAW,CAAC1gB,SAA7D;AAAA,iBACGpP,IAAI,KAAK,GAAT,IACCqZ,kBAACmX,cAAD;AAAA,mBACEnX;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAuC,UAAA,GAAG,EAAEyW,WAAW,CAACR,IAAxD;AAAA,qBACG,CAAC1jD,OAAD,IACCyf;AACE,YAAA,GAAG,EAAE2sB,OAAK,CAAC6W,OADb;AAEE,YAAA,OAAO,EAAE,MAAMxpC,QAAQ,CAACjB,QAAM,CAAC1B,QAAP,EAAD;AAFzB,YAFJ,EAOE2I,iBAAC,gBAAD;AAAkB,YAAA,EAAE,EAAC;AAArB,YAPF;AAAA,UADF,EAUG+kC,YAAY,CAACtjD,GAAb,CAAiB,CAAC;AAAC8V,UAAAA,OAAD;AAAUuF,UAAAA,KAAV;AAAiB7S,UAAAA,KAAjB;AAAwB2vC,UAAAA;AAAxB,SAAD,KAA4C;AAAA;;AAC5D,gBAAMwL,YAAY,GAChB,gBAAAn7C,KAAK,CAACM,IAAN,CAAW0B,IAAI,IAAIA,IAAI,CAAC5J,KAAL,KAAeu3C,aAAlC,6DAAkDP,KAAlD,KACAO,aAFF;AAIA,iBACE5L;AACE,YAAA,GAAG,GAAGrB,OAAK,CAACyX,GAAT,EAAczX,OAAK,CAAC2X,UAApB,g8TADL;AAGE,YAAA,OAAO,EAAE,MAAMhrC,UAAU,CAAC,MAAMwrC,OAAO,CAAE,IAAGvtC,OAAQ,EAAb,CAAd,EAA+B,CAA/B,CAH3B;AAAA,uBAKEyI,iBAAC,gBAAD;AAAkB,cAAA,EAAE,EAAElD;AAAtB,cALF,EAMEkD;AAAK,cAAA,GAAG,GAAG2sB,OAAK,CAAC0X,KAAT;AAAR,cANF,EAOErkC,iBAAC,YAAD;AAAc,cAAA,IAAI,EAAEolC;AAApB,cAPF;AAAA,aAEO7tC,OAFP,CADF;AAWD,SAhBA,CAVH;AAAA,QAFJ,EA+BGwtC,YAAY,CAACtjD,GAAb,CACC,CAAC;AAAC8V,QAAAA,OAAD;AAAUuF,QAAAA,KAAV;AAAiB7S,QAAAA,KAAjB;AAAwB2vC,QAAAA;AAAxB,OAAD,KACEjlB,IAAI,KAAM,IAAGpd,OAAQ,EAArB,IACEy2B,kBAACmX,cAAD;AAAA,mBACEnX;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAuC,UAAA,GAAG,EAAEyW,WAAW,CAACR,IAAxD;AAAA,qBACEjkC;AACE,YAAA,GAAG,EAAE2sB,OAAK,CAACn5B,IADb;AAEE,YAAA,OAAO,EAAE,MAAM8F,UAAU,CAAC,MAAMwrC,OAAO,CAAC,GAAD,CAAd,EAAqB,CAArB;AAF3B,YADF,EAKE9kC,iBAAC,gBAAD;AAAkB,YAAA,EAAE,EAAElD;AAAtB,YALF;AAAA,UADF,EAQEkD,iBAAC,WAAD;AAEE,UAAA,WAAW,EAAEykC,WAFf;AAGOx6C,UAAAA,KAHP;AAGc2vC,UAAAA,aAHd;AAIE,UAAA,QAAQ,EAAEv3C,KAAK,IAAI;AACjB2X,YAAAA,QAAQ,CAACjB,QAAM,CAAC1B,QAAP,EAAD,CAAR;;AACA,gBAAIhV,KAAK,KAAKu3C,aAAd,EAA6B;AAC3BtiC,cAAAA,cAAc,CAAC;AAACC,gBAAAA,OAAD;AAAUlV,gBAAAA;AAAV,eAAD,CAAd;AACD;AACF;AATH,WACOkV,OADP,CARF;AAAA,SAAeA,OAAf,CAHL,CA/BH;AAAA;AATF,IADF;AAqED,CAlGD;;AAoGAqtC,cAAc,CAAC3kC,SAAf,GAA2B;AACzB1f,EAAAA,OAAO,EAAE2P,SAAS,CAACq5B,IADM;AAEzBsb,EAAAA,cAAc,EAAE30C,SAAS,CAACq5B;AAFD,CAA3B;;ACvRA;;AAcA,MAAMqZ,QAAQ,GAAG,CAAC;AAACc,EAAAA,aAAD;AAAgB1C,EAAAA;AAAhB,CAAD,KAA8B;AAC7C,QAAM;AAACmB,IAAAA,cAAD;AAAiB/G,IAAAA;AAAjB,MAA+Bz6B,UAAU,EAA/C;AAEA,SACEqtB,kBAAC,cAAD;AAAgB,IAAA,GAAG,EAAE0V,aAArB;AAAA,eACE1jC,iBAACqlC,UAAD;AACE,MAAA,IAAI,EAAE5qB,SAAS,KAAK,SAAL,GAAiB,QADlC;AAAA,SAEMgP,QAAQ,CAACI,eAAD,EAAkBuF,2BAAlB,CAFd;AAGE,MAAA,OAAO,EAAE4R,OAHX;AAIE,MAAA,UAAU,EAAE5F,UAJd;AAKE,MAAA,cAAc,EAAE+G,cALlB;AAAA,SAMMlX,YAAY,EANlB;AAOE,MAAA,cAAc,EAAEjgC,OAAO,CAACm3C,cAAD,CAPzB;AAAA,gBASEniC,iBAAC,cAAD;AACE,QAAA,OAAO,EAAEya,SAAS,EADpB;AAEE,QAAA,cAAc,EAAEzvB,OAAO,CAACm3C,cAAD;AAFzB;AATF,MADF,EAeEniC,iBAAC,cAAD,KAfF;AAAA,IADF;AAmBD,CAtBD;;AAwBA4iC,QAAQ,CAAC3iC,SAAT,GAAqB;AACnByjC,EAAAA,aAAa,EAAExzC,SAAS,CAACG,MADN;AAEnB2wC,EAAAA,OAAO,EAAE9wC,SAAS,CAAC3O;AAFA,CAArB;;AC7BA,MAAM+jD,aAAa,GAAG,KAAtB;;AAEA,MAAMC,iBAAiB,GAAG,MAAM;AAC9B,QAAM;AACJzkD,IAAAA,KAAK,EAAE;AAACgxB,MAAAA,QAAD;AAAWhZ,MAAAA;AAAX,KADH;AAEJkB,IAAAA;AAFI,MAGFqG,gBAAU,CAACQ,OAAO,CAACS,GAAT,CAHd;AAIA,QAAM,CAAChI,UAAD,EAAaksC,UAAb,IAA2BxsC,UAAU,EAA3C;AAEAG,EAAAA,eAAS,CAAC,MAAM;AACd,QAAI2Y,QAAQ,KAAKtjB,QAAQ,CAACnB,KAAtB,IAA+ByL,OAAO,CAACtR,WAAR,KAAwB,OAA3D,EAAoE;AAClE,UAAI9E,wBAAI,CAACoW,OAAD,EAAU,KAAV,CAAR,EAA0B;AACxBkB,QAAAA,QAAQ,CAAC2X,YAAY,CAACzI,KAAb,EAAD,CAAR;AACD,OAFD,MAEO;AACL5P,QAAAA,UAAU,CAAC,MAAMU,QAAQ,CAAC+X,SAAS,CAACtB,cAAV,EAAD,CAAf,EAA6C60B,aAA7C,CAAV;AACA,eAAOE,UAAP;AACD;AACF;AACF,GATQ,EASN,CAAC1sC,OAAD,EAAUgZ,QAAV,CATM,CAAT;AAUD,CAjBD;;ACJA,MAAM2zB,cAAc,GAAG,CAAC;AAACtkC,EAAAA,MAAD;AAASG,EAAAA;AAAT,CAAD,KAAmB;AAAA;;AACxC,MAAIH,MAAM,CAAC0L,KAAX,EAAkB;AAChB,WAAO,OAAP;AACD;;AACD,QAAM64B,eAAe,GACnB,iBAAApkC,GAAG,CAACxI,OAAJ,mFAAaiU,IAAb,wEAAmBsJ,QAAnB,KAA+B,oBAAAlV,MAAM,CAACq0B,OAAP,oEAAgB5yC,QAAhB,IAA2B,EAD5D;AAGA,SAAO,qBAAAue,MAAM,CAACoB,QAAP,sEAAiB8C,YAAjB,KAAiCqgC,eAAjC,GAAmD,WAAnD,GAAiE,MAAxE;AACD,CARD;;AAUA,MAAMC,qBAAqB,GAAG7kD,KAAK,IAAI;AAAA;;AACrC,QAAM8kD,SAAS,GAAGH,cAAc,CAAC3kD,KAAD,CAAhC;AACA,QAAM;AAACwgB,IAAAA,GAAD;AAAMC,IAAAA;AAAN,MAAYzgB,KAAlB;AAEA,SACEkK,OAAO,kBAACsW,GAAG,CAACxI,OAAL,2EAAC,cAAayd,SAAd,0DAAC,sBAAwB/H,IAAzB,CAAP,KACEo3B,SAAS,KAAK,WAAd,IAA6BrkC,EAAE,CAACjJ,YAAH,CAAgBvM,MAAhB,KAA2B,CAAzD,IACC65C,SAAS,KAAK,OAFhB,CADF;AAKD,CATD;;AAWA,MAAM1jB,cAAc,GAAG,CAAC;AAAC/gB,EAAAA;AAAD,CAAD;AAAA;;AAAA,8BAAcA,MAAM,CAACoB,QAArB,sDAAc,kBAAiB8C,YAA/B;AAAA,CAAvB;;AAEA,MAAMwgC,mBAAmB,GAAG,MAAM;AAChC,QAAMC,UAAU,GAAGrc,QAAQ,CAAC,CAAC;AAACtoB,IAAAA;AAAD,GAAD,KAC1BA,MAAM,CAAC/E,OAAP,GAAiB,SAAjB,GAA6B+E,MAAM,CAAC6nB,SAAP,GAAmB,SAAnB,GAA+B,QADnC,CAA3B;AAGA,QAAM3jB,YAAY,GAAGokB,QAAQ,CAAC3oC,KAAK,IAAIgC,IAAI,CAACC,KAAL,CAAWm/B,cAAc,CAACphC,KAAD,CAAd,GAAwB,EAAnC,CAAV,CAA7B;AACA,QAAMilD,KAAK,GAAGtc,QAAQ,CAAC,CAAC;AAACnoB,IAAAA;AAAD,GAAD;AAAA;;AAAA,WAAW,kBAAAA,GAAG,CAACxI,OAAJ,gEAAatR,WAAb,MAA6B,QAAxC;AAAA,GAAD,CAAtB;AACA,QAAMia,KAAK,GAAGpB,gBAAU,CAACQ,OAAO,CAACC,OAAT,CAAxB;AAEA3H,EAAAA,eAAS,CAAC,MAAM;AACd,QAAI4sC,KAAK,IAAID,UAAU,KAAK,SAA5B,EAAuC;AACrCrkC,MAAAA,KAAK,CAACzH,QAAN,CACE+X,SAAS,CAACxB,oBAAV,CACE2R,cAAc,CAACzgB,KAAK,CAACgoB,QAAN,CAAe9nB,QAAf,EAAD,CADhB,CADF;AAKD;AACF,GARQ,EAQN,CAACmkC,UAAD,EAAazgC,YAAb,CARM,CAAT;AASD,CAjBD;;AAmBA,MAAM2gC,cAAc,GAAG,MAAM;AAC3B,QAAMJ,SAAS,GAAGnc,QAAQ,CAACgc,cAAD,CAA1B;AACA,QAAMhkC,KAAK,GAAGpB,gBAAU,CAACQ,OAAO,CAACC,OAAT,CAAxB;AAEA3H,EAAAA,eAAS,CAAC,MAAM;AACd,QAAIysC,SAAS,KAAK,OAAlB,EAA2B;AACzBnkC,MAAAA,KAAK,CAACzH,QAAN,CAAe+X,SAAS,CAACvB,eAAV,EAAf;AACD;AACF,GAJQ,EAIN,CAACo1B,SAAS,KAAK,OAAf,CAJM,CAAT;AAKD,CATD;;AAWA,MAAMK,eAAe,GAAG,CAAC;AAAC7vC,EAAAA;AAAD,CAAD,KAAe;AACrC,QAAMksC,MAAM,GAAG7Y,QAAQ,CAAC3oC,KAAK,IAAIsV,OAAO,IAAIuvC,qBAAqB,CAAC7kD,KAAD,CAA1C,CAAvB;AACA,QAAM2gB,KAAK,GAAGpB,gBAAU,CAACQ,OAAO,CAACC,OAAT,CAAxB;AAEA3H,EAAAA,eAAS,CAAC,MAAM;AACd,QAAImpC,MAAJ,EAAY;AACV7gC,MAAAA,KAAK,CAACzH,QAAN,CAAemY,QAAQ,CAACvb,aAAT,EAAf;AACD;AACF,GAJQ,EAIN,CAAC0rC,MAAD,CAJM,CAAT;AAKD,CATD;;AAWA,MAAM4D,cAAc,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAoB;AACzCN,EAAAA,mBAAmB;AACnBG,EAAAA,cAAc;AACdC,EAAAA,eAAe,CAAC;AAAC7vC,IAAAA,OAAO,EAAE+vC;AAAV,GAAD,CAAf;AACD,CAJD;;ACvEA;AAwCA,MAAM1T,cAAc,GAAG;AACrBvT,EAAAA,UAAU,EAAE,MADS;AAErBlK,EAAAA,QAAQ,EAAE,UAFW;AAGrByJ,EAAAA,OAAO,EAAE,OAHY;AAIrBx5B,EAAAA,KAAK,EAAE,MAJc;AAKrBM,EAAAA,MAAM,EAAE,MALa;AAMrBytC,EAAAA,QAAQ,EAAE;AANW,CAAvB;AAUA;;AACA,MAAMoT,aAAa,GAAG,CAAC;AACrB79C,EAAAA,IADqB;AAErBwd,EAAAA,WAFqB;AAGrBC,EAAAA,QAHqB;AAIrBlN,EAAAA,OAJqB;AAKrBmN,EAAAA,YALqB;AAMrByC,EAAAA,WANqB;AAOrBqR,EAAAA,OAPqB;AAQrBosB,EAAAA,YARqB;AASrBlwC,EAAAA,WATqB;AAUrBi+B,EAAAA,gBAVqB;AAWrBhZ,EAAAA,sBAXqB;AAYrBmrB,EAAAA,0BAZqB;AAarBlE,EAAAA,cAbqB;AAerBnoB,EAAAA,SAfqB;AAgBrBoC,EAAAA,YAhBqB;AAiBrBhW,EAAAA,OAjBqB;AAkBrBiT,EAAAA,MAlBqB;AAmBrBE,EAAAA,oBAnBqB;AAoBrB8C,EAAAA,gBApBqB;AAqBrBC,EAAAA,iBArBqB;AAsBrBC,EAAAA,gBAtBqB;AAuBrBjD,EAAAA,QAvBqB;AAwBrBE,EAAAA,aAxBqB;AAyBrBC,EAAAA,mBAzBqB;AA0BrBC,EAAAA,uBA1BqB;AA2BrBC,EAAAA;AA3BqB,CAAD,KA4BhB;AACJ,QAAM;AAACjmB,IAAAA;AAAD,MAAcwW,cAAc,GAAGppB,KAArC;AACA,QAAM;AAACkZ,IAAAA;AAAD,MAAaqG,gBAAU,CAACQ,OAAO,CAACI,MAAT,CAA7B;AACAskC,EAAAA,iBAAiB;AACjBW,EAAAA,cAAc,CAAC;AAACC,IAAAA;AAAD,GAAD,CAAd;AAEAhtC,EAAAA,eAAS,CAAC,MAAM;AACd,QAAIgpC,cAAJ,EAAoB;AAClBnoC,MAAAA,QAAQ,CAACyjC,QAAQ,CAACtnC,yBAAT,EAAD,CAAR;AACD,KAFD,MAEO;AACL6D,MAAAA,QAAQ,CAACyjC,QAAQ,CAACpnC,0BAAT,EAAD,CAAR;AACD;AACF,GANQ,EAMN,CAACrL,OAAO,CAACm3C,cAAD,CAAR,CANM,CAAT;AAQAhpC,EAAAA,eAAS,CAAC,MAAM;AACd,QAAI+6B,gBAAJ,EAAsB;AACpBl6B,MAAAA,QAAQ,CAACyjC,QAAQ,CAAC/mC,sBAAT,EAAD,CAAR;AACD,KAFD,MAEO;AACLsD,MAAAA,QAAQ,CAACyjC,QAAQ,CAAC9mC,uBAAT,EAAD,CAAR;AACD;AACF,GANQ,EAMN,CAAC3L,OAAO,CAACkpC,gBAAD,CAAR,CANM,CAAT;AAQA,SACElG,kBAACmX,cAAD;AAAA,eACGzxC,SAAS,KAAKjE,SAAS,CAACE,SAAxB,IACCqQ,iBAACsmC,KAAD;AACE,MAAA,IAAI,EAAE/9C,IADR;AAEE,MAAA,WAAW,EAAEwd,WAFf;AAGE,MAAA,QAAQ,EAAEC,QAHZ;AAIE,MAAA,OAAO,EAAElN,OAJX;AAKE,MAAA,YAAY,EAAEmN,YALhB;AAME,MAAA,WAAW,EAAEyC,WANf;AAOE,MAAA,eAAe,EAAE;AACf69B,QAAAA,oBAAoB,EAAErS,gBADP;AAEfnc,QAAAA,oBAAoB,EAAE9hB;AAFP;AAPnB,MAFJ,EAeE+J,iBAACwmC,cAAD,KAfF,EAgBExmC,iBAACymC,gBAAD;AAAyB,MAAA,OAAO,EAAEJ;AAAlC,MAhBF,EAkBErmC,iBAAC0mC,KAAD;AACE,MAAA,OAAO,EAAE5tC,OADX;AAEE,MAAA,OAAO,EAAEsN,OAFX;AAGE,MAAA,MAAM,EAAEiT,MAHV;AAIE,MAAA,QAAQ,EAAEC,QAJZ;AAKE,MAAA,oBAAoB,EAAEC,oBALxB;AAME,MAAA,aAAa,EAAEC,aANjB;AAOE,MAAA,mBAAmB,EAAEC,mBAPvB;AAQE,MAAA,uBAAuB,EAAEC,uBAR3B;AASE,MAAA,eAAe,EAAEC;AATnB,MAlBF,EA6BGjmB,SAAS,KAAKjE,SAAS,CAACE,SAAxB,IACCqQ,iBAAC,KAAD;AAAO,MAAA,OAAO,EAAE+Z,OAAhB;AAAyB,MAAA,SAAS,EAAEC;AAApC,MA9BJ,EAgCEha,iBAAC,oBAAD;AAAsB,MAAA,sBAAsB,EAAEkb;AAA9C,MAhCF,EAiCElb,iBAAC,WAAD;AACE,MAAA,OAAO,EAAElH,OADX;AAEE,MAAA,WAAW,EAAE7C,WAFf;AAGE,MAAA,WAAW,EAAEyS;AAHf,MAjCF,EAsCE1I,iBAAC2mC,cAAD;AAAA,gBACG,CAAC;AAAC91C,QAAAA,EAAE,EAAE;AAAC1P,UAAAA;AAAD;AAAL,OAAD,KACCA,IAAI,KAAK,KAAT,IACE6e,iBAAC,kBAAD;AACE,QAAA,YAAY,EAAEoc,YADhB;AAEE,QAAA,gBAAgB,EAAEC,gBAFpB;AAGE,QAAA,iBAAiB,EAAEC,iBAHrB;AAIE,QAAA,gBAAgB,EAAEC;AAJpB;AAHN,MAtCF,EAkDEvc,iBAAC2mC,cAAD;AAAA,gBACG,CAAC;AAAC91C,QAAAA,EAAE,EAAE;AAAC1P,UAAAA;AAAD,SAAL;AAAai9B,QAAAA;AAAb,OAAD,KACCj9B,IAAI,KAAK,QAAT,IAAqBi9B,SAArB,IAAkCpe,iBAAC,QAAD;AAFtC,MAlDF;AAAA,IADF;AA0DD,CA5GD;;;AA+GA,MAAMmB,MAAM,gBAAGylC,gBAAU,CACvB,CACE;AACEhiB,EAAAA,UADF;AAEEt8B,UAAAA,QAAM,GAAGu+C,MAAa,CAACxmD,cAFzB;AAGEkI,EAAAA,IAHF;AAIEwd,EAAAA,WAJF;AAKEC,EAAAA,QALF;AAMElN,EAAAA,OANF;AAOEmN,EAAAA,YAAY,GAAG,EAPjB;AAQEyC,EAAAA,WAAW,GAAG,EARhB;AASEnX,EAAAA,IAAI,GAAG5E,cAAY,CAACC,EATtB;AAUEuwB,EAAAA,cAAc,GAAG,EAVnB;AAWEpD,EAAAA,OAAO,GAAG,MAXZ;AAYE5hB,EAAAA,QAZF;AAaEguC,EAAAA,YAbF;AAcE1jD,EAAAA,SAdF;AAeE8J,EAAAA,OAfF;AAgBE0J,EAAAA,WAhBF;AAiBEi+B,EAAAA,gBAjBF;AAkBEhZ,EAAAA,sBAlBF;AAmBEmrB,EAAAA,0BAnBF;AAoBElE,EAAAA,cApBF;AAqBE/G,EAAAA,UAAU,GAAG,EArBf;AAsBEsI,EAAAA,aAtBF;AAuBE57C,EAAAA,QAvBF;AAwBE8J,EAAAA,OAAO,GAAG,EAxBZ;AAyBE2mB,EAAAA,GAzBF;AA2BEwN,EAAAA,cA3BF;AA4BEE,EAAAA,OA5BF;AA6BEE,EAAAA,MA7BF;AA8BEI,EAAAA,QA9BF;AA+BEF,EAAAA,SA/BF;AAgCEI,EAAAA,OAhCF;AAiCErgB,EAAAA,OAjCF;AAkCEiT,EAAAA,MAlCF;AAmCEuN,EAAAA,aAnCF;AAoCEK,EAAAA,MApCF;AAqCEE,EAAAA,QArCF;AAsCEI,EAAAA,eAtCF;AAuCEE,EAAAA,OAvCF;AAwCEE,EAAAA,SAxCF;AAyCEzE,EAAAA,qBAAqB,GAAG92B,oBAzC1B;AA0CEmtB,EAAAA,oBA1CF;AA2CE8C,EAAAA,gBA3CF;AA4CEC,EAAAA,iBA5CF;AA6CEC,EAAAA,gBA7CF;AA8CE6L,EAAAA,cA9CF;AA+CEE,EAAAA,YA/CF;AAgDEhP,EAAAA,QAhDF;AAiDEE,EAAAA,aAjDF;AAkDEC,EAAAA,mBAlDF;AAmDEC,EAAAA,uBAnDF;AAoDEotB,EAAAA,SApDF;AAqDEntB,EAAAA;AArDF,CADF,EAwDEvZ,GAxDF,KAyDK;AACH,QAAMV,QAAQ,GAAGxG,YAAM,EAAvB;AACA,QAAMkjB,YAAY,GAAGljB,YAAM,EAA3B;AACA,QAAM4pB,cAAc,GAAG5pB,YAAM,EAA7B;AACA,QAAMuG,OAAO,GAAG;AACdlX,IAAAA,IADc;AAEdwd,IAAAA,WAFc;AAGdC,IAAAA,QAHc;AAIdlN,IAAAA,OAJc;AAKdmN,IAAAA,YALc;AAMdyC,IAAAA,WANc;AAOdnX,IAAAA,IAPc;AAQd4rB,IAAAA,cARc;AASdpD,IAAAA,OATc;AAUd5hB,IAAAA,QAVc;AAWdguC,IAAAA,YAXc;AAYd55C,IAAAA,OAZc;AAad0J,IAAAA,WAbc;AAcdi+B,IAAAA,gBAdc;AAedhZ,IAAAA,sBAfc;AAgBdmrB,IAAAA,0BAhBc;AAiBdlE,IAAAA,cAjBc;AAkBd/G,IAAAA,UAlBc;AAmBdxpC,IAAAA;AAnBc,GAAhB;AAqBA,QAAM6P,KAAK,GAAGslC,aAAO,CAAC,MAAMC,WAAW,EAAlB,EAAsB,EAAtB,CAArB;AAEA,SACEhnC;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,GAAG,EAAEyyB,cAAjC;AAAiD,IAAA,GAAG,EAAErW,YAAtD;AAAA,cACEpc,iBAAC,cAAD;AACE,MAAA,QAAQ,EAAEN,QADZ;AAEE,MAAA,OAAO,EAAE5G,OAFX;AAGE,MAAA,OAAO,EAAE2G,OAHX;AAIE,MAAA,KAAK,EAAE2c,YAJT;AAKE,MAAA,OAAO,EAAE0qB,SALX;AAAA,gBAOE9Y,kBAAC,aAAD;AAAe,QAAA,KAAK,EAAEvsB,KAAtB;AAA6B,QAAA,OAAO,EAAEhC,OAAtC;AAAA,mBACEO,iBAAC,WAAD;AACE,UAAA,UAAU,EAAE4kB,UADd;AAEE,UAAA,MAAM,EAAEt8B,QAFV;AAGE,UAAA,QAAQ,EAAE6P,QAAQ,IAAI4hB,OAAO,KAAK,MAHpC;AAIE,UAAA,SAAS,EAAEt3B,SAJb;AAKE,UAAA,OAAO,EAAE8J,OALX;AAME,UAAA,YAAY,EAAE6vB,YANhB;AAOE,UAAA,QAAQ,EAAEt0B,QAPZ;AAQE,UAAA,GAAG,EAAEywB,GARP;AASE,UAAA,OAAO,EAAE3mB,OATX;AAUE,UAAA,cAAc,EAAEm0B,cAVlB;AAWE,UAAA,OAAO,EAAEE,OAXX;AAYE,UAAA,MAAM,EAAEE,MAZV;AAaE,UAAA,QAAQ,EAAEI,QAbZ;AAcE,UAAA,SAAS,EAAEF,SAdb;AAeE,UAAA,OAAO,EAAEI,OAfX;AAgBE,UAAA,aAAa,EAAEG,aAhBjB;AAiBE,UAAA,MAAM,EAAEK,MAjBV;AAkBE,UAAA,QAAQ,EAAEE,QAlBZ;AAmBE,UAAA,eAAe,EAAEI,eAnBnB;AAoBE,UAAA,OAAO,EAAEE,OApBX;AAqBE,UAAA,SAAS,EAAEE,SArBb;AAsBE,UAAA,gBAAgB,EAAEtL,gBAtBpB;AAuBE,UAAA,iBAAiB,EAAEC,iBAvBrB;AAwBE,UAAA,gBAAgB,EAAEC,gBAxBpB;AAyBE,UAAA,qBAAqB,EAAE2G,qBAzBzB;AA0BE,UAAA,cAAc,EAAEkF,cA1BlB;AA2BE,UAAA,YAAY,EAAEE,YA3BhB;AA4BE,UAAA,cAAc,EAAExF;AA5BlB,UADF,EA+BE9iB,iBAAC,IAAD,CAAM,QAAN;AAAe,UAAA,IAAI,EAAEzO,IAArB;AAA2B,UAAA,cAAc,EAAE4rB,cAA3C;AAAA,oBACEnd,iBAAC,QAAD;AACE,YAAA,aAAa,EAAE0jC,aADjB;AAEE,YAAA,OAAO,EAAE5gB;AAFX;AADF,UA/BF,EAqCE9iB,iBAAC,aAAD,IAEI,GAAGP,OAFP;AAGIua,UAAAA,SAAS,EAAE5Z,GAHf;AAIIgc,UAAAA,YAJJ;AAKIhW,UAAAA,OALJ;AAMIiT,UAAAA,MANJ;AAOIE,UAAAA,oBAPJ;AAQI8C,UAAAA,gBARJ;AASIC,UAAAA,iBATJ;AAUIC,UAAAA,gBAVJ;AAWIjD,UAAAA,QAXJ;AAYIE,UAAAA,aAZJ;AAaIC,UAAAA,mBAbJ;AAcIC,UAAAA,uBAdJ;AAeIC,UAAAA;AAfJ,UArCF;AAAA;AAPF;AADF,IADF;AAoED,CAzJsB,CAAzB;AA4JAxY,MAAM,CAAClB,SAAP,GAAmB;AACjB2kB,EAAAA,UAAU,EAAE10B,SAAS,CAACG,MAAV,CAAiB0sB,UADZ;AAEjBx0B,EAAAA,IAAI,EAAE2H,SAAS,CAACG,MAFC;AAGjB0V,EAAAA,WAAW,EAAE7V,SAAS,CAACG,MAHN;AAIjB2V,EAAAA,QAAQ,EAAE9V,SAAS,CAACG,MAJH;AAKjByI,EAAAA,OAAO,EAAEmR,KAAK,CAAChZ,SALE;AAMjBM,EAAAA,IAAI,EAAE0Y,KAAK,CAACtd,YANK;AAOjBwwB,EAAAA,cAAc,EAAEjtB,SAAS,CAAC3O,MAPT;AAQjB0kB,EAAAA,YAAY,EAAE/V,SAAS,CAAC3O,MARP;AASjBmnB,EAAAA,WAAW,EAAExY,SAAS,CAAC3O,MATN;AAUjB2yC,EAAAA,gBAAgB,EAAEhkC,SAAS,CAACq5B,IAVX;AAWjB8c,EAAAA,0BAA0B,EAAEn2C,SAAS,CAACq5B,IAXrB;AAYjBxP,EAAAA,OAAO,EAAE7pB,SAAS,CAACI,KAAV,CAAgB,CAAC,MAAD,EAAS,MAAT,CAAhB,CAZQ;AAajB6H,EAAAA,QAAQ,EAAEjI,SAAS,CAACq5B,IAbH;AAcjB4c,EAAAA,YAAY,EAAEj2C,SAAS,CAACq5B,IAdP;AAejB9mC,EAAAA,SAAS,EAAEyN,SAAS,CAACE,MAfJ;AAgBjB7D,EAAAA,OAAO,EAAE2D,SAAS,CAAC3O,MAhBF;AAiBjB0U,EAAAA,WAAW,EAAE/F,SAAS,CAACG,MAjBN;AAkBjB6qB,EAAAA,sBAAsB,EAAEhrB,SAAS,CAACgsB,OAAV,CAAkBjS,KAAK,CAACxZ,sBAAxB,CAlBP;AAmBjBnI,EAAAA,MAAM,EAAE4H,SAAS,CAAC3O,MAnBD;AAoBjB65C,EAAAA,UAAU,EAAElrC,SAAS,CAACuS,KApBL;AAqBjB0/B,EAAAA,cAAc,EAAEjyC,SAAS,CAACC,SAAV,CAAoB,CAACD,SAAS,CAAC3O,MAAX,EAAmB2O,SAAS,CAACq5B,IAA7B,CAApB,CArBC;AAsBjBma,EAAAA,aAAa,EAAExzC,SAAS,CAACG,MAtBR;AAuBjBvI,EAAAA,QAAQ,EAAEoI,SAAS,CAACG,MAvBH;AAwBjBuB,EAAAA,OAAO,EAAE1B,SAAS,CAACuS,KAxBF;AA0BjB2D,EAAAA,OAAO,EAAElW,SAAS,CAACpO,IA1BF;AA2BjBikC,EAAAA,cAAc,EAAE71B,SAAS,CAACpO,IA3BT;AA4BjBmkC,EAAAA,OAAO,EAAE/1B,SAAS,CAACpO,IA5BF;AA6BjBqkC,EAAAA,MAAM,EAAEj2B,SAAS,CAACpO,IA7BD;AA8BjBukC,EAAAA,SAAS,EAAEn2B,SAAS,CAACpO,IA9BJ;AA+BjBmlC,EAAAA,MAAM,EAAE/2B,SAAS,CAACpO,IA/BD;AAgCjBqlC,EAAAA,QAAQ,EAAEj3B,SAAS,CAACpO,IAhCH;AAiCjBykC,EAAAA,QAAQ,EAAEr2B,SAAS,CAACpO,IAjCH;AAkCjB8kC,EAAAA,aAAa,EAAE12B,SAAS,CAACpO,IAlCR;AAmCjBylC,EAAAA,eAAe,EAAEr3B,SAAS,CAACpO,IAnCV;AAoCjB2lC,EAAAA,OAAO,EAAEv3B,SAAS,CAACpO,IApCF;AAqCjB6lC,EAAAA,SAAS,EAAEz3B,SAAS,CAACpO,IArCJ;AAsCjBsmC,EAAAA,cAAc,EAAEl4B,SAAS,CAACpO,IAtCT;AAuCjBwmC,EAAAA,YAAY,EAAEp4B,SAAS,CAACpO,IAvCP;AAwCjBw3B,EAAAA,QAAQ,EAAEppB,SAAS,CAACpO,IAxCH;AAyCjBohC,EAAAA,qBAAqB,EAAEhzB,SAAS,CAACpO,IAzChB;AA0CjBy3B,EAAAA,oBAAoB,EAAErpB,SAAS,CAACpO,IA1Cf;AA2CjB2kC,EAAAA,OAAO,EAAEv2B,SAAS,CAACpO,IA3CF;AA4CjBw6B,EAAAA,iBAAiB,EAAEpsB,SAAS,CAACpO,IA5CZ;AA6CjBy6B,EAAAA,gBAAgB,EAAErsB,SAAS,CAACpO,IA7CX;AA8CjBu6B,EAAAA,gBAAgB,EAAEnsB,SAAS,CAACpO,IA9CX;AA+CjB03B,EAAAA,aAAa,EAAEtpB,SAAS,CAACpO,IA/CR;AAgDjB23B,EAAAA,mBAAmB,EAAEvpB,SAAS,CAACpO,IAhDd;AAiDjB43B,EAAAA,uBAAuB,EAAExpB,SAAS,CAACpO,IAjDlB;AAkDjBu3B,EAAAA,MAAM,EAAEnpB,SAAS,CAACpO,IAlDD;AAmDjB63B,EAAAA,eAAe,EAAEzpB,SAAS,CAACpO,IAnDV;AAoDjBmlD,EAAAA,gBAAgB,EAAE/2C,SAAS,CAACpO,IApDX;AAqDjBglD,EAAAA,SAAS,EAAE52C,SAAS,CAACpO;AArDJ,CAAnB;;MC1TMolD,gBAAgB,gBAAGN,gBAAU,CAAC,CAACjmD,KAAD,EAAQyf,GAAR,kBAClCJ,eAACmnC,MAAD;AAEI5uB,EAAAA,GAAG,EAAEtvB,sBAFT;AAGI,KAAGtI,KAHP;AAKE,EAAA,GAAG,EAAEyf;AALP,EADiC;;ACJnC;AACA,MAAMgnC,cAAc,GAAG,CAAC;AAACzkC,EAAAA,GAAD;AAAMjQ,EAAAA;AAAN,CAAD,KAAiB;AACtC,QAAM6hB,KAAK,GAAG7hB,IAAI,CAACvO,KAAL,CAAW,IAAX,CAAd;AACA,QAAM42B,CAAC,GAAGxG,KAAK,CAAC8yB,SAAN,CAAgB7yB,IAAI,IAAIA,IAAI,CAAC5sB,UAAL,CAAgB,mBAAhB,CAAxB,CAAV;AACA,SAAOmzB,CAAC,IAAI,CAAL,GAAS,IAAIpvB,GAAJ,CAAQ4oB,KAAK,CAACwG,CAAC,GAAG,CAAL,CAAb,EAAsBpY,GAAtB,CAAT,GAAsC,EAA7C;AACD,CAJD;AAMA;;;AACA,MAAM2kC,cAAc,GAAG,MAAM3kC,GAAN,IAAa;AAClC,MAAI,CAACA,GAAG,CAAClH,QAAJ,GAAetX,KAAf,CAAqB,GAArB,EAA0B,CAA1B,EAA6BojD,QAA7B,CAAsC,OAAtC,CAAL,EAAqD;AACnD,WAAOC,KAAK,CAAC7kC,GAAD,CAAZ;AACD;;AACD,QAAMjQ,IAAI,GAAG,MAAM80C,KAAK,CAAC7kC,GAAD,CAAL,CAAW2B,IAAX,CAAgB0F,MAAM,IAAIA,MAAM,CAACyK,IAAP,EAA1B,CAAnB;AACA,QAAMgzB,QAAQ,GAAGL,cAAc,CAAC;AAACzkC,IAAAA,GAAD;AAAMjQ,IAAAA;AAAN,GAAD,CAA/B;AACA,SAAO+0C,QAAQ,IAAIH,cAAc,CAACG,QAAD,CAAjC;AACD,CAPD;;ACRA;;AACA;AACA,MAAMC,SAAS,GAAGrlD,KAAK,IAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,IAAI,CAAjE;;AAEA,MAAMslD,kBAAkB,GAAG,CACzB,YADyB,EAEzB,OAFyB,EAGzB,eAHyB,EAIzB,UAJyB,EAKzB,eALyB,EAMzB,UANyB,CAA3B;;AASA,MAAMC,SAAS,GAAG,MAAM,EAAxB;;AAEA,MAAM3lC,iBAAiB,GAAGmoB,EAAE,IAAI;AAAA;;AAC9B,MAAI,CAACA,EAAE,CAACyd,UAAR,EAAoB;AAClB;AACD;;AACD,QAAMC,gBAAgB,GAAG,CAAC,mBAAA1d,EAAE,CAACyd,UAAH,0FAAeE,KAAf,CAAqB,KAArB,+EAA8B,CAA9B,MAAoC,CAArC,IAA0C,GAAnE,CAJ8B;;AAM9B,QAAMC,UAAU,GAAG,CAAC,oBAAA5d,EAAE,CAACyd,UAAH,oEAAeE,KAAf,CAAqB,mBAArB,MAA6C,EAA9C,EAChBvkD,KADgB,CACV,CADU,EACP,CADO,EAEhBvC,MAFgB,CAET,CAAC6gC,IAAD,EAAO/U,IAAP,KAAgB+U,IAAI,GAAG,EAAP,GAAY,CAAC/U,IAFpB,EAE0B,CAF1B,CAAnB;AAGA,SACEqd,EAAE,CAAC6d,kBAAH,GAAwBD,UAAxB,GAAqC5d,EAAE,CAAC8d,iBAAH,GAAuBJ,gBAD9D;AAGD,CAZD;;AAcA,MAAMK,OAAO,GAAG,CAAC;AAACF,EAAAA,kBAAD;AAAqBC,EAAAA;AAArB,CAAD,EAA0Cn7B,IAA1C,KACdk7B,kBAAkB,IAAIl7B,IAAtB,IAA8BA,IAAI,IAAIk7B,kBAAkB,GAAGC,iBAD7D;;AAGA,MAAME,YAAY,GAAG,CAACC,OAAD,EAAUpK,UAAV,KACnB,CAAC,CAAAoK,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEC,GAAT,KAAgB,EAAjB,EAAqB/9C,IAArB,CAA0B6/B,EAAE,IAAI+d,OAAO,CAAC/d,EAAD,EAAK6T,UAAL,CAAvC,KAA4D,EAD9D;;AAGA,MAAMsK,WAAW,GAAG,CAACzoC,QAAD,EAAWsqB,EAAX,KAAkB;AACpC,QAAM6T,UAAU,GAAGn+B,QAAQ,CAAC0oC,OAAT,CAAiB3W,eAApC;AACA,QAAM4W,SAAS,GAAGL,YAAY,CAAChe,EAAD,EAAK6T,UAAL,CAA9B;AAEA,SAAO;AACLj8B,IAAAA,KAAK,EAAE,OAAO;AACZC,MAAAA,iBAAiB,EAAE,MAAMA,iBAAiB,CAACwmC,SAAD;AAD9B,KAAP,CADF;AAIL1mC,IAAAA,aAAa,EAAE,MAAM;AAAA;;AACnB,YAAM2mC,OAAO,GAAG,GAAGj3C,MAAH,CACd,GAAGqO,QAAQ,CAAC6oC,iBAAT,CAA2BlnD,GAA3B,CAA+BmnD,KAAK,IAAIA,KAAK,CAACN,GAA9C,CADW,CAAhB;AAGA,YAAMrR,UAAU,GACd,IAAIyR,OAAO,CAACrB,SAAR,CAAkBp7C,IAAI,IAAIk8C,OAAO,CAACl8C,IAAD,EAAOgyC,UAAP,CAAjC,CADN;AAEA,YAAMxlC,cAAc,GAAG;AACrBw+B,QAAAA,UADqB;AAErBC,QAAAA,QAAQ,EAAEwR,OAAO,CAAC38C,MAFG;AAGrB7I,QAAAA,WAAW,EAAE+6C,UAAU,GAAGwK,SAAS,CAACR,kBAHf;AAIrBrlD,QAAAA,QAAQ,EAAE6lD,SAAS,CAACP,iBAJC;AAKrBhgC,QAAAA,eAAe,2BAAEugC,SAAS,CAACI,cAAZ,oFAAE,sBAA0Bt+C,IAA1B,CACf3E,KAAK,IAAIA,KAAK,CAACkjD,SAAN,KAAoB,cADd,CAAF,2DAAE,uBAEdC,UAFc,CAEH,CAFG;AALI,OAAvB;AAUA,aAAO;AAACtwC,QAAAA;AAAD,OAAP;AACD;AArBI,GAAP;AAuBD,CA3BD;;AA6Be,MAAMuwC,UAAN,CAAiB;AAC9B7xB,EAAAA,WAAW,CAAC;AACV/N,IAAAA,IADU;AAEV6/B,IAAAA,gBAAgB,GAAGrB,SAFT;AAGVsB,IAAAA,YAAY,GAAGtB,SAHL;AAIVuB,IAAAA,cAAc,GAAGvB,SAJP;AAKVwB,IAAAA,uBAAuB,GAAGxB;AALhB,MAMR,EANO,EAMH;AACN,SAAKY,OAAL,GAAe;AACba,MAAAA,QAAQ,EAAE,EADG;AAEbxX,MAAAA,eAAe,EAAE,CAAC,CAFL;AAGbzoB,MAAAA,IAHa;AAIb6/B,MAAAA,gBAJa;AAKbC,MAAAA,YALa;AAMbE,MAAAA,uBANa;AAObD,MAAAA;AAPa,KAAf;AAUA,SAAKV,SAAL,GAAiB,IAAjB;AACA,SAAKE,iBAAL,GAAyB,EAAzB;AACA,SAAKW,qBAAL,GAA6B,IAA7B;AACA,SAAKC,kBAAL,GAA0B,IAA1B;AACA,SAAKC,iBAAL,GAAyB,IAAzB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,mBAAL,GAA2B,IAA3B;AACD;AAED;AACF;AACA;AACA;;;AACc,MAARL,QAAQ,CAAChnD,KAAD,EAAQ;AAClB,SAAKmmD,OAAL,CAAaa,QAAb,GAAwBhnD,KAAxB;AAEA,QAAIqlD,SAAS,CAACrlD,KAAK,CAAC0J,MAAP,CAAb,EAA6B,KAAK49C,cAAL;AAC9B;AAED;AACF;AACA;AACA;;;AACqB,MAAf9X,eAAe,CAACxvC,KAAD,EAAQ;AACzB,SAAKmmD,OAAL,CAAa3W,eAAb,GAA+BxvC,KAA/B;AAEA,QAAIqlD,SAAS,CAAC,KAAKc,OAAL,CAAaa,QAAb,CAAsBt9C,MAAvB,CAAb,EAA6C,KAAK49C,cAAL;AAC9C,GA7C6B;;;AAiD9BC,EAAAA,UAAU,CAACllD,MAAD,EAAS;AACjB,QAAI,CAACA,MAAL,EAAa,OAAO,IAAP;AAEb,WAAO,KAAK8jD,OAAL,CAAaa,QAAb,CAAsBhC,SAAtB,CAAgCjd,EAAE,IAAIA,EAAE,CAACyf,OAAH,KAAenlD,MAAM,CAACmlD,OAA5D,CAAP;AACD,GArD6B;;;AAwD9BC,EAAAA,gBAAgB,CAAC/8B,IAAD,EAAO;AAAA;;AACrB,UAAM;AAACs8B,MAAAA,QAAQ,GAAG;AAAZ,QAAkB,KAAKb,OAA7B;AACA,UAAMhgC,KAAK,GAAG6gC,QAAQ,CAAChC,SAAT,CAAmBjd,EAAE,IAAI;AACrC,YAAM;AAAC3nC,QAAAA,SAAD;AAAYE,QAAAA;AAAZ,UAAuB,KAAKonD,eAAL,CAAqB3f,EAArB,CAA7B;AAEA,aAAOrd,IAAI,IAAItqB,SAAR,IAAqBsqB,IAAI,IAAIpqB,OAApC;AACD,KAJa,CAAd;AAKA,UAAMqyB,QAAQ,GAAG,CAAC,oBAAAq0B,QAAQ,CAAC7gC,KAAD,CAAR,oEAAiB8/B,GAAjB,KAAwB,EAAzB,EAA6BjB,SAA7B,CAAuCjd,EAAE,IACxD+d,OAAO,CAAC/d,EAAD,EAAKrd,IAAL,CADQ,CAAjB;AAIA,WAAO;AAACvE,MAAAA,KAAD;AAAQwM,MAAAA;AAAR,KAAP;AACD,GApE6B;;;AAuE9Bg1B,EAAAA,iBAAiB,CAACtlD,MAAD,EAASjC,SAAT,EAAoBE,OAApB,EAA6B;AAC5C,WAAO+B,MAAM,IAAIjC,SAAV,IAAuBiC,MAAM,IAAI/B,OAAxC;AACD,GAzE6B;;;AA4E9BonD,EAAAA,eAAe,CAACE,MAAM,GAAG,EAAV,EAAc;AAC3B,UAAMC,WAAW,GAAGD,MAAM,CAAChC,kBAAP,IAA6B,CAAjD;AACA,UAAMkC,UAAU,GAAGF,MAAM,CAAC/B,iBAAP,IAA4B,CAA/C;AAEA,WAAO;AACLzlD,MAAAA,SAAS,EAAEynD,WADN;AAELvnD,MAAAA,OAAO,EAAEunD,WAAW,GAAGC;AAFlB,KAAP;AAID,GApF6B;;;AAuF9BC,EAAAA,aAAa,CAACr9B,IAAD,EAAO;AAClB,WAAO,KAAKy7B,OAAL,CAAaa,QAAb,CAAsBt+C,MAAtB,CACLq/B,EAAE,IACA,KAAKoe,OAAL,CAAa3W,eAAb,IAAgCzH,EAAE,CAAC6d,kBAAnC,IACA7d,EAAE,CAAC6d,kBAAH,IAAyBl7B,IADzB,IAEA,CAACqd,EAAE,CAACigB,OAJD,CAAP;AAMD;;AAEDC,EAAAA,mBAAmB,GAAG;;AAEtBX,EAAAA,cAAc,GAAG;AACf,UAAM;AAACN,MAAAA,QAAD;AAAWxX,MAAAA,eAAX;AAA4BzoB,MAAAA;AAA5B,QAAoC,KAAKo/B,OAA/C;AACA,UAAM;AAAChgC,MAAAA,KAAK,EAAE+hC,aAAR;AAAuBv1B,MAAAA;AAAvB,QAAmC,KAAK80B,gBAAL,CACvCjY,eADuC,CAAzC;;AAIA,QAAI,KAAK4W,SAAT,EAAoB;AAClB,UAAI,CAAC,KAAKiB,mBAAV,EAA+B;AAC7B,aAAKA,mBAAL,GAA2B,KAAKc,YAAL,EAA3B;AACD;;AACD,WAAKd,mBAAL,CAAyB;AAAClhC,QAAAA,KAAK,EAAE+hC,aAAR;AAAuBv1B,QAAAA;AAAvB,OAAzB;AACD;;AAED,QAAI,KAAK2zB,iBAAL,CAAuB58C,MAAvB,GAAgC,CAApC,EAAuC;AACrC,YAAM;AACJtJ,QAAAA,SAAS,EAAEgoD,kBADP;AAEJ9nD,QAAAA,OAAO,EAAE+nD;AAFL,UAGF,KAAKX,eAAL,CAAqB,KAAKtB,SAA1B,CAHJ;AAIA,YAAMkC,gBAAgB,GAAG,KAAKX,iBAAL,CACvBnY,eADuB,EAEvB4Y,kBAFuB,EAGvBC,gBAHuB,CAAzB;;AAMA,UAAI,CAACC,gBAAL,EAAuB;AACrB;AACA,cAAMC,MAAM,GAAG,KAAKjC,iBAAL,CACZ,GAAE,KAAKW,qBAAL,GAA6B,CAAE,EADrB,CAAf;AAIA,YACEzX,eAAe,GACf,KAAK4W,SAAL,CAAeR,kBAAf,GAAoC,KAAKQ,SAAL,CAAeP,iBAFrD,EAIE;;AAEF,YAAI0C,MAAJ,EAAY;AACV;AACA,gBAAMC,OAAO,GAAG,KAAKjB,UAAL,CAAgB,KAAKnB,SAArB,CAAhB;AACA,gBAAM;AAAChmD,YAAAA,SAAS,EAAEqoD;AAAZ,cAA+B,KAAKf,eAAL,CAAqBa,MAArB,CAArC;AAEA,eAAKN,mBAAL,CAAyBO,OAAzB;AACA,eAAKE,yBAAL,CAA+B,KAAKzB,qBAAL,GAA6B,CAA5D;AACA,eAAK0B,eAAL,CAAqBJ,MAArB;AACAxhC,UAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAG0hC,eAAH,CAAJ;AACD,SATD,MASO;AACL;AACA,gBAAMD,OAAO,GAAG,KAAKjB,UAAL,CAAgB,KAAKnB,SAArB,CAAhB;AACA,eAAK6B,mBAAL,CAAyBO,OAAzB;AACA,eAAKI,uBAAL,CAA6B,EAA7B;AACA,eAAKF,yBAAL,CAA+B,IAA/B;AACA,eAAKC,eAAL,CAAqB,IAArB;AACAtD,UAAAA,SAAS,CAAC,KAAK6B,kBAAN,CAAT,KAAsCngC,IAAtC,aAAsCA,IAAtC,uBAAsCA,IAAI,CAAG,KAAKmgC,kBAAR,CAA1C;AACA,eAAKA,kBAAL,GAA0B,IAA1B;AACD;AACF;AACF,KA3CD,MA2CO,IAAIgB,aAAa,KAAK,CAAC,CAAvB,EAA0B;AAC/B,UAAI,CAAClB,QAAQ,CAACkB,aAAD,CAAR,CAAwBF,OAA7B,EAAsC;AACpC,aAAKU,yBAAL,CAA+B,CAA/B;AACA,aAAKE,uBAAL,CACE5B,QAAQ,CAAC7lD,KAAT,CAAe+mD,aAAf,EAA8BA,aAAa,GAAG,CAA9C,CADF;AAGA,aAAKS,eAAL,CAAqB3B,QAAQ,CAACkB,aAAD,CAA7B;AACD,OAND,MAMO;AACL;AACA,aAAKS,eAAL,CAAqB3B,QAAQ,CAAE,GAAEkB,aAAc,EAAlB,CAAR,IAAgC,EAArD;AACD;AACF,KAXM,MAWA;AACL;AACA,WAAKS,eAAL,CAAqB,IAArB;AACD;AACF;;AAEDR,EAAAA,YAAY,GAAG;AACb,UAAM1pD,KAAK,GAAG;AACZoqD,MAAAA,YAAY,EAAE3mD,SADF;AAEZ4mD,MAAAA,qBAAqB,EAAE;AAFX,KAAd;AAKA,WAAO,CAAC;AAAC3iC,MAAAA,KAAD;AAAQwM,MAAAA;AAAR,KAAD,KAAuB;AAAA;;AAC5B,YAAMipB,UAAU,GAAG,KAAKuK,OAAL,CAAa3W,eAAhC;AACA,YAAMuZ,YAAY,GAAG,KAAK5C,OAAL,CAAaa,QAAb,CAAsB7gC,KAAtB,CAArB;AACA,YAAMigC,SAAS,GAAG2C,YAAH,aAAGA,YAAH,uBAAGA,YAAY,CAAE9C,GAAd,CAAkBtzB,QAAlB,CAAlB;;AACA,UAAI,CAACyzB,SAAL,EAAgB;AACd;AACD;;AACD,UAAIzzB,QAAQ,KAAKl0B,KAAK,CAACoqD,YAAvB,EAAqC;AAAA;;AACnC,uDAAK1C,OAAL,EAAaU,YAAb,oGAA4BX,WAAW,CAAC,IAAD,EAAO6C,YAAP,CAAvC;AACAxqD,QAAAA,MAAM,CAACgJ,MAAP,CAAc9I,KAAd,EAAqB;AACnBoqD,UAAAA,YAAY,EAAEl2B,QADK;AAEnBm2B,UAAAA,qBAAqB,EAAE,KAFJ;AAGnBE,UAAAA,aAAa,EAAE1D,kBAAkB,CAACnkD,KAAnB;AAHI,SAArB;AAKD;;AACD,UACE,CAAC1C,KAAK,CAACqqD,qBAAP,IACAlN,UAAU,IAAIh8B,iBAAiB,CAACwmC,SAAD,CAFjC,EAGE;AACA3nD,QAAAA,KAAK,CAACqqD,qBAAN,GAA8B,IAA9B;;AACA,aAAK3C,OAAL,CAAaY,uBAAb,CAAqC;AACnCpnC,UAAAA,KAAK,EAAE,OAAO;AAACspC,YAAAA,WAAW,EAAE,MAAM;AAApB,WAAP;AAD4B,SAArC;AAGD;;AACD,UAAI,CAAC5D,SAAS,CAACzJ,UAAD,CAAV,IAA0B,2BAAAwK,SAAS,CAACI,cAAV,kFAA0B98C,MAA1B,KAAoC,CAAlE,EACE;AAEF,gCAAA08C,SAAS,CAACI,cAAV,kFAA0B12C,OAA1B,CAAkCjQ,CAAC,IAAI;AACrC,cAAM;AACJ4mD,UAAAA,SAAS,GAAG,EADR;AAEJC,UAAAA,UAAU,GAAG,EAFT;AAGJd,UAAAA,kBAAkB,GAAG,CAHjB;AAIJoC,UAAAA;AAJI,YAKFnoD,CALJ;AAMA,cAAMqpD,YAAY,GAAGzqD,KAAK,CAACuqD,aAAN,CAAoBhE,SAApB,CACnBz2C,IAAI,IAAIA,IAAI,KAAKk4C,SADE,CAArB;;AAIA,YACE,CAACuB,OAAD,IACAtB,UAAU,CAACh9C,MAAX,GAAoB,CADpB,IAEAkyC,UAAU,IAAIgK,kBAFd,IAGAsD,YAAY,KAAK,CAAC,CAJpB,EAKE;AACAxC,UAAAA,UAAU,CAAC52C,OAAX,CAAmBwQ,GAAG,IAAI;AACxB6kC,YAAAA,KAAK,CAAC7kC,GAAD,CAAL;AACD,WAFD;AAGA7hB,UAAAA,KAAK,CAACuqD,aAAN,CAAoBpT,MAApB,CAA2BsT,YAA3B,EAAyC,CAAzC;AACD;AACF,OAtBD;AAuBD,KAlDD;AAmDD;AAED;AACF;AACA;AACA;;;AACEtkB,EAAAA,MAAM,CAACnxB,EAAD,EAAK;AACT,UAAM;AAACuzC,MAAAA;AAAD,QAAa,KAAKb,OAAxB;AACA,UAAMgD,UAAU,GAAG,KAAKpB,aAAL,CAAmBt0C,EAAnB,CAAnB;AACA,UAAM21C,iBAAiB,GAAG,KAAK3B,gBAAL,CAAsBh0C,EAAtB,CAA1B;AAEA,QAAI,CAACuzC,QAAD,IAAaA,QAAQ,CAACt9C,MAAT,IAAmB,CAApC,EAAuC;;AAEvC,QAAI,KAAK08C,SAAT,EAAoB,CAApB,MAEO,IAAI+C,UAAU,CAACz/C,MAAX,GAAoB,CAAxB,EAA2B;AAChC,WAAKk/C,uBAAL,CAA6BO,UAA7B;AACA,WAAKT,yBAAL,CAA+B,CAA/B;AACA,WAAKxB,kBAAL,GAA0BkC,iBAAiB,KAAK,CAAC,CAAvB,GAA2B31C,EAA3B,GAAgC,IAA1D;AACD,KAJM,MAIA,IACL21C,iBAAiB,KAAK,CAAC,CAAvB,IACA,CAAC/D,SAAS,CAAC,KAAK8B,iBAAN,CADV,IAEA,CAAC,KAAKC,SAHD,EAIL;AACA,YAAM;AAAChnD,QAAAA;AAAD,UAAc,KAAKsnD,eAAL,CAAqBV,QAAQ,CAACoC,iBAAD,CAA7B,CAApB;AACA,WAAKjC,iBAAL,GAAyB/mD,SAAzB;AACD;AACF;AAED;;;AACA0kC,EAAAA,QAAQ,GAAG;AACT,UAAM;AAACkiB,MAAAA,QAAD;AAAWjgC,MAAAA;AAAX,QAAmB,KAAKo/B,OAA9B;AAEA,QAAI,CAACa,QAAD,IAAaA,QAAQ,CAACt9C,MAAT,IAAmB,CAApC,EAAuC;;AAEvC,QAAI,KAAK48C,iBAAL,CAAuB58C,MAAvB,GAAgC,CAAhC,IAAqC,CAAC,KAAK08C,SAA/C,EAA0D;AACxD,YAAMmC,MAAM,GACV,KAAKjC,iBAAL,CAAwB,GAAE,KAAKW,qBAAsB,EAArD,KAA2D,EAD7D;AAEA,YAAM;AAAC7mD,QAAAA,SAAS,EAAEqoD;AAAZ,UAA+B,KAAKf,eAAL,CAAqBa,MAArB,CAArC;AAEAxhC,MAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAG0hC,eAAH,CAAJ;AACA,WAAKE,eAAL,CAAqBJ,MAArB;AACD,KAPD,MAOO,IAAI,KAAKnC,SAAT,EAAoB,CAApB,MAEA,IAAIf,SAAS,CAAC,KAAK8B,iBAAN,CAAb,EAAuC;AAC5C9B,MAAAA,SAAS,CAAC,KAAK8B,iBAAN,CAAT,KAAqCpgC,IAArC,aAAqCA,IAArC,uBAAqCA,IAAI,CAAG,KAAKogC,iBAAR,CAAzC;AACA,WAAKA,iBAAL,GAAyB,IAAzB;AACA,WAAKC,SAAL,GAAiB,IAAjB;AACD,KAJM,MAIA;AACL,WAAKA,SAAL,GAAiB,KAAjB;AACD;AACF;;AAEDuB,EAAAA,eAAe,CAAC5gB,EAAD,EAAK;AAClB,QAAI,CAAC,KAAKqe,SAAN,IAAmBre,EAAvB,EAA2B;AAAA;;AACzB,sDAAKoe,OAAL,EAAaS,gBAAb,qGAAgCV,WAAW,CAAC,IAAD,EAAOne,EAAP,CAA3C;AACD,KAFD,MAEO,IAAI,KAAKqe,SAAL,IAAkB,CAACre,EAAvB,EAA2B;AAAA;;AAChC,uDAAKoe,OAAL,EAAaW,cAAb,uGAA8B;AAC5BpnC,QAAAA,aAAa,EAAE,MAAM,KAAKA,aAAL;AADO,OAA9B;AAGD;;AACD,SAAK0mC,SAAL,GAAiBre,EAAjB;;AAEA,QAAI,CAACA,EAAL,EAAS;AACP,WAAKsf,mBAAL,GAA2B,IAA3B;AACD;AACF;;AAEDuB,EAAAA,uBAAuB,CAAC3C,GAAD,EAAM;AAC3B,SAAKK,iBAAL,GAAyBL,GAAG,CAAC9kD,KAAJ,EAAzB;AACD;;AAEDunD,EAAAA,yBAAyB,CAACviC,KAAD,EAAQ;AAC/B,SAAK8gC,qBAAL,GAA6B9gC,KAA7B;AACD;AAED;;;AACAkjC,EAAAA,cAAc,GAAG;AACf,SAAKlD,OAAL,CAAaa,QAAb,GAAwB,KAAKb,OAAL,CAAaa,QAAb,CAAsB5nD,GAAtB,CAA0B2oC,EAAE,KAAK,EACvD,GAAGA,EADoD;AAEvDigB,MAAAA,OAAO,EAAE;AAF8C,KAAL,CAA5B,CAAxB;AAKA,SAAKY,uBAAL,CAA6B,EAA7B;AACA,SAAKF,yBAAL,CAA+B,IAA/B;AACA,SAAKC,eAAL,CAAqB,IAArB;AACD;AAED;;;AACAvsC,EAAAA,KAAK,GAAG;AACN,SAAK+pC,OAAL,GAAe;AACba,MAAAA,QAAQ,EAAE,EADG;AAEbxX,MAAAA,eAAe,EAAE,CAAC,CAFL;AAGbzoB,MAAAA,IAAI,EAAE;AAHO,KAAf;AAMA,SAAKq/B,SAAL,GAAiB,IAAjB;AACA,SAAKE,iBAAL,GAAyB,EAAzB;AACA,SAAKW,qBAAL,GAA6B,IAA7B;AACA,SAAKC,kBAAL,GAA0B,IAA1B;AACA,SAAKC,iBAAL,GAAyB,IAAzB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,mBAAL,GAA2B,IAA3B;AACD;AAED;;;AACAiC,EAAAA,YAAY,GAAG;AACb,SAAKnD,OAAL,GAAe,EACb,GAAG,KAAKA,OADK;AAEb3W,MAAAA,eAAe,EAAE;AAFJ,KAAf;AAIA,SAAK0X,kBAAL,GAA0B,IAA1B;AACA,SAAKC,iBAAL,GAAyB,IAAzB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AAEA,SAAKwB,uBAAL,CAA6B,EAA7B;AACA,SAAKF,yBAAL,CAA+B,IAA/B;AACA,SAAKC,eAAL,CAAqB,IAArB;AACD;;AA1V6B;;AChEhC,MAAMY,SAAS,GAAG,CAACC,MAAD,EAAS5N,UAAT,KAChB4N,MAAM,CAAC5qD,MAAP,CACE,CAACoY,OAAD,EAAUpN,IAAV,KACEoN,OAAO,CAAC4uC,kBAAR,IAA8Bh8C,IAAI,CAACg8C,kBAAnC,IACAh8C,IAAI,CAACg8C,kBAAL,IAA2BhK,UAD3B,GAEIhyC,IAFJ,GAGIoN,OALR,EAME;AAAC4uC,EAAAA,kBAAkB,EAAE,CAArB;AAAwBC,EAAAA,iBAAiB,EAAE;AAA3C,CANF,CADF;;AAUA,MAAM4D,aAAa,GAAG,CAACD,MAAD,EAASE,WAAT,KACpBF,MAAM,CAAC5qD,MAAP,CACE,CAAC8rB,IAAD,EAAO9gB,IAAP,KACE8gB,IAAI,IAAIA,IAAI,GAAG9gB,IAAI,CAACg8C,kBAAZ,GAAiCh8C,IAAI,CAACi8C,iBAAtC,GAA0D,CAA9D,CAFR,EAGE6D,WAHF,CADF;;AAOA,MAAMC,cAAc,GAAG,CAACH,MAAD,EAAS5N,UAAT,KACrBA,UAAU,GACV4N,MAAM,CACH9gD,MADH,CACUkB,IAAI,IAAIA,IAAI,CAACg8C,kBAAL,IAA2BhK,UAD7C,EAEGx8C,GAFH,CAEOwK,IAAI,IACPnJ,IAAI,CAACV,GAAL,CAAS67C,UAAU,GAAGhyC,IAAI,CAACg8C,kBAA3B,EAA+Ch8C,IAAI,CAACi8C,iBAApD,CAHJ,EAKGjnD,MALH,CAKU,CAACoJ,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CALxB,EAK2B,CAL3B,CAFF;;ACjBA,MAAM2hD,cAAc,GAAGC,aAAa,IAAI;AACtC,QAAM9rC,GAAG,GAAG,EAAZ;AACA,SAAOrE,KAAK,IAAI;AACd,QACE,EAAEjZ,IAAI,CAAC4vB,GAAL,CAAS3W,KAAK,CAAC7Y,WAAN,GAAoBkd,GAAG,CAAC+rC,UAAjC,IAA+C,GAAjD,KACApwC,KAAK,CAAC4gB,sBAAN,KAAiC,YAFnC,EAGE;AACAvc,MAAAA,GAAG,CAAC+rC,UAAJ,GAAiBpwC,KAAK,CAAC7Y,WAAvB;AACA;AACD;;AACDgpD,IAAAA,aAAa,CAAC;AACZC,MAAAA,UAAU,EAAE/rC,GAAG,CAAC+rC,UADJ;AAEZv0C,MAAAA,QAAQ,EAAEmE,KAAK,CAAC7Y;AAFJ,KAAD,CAAb;AAIAkd,IAAAA,GAAG,CAAC+rC,UAAJ,GAAiBpwC,KAAK,CAAC7Y,WAAvB;AACD,GAbD;AAcD,CAhBD;;ACOA,MAAMkpD,gBAAgB,GAAG,MAAM;AAC7BrxC,EAAAA,MAAM,CAACysC,KAAP,GAAe,OAAO7kC,GAAP,EAAY;AAACoT,IAAAA;AAAD,MAAW,EAAvB,KAA8B;AAC3C,UAAM/L,MAAM,GAAG,MAAMiL,yBAAK,CAACtS,GAAD,EAAM;AAACoT,MAAAA;AAAD,KAAN,CAA1B;AACA,WAAOnT,OAAO,CAACC,OAAR,CAAgB;AAACwpC,MAAAA,IAAI,EAAE,MAAMriC,MAAM,CAACtX;AAApB,KAAhB,CAAP;AACD,GAHD;AAID,CALD;;AAOA,MAAM45C,eAAe,GAAG,OAAM3pC,GAAN,KACtB6kC,KAAK,CAAC7kC,GAAD,EAAM;AAACoT,EAAAA,MAAM,EAAE;AAAT,CAAN,CAAL,CAA6BzR,IAA7B,CAAkC0F,MAAM,IAAIA,MAAM,CAACqiC,IAAP,EAA5C,CADF;;AAGA,MAAMn6C,EAAE,GAAG,CAACq6C,WAAD,EAAcv6C,SAAd,EAAyBC,OAAzB,KAAqC;AAC9Cs6C,EAAAA,WAAW,CAACvxC,gBAAZ,CAA6BhJ,SAA7B,EAAwCC,OAAxC;AACA,SAAO,MAAMs6C,WAAW,CAACtxC,mBAAZ,CAAgCjJ,SAAhC,EAA2CC,OAA3C,CAAb;AACD,CAHD;;AAKA,MAAMiJ,IAAI,GAAG,CAACqxC,WAAD,EAAcv6C,SAAd,EAAyBC,OAAzB,KAAqC;AAChD,QAAMu6C,QAAQ,GAAG,CAAC,GAAGzqD,IAAJ,KAAa;AAC5BwqD,IAAAA,WAAW,CAACtxC,mBAAZ,CAAgCjJ,SAAhC,EAA2Cw6C,QAA3C;AACA,WAAOv6C,OAAO,CAAC,GAAGlQ,IAAJ,CAAd;AACD,GAHD;;AAIAwqD,EAAAA,WAAW,CAACvxC,gBAAZ,CAA6BhJ,SAA7B,EAAwCw6C,QAAxC;AACD,CAND;;AAQA,MAAMC,SAAS,GAAG,CAAC7sB,YAAD,EAAeqe,UAAf,KAA8B;AAC9C;AACAre,EAAAA,YAAY,CAAC18B,WAAb,GAA2B+6C,UAA3B;AACD,CAHD;;AAKA,MAAMyO,YAAY,GAAG;AACnBxpD,EAAAA,WAAW,EAAE,CADM;AAEnBmmD,EAAAA,QAAQ,EAAE,EAFS;AAGnBsD,EAAAA,YAAY,EAAE,CAHK;AAInBC,EAAAA,YAAY,EAAE,KAJK;AAKnBC,EAAAA,aAAa,EAAE;AALI,CAArB;;AAQA,MAAMC,YAAY,GAAG,CAACC,UAAD,EAAantB,YAAb,KAA8B;AACjD,QAAM;AAAC18B,IAAAA,WAAD;AAAcN,IAAAA;AAAd,MAA0BmqD,UAAU,CAACt0C,cAA3C;AACA,SAAOmnB,YAAY,CAAC18B,WAAb,GAA2BN,QAA3B,GAAsCM,WAA7C;AACD,CAHD;;AAKA,MAAM8pD,SAAS,GAAG,CAAC9wC,OAAD,EAAUtL,IAAV,KAAmBhL,KAAK,IACxCsW,OAAO,CAACuB,IAAR,CAAa7M,IAAb,EAAmB;AACjBA,EAAAA,IADiB;AAEjBoR,EAAAA,KAAK,EAAE,MAAMpc,KAAK,CAACoc,KAAN,EAFI;AAGjBD,EAAAA,aAAa,EAAE,MAAMnc,KAAK,CAACmc,aAAN;AAHJ,CAAnB,CADF;;AAOA,MAAMkrC,eAAe,GAAGzhD,QAAQ,IAAI;AAClC,QAAM0hD,WAAW,GAAG,IAAIC,SAAJ,GAAgBC,eAAhB,CAAgC5hD,QAAhC,EAA0C,UAA1C,CAApB;AACA,QAAM6hD,qBAAqB,GAAGH,WAAW,CAACI,UAAZ,CAAuBC,YAAvB,CAC5B,uBAD4B,CAA9B;AAGA,SAAO,IAAIvqD,IAAJ,CAASqqD,qBAAT,EAAgCxnD,OAAhC,KAA4C,IAAnD;AACD,CAND;;AAQA,MAAM2nD,QAAQ,GAAG,CAAC;AAACC,EAAAA,aAAD;AAAgBtB,EAAAA,UAAhB;AAA4Bv0C,EAAAA,QAA5B;AAAsCwR,EAAAA;AAAtC,CAAD,KAAiD;AAChE,QAAMskC,QAAQ,GAAGD,aAAH,aAAGA,aAAH,uBAAGA,aAAa,CAAEE,6BAAf,CAA6C/1C,QAA7C,CAAjB;;AACA,MAAIA,QAAQ,IAAG81C,QAAH,aAAGA,QAAH,uBAAGA,QAAQ,CAAE7uC,GAAb,CAAR,IAA4BjH,QAAQ,GAAGu0C,UAA3C,EAAuD;AACrDjxC,IAAAA,IAAI,CAACuyC,aAAD,EAAgB,cAAhB,EAAgC,YAAY;AAC9C;AACA,YAAM,IAAI7qC,OAAJ,CAAYC,OAAO,IAAIvJ,UAAU,CAACuJ,OAAD,EAAU,EAAV,CAAjC,CAAN;AACAuG,MAAAA,IAAI,CAACxR,QAAD,CAAJ;AACD,KAJG,CAAJ;AAKD;;AACDwR,EAAAA,IAAI,CAAC,CAAAskC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEj2B,KAAV,IAAkB00B,UAAlB,GAA+BuB,QAAQ,CAACj2B,KAAxC,GAAgD7f,QAAjD,CAAJ;AACD,CAVD;;;AAaA,MAAMg2C,mBAAmB,GAAG,CAAChuB,YAAD,EAAe;AAACtf,EAAAA,MAAD;AAASpE,EAAAA;AAAT,CAAf,KAAqC;AAC/D,MAAIpb,KAAK,GAAG4rD,YAAZ;AACA,QAAMK,UAAU,GAAG,EAAnB;AAEA,QAAMc,UAAU,GAAG,IAAI7E,UAAJ,CAAe;AAChC5/B,IAAAA,IAAI,EAAE60B,UAAU,IAAIwO,SAAS,CAAC7sB,YAAD,EAAeqe,UAAf,CADG;AAEhCgL,IAAAA,gBAAgB,EAAE+D,SAAS,CAAC9wC,OAAD,EAAU,gBAAV,CAFK;AAGhCgtC,IAAAA,YAAY,EAAEtjD,KAAK,IAAI;AACrB9E,MAAAA,KAAK,CAACgtD,SAAN,GAAkBhB,YAAY,CAAClnD,KAAK,CAACmc,aAAN,EAAD,EAAwB6d,YAAxB,CAA9B;AACAotB,MAAAA,SAAS,CAAC9wC,OAAD,EAAU,YAAV,CAAT,CAAiCtW,KAAjC;AACD,KAN+B;AAOhCwjD,IAAAA,uBAAuB,EAAE4D,SAAS,CAAC9wC,OAAD,EAAU,uBAAV,CAPF;AAQhCitC,IAAAA,cAAc,EAAE6D,SAAS,CAAC9wC,OAAD,EAAU,cAAV;AARO,GAAf,CAAnB;;AAWA,QAAMyxC,6BAA6B,GAAG1P,UAAU,IAAI;AAClD,UAAM7T,EAAE,GAAGwhB,SAAS,CAAC9qD,KAAK,CAACuoD,QAAP,EAAiBpL,UAAU,GAAG,GAAb,GAAmBn9C,KAAK,CAAC6rD,YAA1C,CAApB;;AACA,QAAIviB,EAAE,CAAC8d,iBAAH,GAAuB,CAA3B,EAA8B;AAC5B,YAAMzwB,KAAK,GAAG2S,EAAE,CAAC6d,kBAAjB;AACA,YAAMppC,GAAG,GAAG4Y,KAAK,GAAG2S,EAAE,CAAC8d,iBAAvB;AACA,aAAO;AAACzwB,QAAAA,KAAD;AAAQ5Y,QAAAA,GAAR;AAAalB,QAAAA,MAAM,EAAE7c,KAAK,CAAC6c,MAAN,CAAaysB,EAAE,CAACyf,OAAhB;AAArB,OAAP;AACD;;AACD,WAAOtlD,SAAP;AACD,GARD;;AAUA2X,EAAAA,OAAO,CAAChK,EAAR,CAAW,cAAX,EAA2B,MAAM;AAC/BpR,IAAAA,KAAK,CAACgtD,SAAN,GAAkB,CAAC,CAAnB;AACA,UAAM1jB,EAAE,GAAGwhB,SAAS,CAAC9qD,KAAK,CAACuoD,QAAP,EAAiBzpB,YAAY,CAAC18B,WAA9B,CAApB;AACApC,IAAAA,KAAK,CAAC6c,MAAN,CAAaysB,EAAE,CAACyf,OAAhB,IAA2B,IAA3B;AACD,GAJD;;AAMA,QAAMkE,mBAAmB,GAAG,YAAY;AACtC,QAAI,CAAChB,UAAU,CAACiB,WAAhB,EAA6B;AAC3B;AACD;;AACD,UAAMC,YAAY,GAAG,CAAC,MAAMzG,KAAK,CAACuF,UAAU,CAACiB,WAAZ,CAAL,CAA8B1pC,IAA9B,CAAmC0F,MAAM,IACnEA,MAAM,CAACqiC,IAAP,EAD0B,CAAP,KAEf;AAACR,MAAAA,MAAM,EAAE;AAAT,KAFN;AAGA/qD,IAAAA,KAAK,CAACuoD,QAAN,GAAiB4E,YAAY,CAACpC,MAAb,IAAuB,EAAxC;;AACA,QAAIoC,YAAY,CAACpC,MAAb,CAAoB9/C,MAApB,GAA6B,CAAjC,EAAoC;AAClC8hD,MAAAA,UAAU,CAACxE,QAAX,GAAsBvoD,KAAK,CAACuoD,QAA5B;AACAntC,MAAAA,OAAO,CAACuB,IAAR,CAAa,kBAAb,EAAiC;AAC/BsE,QAAAA,aAAa,EAAE,OAAO;AACpBI,UAAAA,SAAS,EAAErhB,KAAK,CAACuoD,QAAN,CAAe5nD,GAAf,CAAmBwK,IAAI,KAAK;AACrCwrB,YAAAA,KAAK,EAAEu0B,cAAc,CAAClrD,KAAK,CAACuoD,QAAP,EAAiBp9C,IAAI,CAACg8C,kBAAtB;AADgB,WAAL,CAAvB;AADS,SAAP;AADgB,OAAjC;AAOD;AACF,GAlBD;;AAoBA,QAAMiG,gBAAgB,GAAGjQ,UAAU,IAAI;AACrC;AACA,QAAI39B,MAAM,CAACwlB,MAAP,MAAmBmY,UAAU,GAAGn9C,KAAK,CAACoC,WAAN,GAAoB,CAAxD,EAA2D;AACzDpC,MAAAA,KAAK,CAACoC,WAAN,GAAoB+6C,UAApB;AACA8P,MAAAA,mBAAmB;AACpB,KALoC;;;AAQrC,QAAIjtD,KAAK,CAAC8rD,YAAV,EAAwB;AACtB;AACA,UAAI9rD,KAAK,CAAC+rD,aAAN,GAAsB,GAAtB,IAA6B5O,UAAjC,EAA6C;AAC3C;AACD;;AACDn9C,MAAAA,KAAK,CAAC8rD,YAAN,GAAqB,KAArB;AACA9rD,MAAAA,KAAK,CAAC+rD,aAAN,GAAsB,CAAC,CAAvB;AACD;;AACDgB,IAAAA,UAAU,CAAChc,eAAX,GAA6BoM,UAAU,GAAGn9C,KAAK,CAAC6rD,YAAhD;AACD,GAjBD;;AAmBA,QAAMc,aAAa,GAAG;AACpBU,IAAAA,aAAa,EAAE,OAAO1uC,OAAO,GAAG,EAAjB,KAAwB;AACrC,YAAM2uC,YAAY,GAAG3uC,OAAO,CAAC4uC,yBAA7B;AACA,YAAM12B,IAAI,GAAG,MAAM20B,eAAe,CAAC8B,YAAD,CAAf,CAA8BvlC,KAA9B,CAAoChnB,KAAK,KAAK;AAACA,QAAAA;AAAD,OAAL,CAAzC,CAAnB;;AACA,UAAI,CAAC81B,IAAD,IAASA,IAAI,CAAC91B,KAAlB,EAAyB;AACvB;AACD;;AACDkrD,MAAAA,UAAU,CAACiB,WAAX,GAAyB,IAAIriD,GAAJ,CACvBgsB,IAAI,CAACq2B,WADkB,EAEvBI,YAFuB,EAGvB3yC,QAHuB,EAAzB;AAIAsxC,MAAAA,UAAU,CAACpqC,GAAX,GAAiB,IAAIhX,GAAJ,CAAQgsB,IAAI,CAACgL,WAAb,EAA0ByrB,YAA1B,EAAwC3yC,QAAxC,EAAjB,CAVqC;;AAYrC,YAAM6rC,cAAc,CAACyF,UAAU,CAACpqC,GAAZ,CAApB;AACA,YAAMorC,mBAAmB,EAAzB;AACA7xC,MAAAA,OAAO,CAACuB,IAAR,CAAa,QAAb,EAAuB;AAACsE,QAAAA,aAAa,EAAE,MAAMgrC;AAAtB,OAAvB;AACAjsD,MAAAA,KAAK,CAAC6c,MAAN,GAAe,EAAf;AACD,KAjBmB;AAkBpB3C,IAAAA,gBAAgB,EAAE,CAAChJ,SAAD,EAAYC,OAAZ,KAAwBiK,OAAO,CAAChK,EAAR,CAAWF,SAAX,EAAsBC,OAAtB,CAlBtB;AAmBpBgJ,IAAAA,mBAAmB,EAAE,CAACjJ,SAAD,EAAYC,OAAZ,KACnBiK,OAAO,CAACwC,GAAR,CAAY1M,SAAZ,EAAuBC,OAAvB,CApBkB;AAqBpBq8C,IAAAA,wBAAwB,EAAEvC,WAAW,IACnCD,aAAa,CAAChrD,KAAK,CAACuoD,QAAP,EAAiB0C,WAAjB,CAtBK;AAuBpBwC,IAAAA,wBAAwB,EAAEtQ,UAAU,IAClC+N,cAAc,CAAClrD,KAAK,CAACuoD,QAAP,EAAiBpL,UAAjB,CAxBI;AAyBpB0P,IAAAA,6BAzBoB;AA0BpBnkC,IAAAA,MAAM,EAAE,MAAM;AACZ,UAAI1oB,KAAK,CAACgtD,SAAN,GAAkB,CAAtB,EAAyB;AACvB;AACA,cAAMl2C,QAAQ,GAAG9W,KAAK,CAACgtD,SAAvB;AACAI,QAAAA,gBAAgB,CAACptD,KAAK,CAACgtD,SAAP,CAAhB;AACAhtD,QAAAA,KAAK,CAAC8rD,YAAN,GAAqB,IAArB;AACA9rD,QAAAA,KAAK,CAAC+rD,aAAN,GAAsBj1C,QAAtB;AAEA0I,QAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAE8I,IAAR,CAAaxR,QAAb,EAAuB,UAAvB;AACD;AACF,KApCmB;AAqCpB42C,IAAAA,eAAe,EAAEzhC,IAAI,IAAI;AACvBjsB,MAAAA,KAAK,CAAC6rD,YAAN,GAAqB5/B,IAArB;AACD,KAvCmB;AAwCpB0hC,IAAAA,aAAa,EAAE,MAAM3tD,KAAK,CAACuoD,QAxCP;AAyCpB5qC,IAAAA,KAAK,EAAE,MAAM;AACX3d,MAAAA,KAAK,CAACgR,UAAN,CAAiBK,OAAjB,CAAyBC,cAAc,IAAIA,cAAc,EAAzD;AACAy7C,MAAAA,UAAU,CAACpvC,KAAX;AACA3d,MAAAA,KAAK,GAAG4rD,YAAR;AACAK,MAAAA,UAAU,CAACiB,WAAX,GAAyB,EAAzB;AACD;AA9CmB,GAAtB;AAiDA,QAAM9B,aAAa,GAAGD,cAAc,CAAC,CAAC;AAACE,IAAAA,UAAD;AAAav0C,IAAAA;AAAb,GAAD,KAA4B;AAC/D,QAAI9W,KAAK,CAACgtD,SAAN,GAAkB,CAAtB,EAAyB;AACvBrB,MAAAA,SAAS,CAAC7sB,YAAD,EAAeusB,UAAf,CAAT;AACA;AACD;;AACD,UAAMuC,IAAI,GAAG92C,QAAQ,GAAGu0C,UAAxB;;AACA,QAAIrpD,IAAI,CAAC4vB,GAAL,CAASg8B,IAAI,GAAG,EAAhB,KAAuB,IAA3B,EAAiC;AAC/BjC,MAAAA,SAAS,CACP7sB,YADO,EAEPksB,aAAa,CACXhrD,KAAK,CAACuoD,QADK,EAEX2C,cAAc,CAAClrD,KAAK,CAACuoD,QAAP,EAAiB8C,UAAjB,CAAd,GAA6CuC,IAFlC,CAFN,CAAT;AAOA;AACD;;AACDlB,IAAAA,QAAQ,CAAC;AACPC,MAAAA,aADO;AAEPtB,MAAAA,UAFO;AAGPv0C,MAAAA,QAHO;AAIPwR,MAAAA,IAAI,EAAE60B,UAAU,IAAI;AAClB,YAAIn7C,IAAI,CAAC4vB,GAAL,CAASkN,YAAY,CAAC18B,WAAb,GAA2B+6C,UAApC,IAAkD,GAAtD,EAA2D;AACzDwO,UAAAA,SAAS,CAAC7sB,YAAD,EAAeqe,UAAf,CAAT;AACD;AACF;AARM,KAAD,CAAR;AAUD,GA1BmC,CAApC;AA4BAn9C,EAAAA,KAAK,CAACgR,UAAN,GAAmB,CACjBI,EAAE,CAAC0tB,YAAD,EAAe,YAAf,EAA6B,MAAM;AACnCssB,IAAAA,aAAa,CAACtsB,YAAD,CAAb;;AACA,QAAI,CAACA,YAAY,CAAChT,MAAlB,EAA0B;AACxBshC,MAAAA,gBAAgB,CAACtuB,YAAY,CAAC18B,WAAd,CAAhB;AACD;AACF,GALC,CADe,EAOjBgP,EAAE,CAAC0tB,YAAD,EAAe,OAAf,EAAwB,MAAMsuB,gBAAgB,CAAC3gD,QAAD,CAA9C,CAPe,CAAnB;AAUA,SAAOkgD,aAAP;AACD,CA9JD;;AAgKA,MAAMkB,IAAI,GAAG,CAAClvC,OAAD,EAAU;AAACmvC,EAAAA;AAAD,CAAV,KAA4B;AAAA;;AACvC,QAAM;AAACtuC,IAAAA,MAAD;AAASvE,IAAAA,KAAT;AAAgB0xC,IAAAA;AAAhB,MAAiChuC,OAAvC;AACA,QAAMW,GAAG,GAAG;AAACE,IAAAA,MAAD;AAASvE,IAAAA,KAAT;AAAgB0xC,IAAAA;AAAhB,GAAZ;AACAA,EAAAA,aAAa,CAACzyC,gBAAd,CAA+B,YAA/B,EAA6CpV,KAAK,IAAI;AACpDwa,IAAAA,GAAG,CAAC0tC,SAAJ,GAAgBhB,YAAY,CAAClnD,KAAK,CAACmc,aAAN,EAAD,EAAwB3B,GAAG,CAACrE,KAA5B,CAA5B;AACD,GAFD;AAGA0xC,EAAAA,aAAa,CAACzyC,gBAAd,CAA+B,cAA/B,EAA+C,MAAM;AACnDoF,IAAAA,GAAG,CAAC0tC,SAAJ,GAAgB,CAAC,CAAjB;AACD,GAFD;AAGAxtC,EAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,0BAAAA,MAAM,CAAEpO,EAAR,+DAAAoO,MAAM,EAAO,cAAP,EAAuB,MAAM;AACjC,QAAIA,MAAM,CAAC9U,QAAP,CAAgBk2B,IAAhB,IAAwBphB,MAAM,CAACwlB,MAAP,EAA5B,EAA6C;AAC3C;AACA2nB,MAAAA,aAAa,CAACe,eAAd,CAA8BvB,eAAe,CAAC3sC,MAAM,CAACuuC,WAAP,EAAD,CAA7C;AACD;AACF,GALK,CAAN;;AAMA,MAAID,WAAJ,EAAiB;AACf7yC,IAAAA,KAAK,CAACf,gBAAN,CAAuB,YAAvB,EAAqC,MAAM;AACzC,YAAMijC,UAAU,GAAGliC,KAAK,CAAC7Y,WAAzB;AACA,YAAMwqD,QAAQ,GAAGD,aAAa,CAACE,6BAAd,CACf1P,UAAU,GAAG,GADE,CAAjB;;AAGA,UAAI,CAAAyP,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAE7uC,GAAV,IAAgBo/B,UAAhB,IAA8ByP,QAAQ,CAAC/vC,MAA3C,EAAmD;AACjD2C,QAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAE8I,IAAR,CAAaskC,QAAQ,CAAC7uC,GAAtB,EAA2B,UAA3B;AACD;AACF,KARD;AASD;;AACD,SAAOuB,GAAP;AACD,CA3BD;;MA6BM0uC,iBAAiB,GAAG,CAAC;AAACF,EAAAA;AAAD,IAAgB,EAAjB,KAAwB;AAChD,QAAM1yC,OAAO,GAAGC,wBAAI,EAApB;AACA,MAAIiE,GAAG,GAAG,EAAV;AAEA,SAAO;AACL+L,IAAAA,IAAI,EAAE,OAAO4iC,YAAP,EAAqB;AAACzuC,MAAAA,MAAD;AAASvE,MAAAA;AAAT,QAAkB,EAAvC,KAA8C;AAAA;;AAClD,UAAI,OAAOyrC,KAAP,KAAiB,UAArB,EAAiC;AAC/B4E,QAAAA,gBAAgB;AACjB;;AACD,4BAAAhsC,GAAG,CAACqtC,aAAJ,0EAAmBhvC,KAAnB;AACA,YAAMuwC,kBAAkB,yBAAGD,YAAY,CAACE,IAAhB,uDAAG,mBAAmBC,YAA9C;;AACA,UAAI,CAACF,kBAAL,EAAyB;AACvB,eAAOD,YAAP;AACD;;AACD,YAAMtB,aAAa,GAAGG,mBAAmB,CAAC7xC,KAAD,EAAQ;AAACuE,QAAAA,MAAD;AAASpE,QAAAA;AAAT,OAAR,CAAzC;AACAkE,MAAAA,GAAG,GAAGuuC,IAAI,CAAC;AAACruC,QAAAA,MAAD;AAASvE,QAAAA,KAAT;AAAgB0xC,QAAAA;AAAhB,OAAD,EAAiC;AAACmB,QAAAA;AAAD,OAAjC,CAAV;AACAnB,MAAAA,aAAa,CAACU,aAAd,CAA4Ba,kBAA5B;AACA,YAAM;AAACrsC,QAAAA;AAAD,UAAQ,MAAM,IAAIC,OAAJ,CAAYC,OAAO,IACrC3H,IAAI,CAACuyC,aAAD,EAAgB,QAAhB,EAA0B7nD,KAAK,IAAIid,OAAO,CAACjd,KAAK,CAACmc,aAAN,EAAD,CAA1C,CADc,CAApB;;AAGA,UAAI,CAACY,GAAL,EAAU;AACR/O,QAAAA,OAAO,CAACu7C,IAAR,CAAa,yDAAb;AACA,eAAOJ,YAAP;AACD;;AAED,aAAO,EACL,GAAGA,YADE;AAEL1xC,QAAAA,YAAY,EAAE,KAFT;AAGLsF,QAAAA,GAHK;AAILysC,QAAAA,UAAU,EAAE3B,aAAa,CAACgB,aAAd,EAJP;AAKLhsD,QAAAA,SAAS,EAAEgrD,aAAa,CAACa,wBAAd,CACTS,YAAY,CAACtsD,SADJ;AALN,OAAP;AASD,KA9BI;AA+BLs/B,IAAAA,UAAU,EAAE,CAACgqB,WAAD,EAAc3iC,IAAd,KAAuB;AACjC,UAAI,CAAChJ,GAAG,CAACqtC,aAAT,EAAwB;AACtB,eAAOrkC,IAAI,CAAC2iC,WAAD,CAAX;AACD;;AACDyB,MAAAA,QAAQ,CAAC;AACPC,QAAAA,aAAa,EAAErtC,GAAG,CAACqtC,aADZ;AAEPtB,QAAAA,UAAU,EAAE/rC,GAAG,CAACrE,KAAJ,CAAU7Y,WAFf;AAGP0U,QAAAA,QAAQ,EAAEwI,GAAG,CAACqtC,aAAJ,CAAkBa,wBAAlB,CAA2CvC,WAA3C,CAHH;AAIP3iC,QAAAA;AAJO,OAAD,CAAR;AAMD,KAzCI;AA0CLI,IAAAA,MAAM,EAAE,MAAMpJ,GAAG,CAACqtC,aAAJ,CAAkBjkC,MAAlB,EA1CT;AA2CLvN,IAAAA,iBAAiB,EAAE,MACjBmE,GAAG,CAACqtC,aAAJ,IAAqB;AACnBvqD,MAAAA,WAAW,EAAEkd,GAAG,CAACqtC,aAAJ,CAAkBc,wBAAlB,CACXnuC,GAAG,CAACrE,KAAJ,CAAU7Y,WADC,CADM;AAInBN,MAAAA,QAAQ,EAAEwd,GAAG,CAACqtC,aAAJ,CAAkBc,wBAAlB,CACRnuC,GAAG,CAACrE,KAAJ,CAAUnZ,QADF,CAJS;AAOnB,UAAIwd,GAAG,CAAC0tC,SAAJ,GAAgB,CAAhB,IAAqB;AACvB9gC,QAAAA,eAAe,EAAE5M,GAAG,CAAC0tC,SAAJ,GAAgB1tC,GAAG,CAACrE,KAAJ,CAAU7Y;AADpB,OAAzB;AAPmB,KA5ClB;AAuDLgP,IAAAA,EAAE,EAAE,CAAC/Q,IAAD,EAAOqrD,QAAP,KAAoBtwC,OAAO,CAAChK,EAAR,CAAW/Q,IAAX,EAAiBqrD,QAAjB,CAvDnB;AAwDL/tC,IAAAA,KAAK,EAAE,MAAM;AAAA;;AACX,6BAAA2B,GAAG,CAACqtC,aAAJ,4EAAmBhvC,KAAnB;AACA2B,MAAAA,GAAG,CAACqtC,aAAJ,GAAoBlpD,SAApB;AACD;AA3DI,GAAP;AA6DD;;AC1UD;AAKA,MAAM8qD,QAAQ,GAAG;AACf/vB,EAAAA,OAAO,EAAE,WADM;AAEf;AACAgwB,EAAAA,QAAQ,EAAE,CAHK;AAIf7wB,EAAAA,OAAO,EAAE,MAJM;AAKfkhB,EAAAA,QAAQ,EAAE,MALK;AAMfhhB,EAAAA,UAAU,EAAE,QANG;AAOf,SAAO;AACL;AACA0e,IAAAA,UAAU,EAAE,MAFP;AAGLyB,IAAAA,WAAW,EAAE;AAHR,GAPQ;AAYf1L,EAAAA,OAAO,EAAE,GAZM;AAafC,EAAAA,UAAU,EAAE;AAbG,CAAjB;AAgBA,MAAMkc,SAAS,GAAG;AAChBnc,EAAAA,OAAO,EAAE,GADO;AAEhB;AACA5T,EAAAA,aAAa,EAAE,MAHC;AAIhBC,EAAAA,WAAW,EAAE;AAJG,CAAlB;;AAOA,MAAM+vB,WAAW,GAAG,CAAC;AAAC7iB,EAAAA,KAAD;AAAQ8iB,EAAAA,IAAR;AAAc7vC,EAAAA;AAAd,CAAD,KAClBI;AACE,EAAA,SAAS,EAAC,0BADZ;AAEE,EAAA,GAAG,GAAGqvC,QAAH,EAAaI,IAAI,IAAIF,SAArB,EAAgC5iB,KAAhC,EAAuC;AAACxN,IAAAA;AAAD,GAAvC,i+DAFL;AAAA,YAIGvf;AAJH,EADF;;AASA4vC,WAAW,CAACvvC,SAAZ,GAAwB;AACtB0sB,EAAAA,KAAK,EAAEz8B,SAAS,CAAC3O,MADK;AAEtBkuD,EAAAA,IAAI,EAAEv/C,SAAS,CAACq5B,IAFM;AAGtB3pB,EAAAA,QAAQ,EAAE1P,SAAS,CAACgQ;AAHE,CAAxB;AAKAsvC,WAAW,CAACv8B,YAAZ,GAA2B;AACzB0Z,EAAAA,KAAK,EAAE;AADkB,CAA3B;;AC1CA;AAIA,MAAM+H,IAAI,GAAG;AACXxV,EAAAA,UAAU,EAAE,MADD;AAEXD,EAAAA,KAAK,EAAE,OAFI;AAGX+T,EAAAA,QAAQ,EAAE,EAHC;AAIXjU,EAAAA,UAAU,EAAE,QAJD;AAKXN,EAAAA,OAAO,EAAE,aALE;AAMXE,EAAAA,UAAU,EAAE,QAND;AAOX+wB,EAAAA,IAAI,EAAE;AACJzqD,IAAAA,KAAK,EAAE,EADH;AAEJw5B,IAAAA,OAAO,EAAE,cAFL;AAGJO,IAAAA,SAAS,EAAE;AAHP;AAPK,CAAb;;AAcA,MAAM2wB,aAAa,GAAG,CAAC;AAAC5iC,EAAAA,IAAD;AAAO6iC,EAAAA,QAAP;AAAiBjjB,EAAAA;AAAjB,CAAD,KAA6B;AACjD5f,EAAAA,IAAI,GAAGjqB,IAAI,CAACC,KAAL,CAAWgqB,IAAX,CAAP;AACA,QAAM8iC,MAAM,GAAG9iC,IAAI,GAAG,EAAtB;AACA,QAAM+iC,MAAM,GAAI,CAAC/iC,IAAI,GAAG8iC,MAAR,IAAkB,EAAnB,GAAyB,EAAxC;AACA,QAAME,IAAI,GAAG,CAAChjC,IAAI,GAAG8iC,MAAP,GAAgBC,MAAM,GAAG,EAA1B,IAAgC,EAAhC,GAAqC,EAAlD;AACA,SACE9hB;AAAM,IAAA,SAAS,EAAC,4BAAhB;AAA6C,IAAA,GAAG,GAAG0G,IAAH,EAAS/H,KAAT,u4EAAhD;AAAA,eACG,CAACijB,QAAQ,IAAIG,IAAI,KAAK,CAAtB,KACC/hB,kBAACmX,cAAD;AAAA,iBACEnlC;AACE,QAAA,SAAS,EAAC,kCADZ;AAEE,QAAA,GAAG,GAAG00B,IAAI,CAACgb,IAAR,EAAc/iB,KAAK,CAAC+iB,IAApB,u4EAFL;AAAA,kBAIGM,MAAM,CAACD,IAAD,CAAN,CAAanmB,QAAb,CAAsB,CAAtB,EAAyB,GAAzB;AAJH,QADF;AAAA,MAFJ,EAYE5pB;AACE,MAAA,SAAS,EAAC,kCADZ;AAEE,MAAA,GAAG,GAAG00B,IAAI,CAACgb,IAAR,EAAc/iB,KAAK,CAAC+iB,IAApB,u4EAFL;AAAA,gBAIGM,MAAM,CAACF,MAAD,CAAN,CAAelmB,QAAf,CAAwB,CAAxB,EAA2B,GAA3B;AAJH,MAZF,OAmBE5pB;AACE,MAAA,SAAS,EAAC,kCADZ;AAEE,MAAA,GAAG,GAAG00B,IAAI,CAACgb,IAAR,EAAc/iB,KAAK,CAAC+iB,IAApB,u4EAFL;AAAA,gBAIGM,MAAM,CAACH,MAAD,CAAN,CAAejmB,QAAf,CAAwB,CAAxB,EAA2B,GAA3B;AAJH,MAnBF;AAAA,IADF;AA4BD,CAjCD;;AAkCA+lB,aAAa,CAAC1vC,SAAd,GAA0B;AACxB8M,EAAAA,IAAI,EAAE7c,SAAS,CAACE,MADQ;AAExBw/C,EAAAA,QAAQ,EAAE1/C,SAAS,CAACq5B,IAFI;AAGxBoD,EAAAA,KAAK,EAAEz8B,SAAS,CAACQ,KAAV,CAAgB;AACrBg/C,IAAAA,IAAI,EAAEx/C,SAAS,CAAC3O;AADK,GAAhB;AAHiB,CAA1B;AAOAouD,aAAa,CAAC18B,YAAd,GAA6B;AAC3B0Z,EAAAA,KAAK,EAAE;AADoB,CAA7B;;;AClDA,MAAMuG,WAAW,GAAG;AAClBzD,EAAAA,IAAI,EAAE,CADY;AAElB0D,EAAAA,MAAM,EAAE,UAFU;AAGlB5tC,EAAAA,MAAM,EAAE,KAHU;AAIlBs5B,EAAAA,eAAe,EAAE;AAJC,CAApB;;;;;;;;;;;;;;;;;;;;;;AAOA,MAAMoV,OAAO,GAAG,MAAM;AACpB,QAAM;AACJnzC,IAAAA,KADI;AAEJ4kB,IAAAA,OAAO,EAAE;AAAC0D,MAAAA;AAAD;AAFL,MAGFc,cAAc,EAHlB;AAIA,QAAM;AAAChnB,IAAAA,WAAD;AAAcmiB,IAAAA,YAAY,GAAGniB,WAA7B;AAA0CN,IAAAA;AAA1C,MACJ9B,KAAK,CAAC0kB,UAAN,KAAqB,MAArB,GACIjjB,WAAW,CAACG,wBAAI,CAAC5B,KAAD,EAAQ,YAAR,CAAJ,IAA6B,EAA9B,CADf,GAEIA,KAHN;AAKA,SACEktC;AACE,IAAA,SAAS,EAAC,sBADZ;AAEE,IAAA,GAAG,MAFL;AAAA,eASEhuB,iBAAC,aAAD;AAAe,MAAA,IAAI,EAAEqF;AAArB,MATF,EAUGvkB,KAAK,CAAC0kB,UAAN,KAAqB,MAArB,GACCxF;AAAK,MAAA,GAAG,EAAEkzB;AAAV,MADD,GAGClzB,iBAAC,YAAD;AACE,MAAA,GAAG,OADL;AAEE,MAAA,KAAK,EAAEqF,YAFT;AAGE,MAAA,GAAG,EAAEziB,QAHP;AAIE,MAAA,iBAAiB,EAAE,CAACo7B,CAAD,EAAI;AAAC37B,QAAAA;AAAD,OAAJ,KACjB+mB,IAAI,CAAC;AAACC,QAAAA,MAAM,EAAE/Z,UAAU,CAACC,KAApB;AAA2BrL,QAAAA,OAAO,EAAE7B;AAApC,OAAD;AALR,MAbJ,EAsBE2d,iBAAC,aAAD;AAAe,MAAA,IAAI,EAAEld,IAAI,CAACR,GAAL,CAASM,QAAT,EAAmByiB,YAAnB;AAArB,MAtBF;AAAA,IADF;AA0BD,CApCD;;AChBA;;AASA,MAAMypB,UAAU,GAAG,CAAC;AAAC3tC,EAAAA,IAAD;AAAO+hB,EAAAA,GAAP;AAAY+rB,EAAAA,OAAZ;AAAqBr0B,EAAAA;AAArB,CAAD,KAAmC;AACpD,QAAM;AAAC6iB,IAAAA;AAAD,MAAcpd,gBAAU,CAACw7B,IAAI,CAACh7B,OAAN,CAA9B;AAEA,SACEb,iBAAC,OAAD;AAAS,IAAA,KAAK,EAAEyd,SAAS,CAACwR,OAAD,CAAzB;AAAoC,IAAA,MAAM,EAAC,MAA3C;AAAA,cACEjvB,iBAAC+uB,YAAD;AAAQ,MAAA,IAAI,EAAE5tC,IAAd;AAAoB,MAAA,OAAO,EAAEyZ,OAA7B;AAAA,gBACEoF,iBAAC,IAAD;AAAM,QAAA,GAAG,EAAEkD;AAAX;AADF;AADF,IADF;AAOD,CAVD;;AAYA4rB,UAAU,CAAC7uB,SAAX,GAAuB;AACrB9e,EAAAA,IAAI,EAAE+O,SAAS,CAACG,MADK;AAErB6S,EAAAA,GAAG,EAAEhT,SAAS,CAACG,MAFM;AAGrB4+B,EAAAA,OAAO,EAAE/+B,SAAS,CAACG,MAHE;AAIrBuK,EAAAA,OAAO,EAAE1K,SAAS,CAACpO;AAJE,CAAvB;;ACjBA,MAAMotC,UAAU,GAAG,MAAM;AACvB,QAAM;AACJpuC,IAAAA,KAAK,EAAE;AAACuhB,MAAAA;AAAD,KADH;AAEJqD,IAAAA,OAAO,EAAE;AAACsD,MAAAA,IAAD;AAAOE,MAAAA;AAAP;AAFL,MAGFgB,cAAc,EAHlB;AAIA,QAAMnpB,MAAM,GAAGshB,WAAW,KAAK,SAAhB,GAA4B,MAA5B,GAAqC,OAApD;AACA,QAAM4sB,OAAO,GACX5sB,WAAW,KAAK,SAAhB,GAA4B,iBAA5B,GAAgD,kBADlD;AAGA,sBACErC,eAAC,UAAD;AACE,IAAA,GAAG,EAAEgvB,IAAI,CAACjuC,MAAD,CADX;AAEE,IAAA,OAAO,EAAEkuC,OAFX;AAGE,IAAA,OAAO,EAAEluC,MAAM,KAAK,MAAX,GAAoBioB,IAApB,GAA2BE;AAHtC,IADF;AAOD,CAhBD;;ACCA,MAAM2rB,YAAY,GAAG,MAAM;AACzB,QAAM;AACJnvB,IAAAA,OAAO,EAAE;AAAC0D,MAAAA;AAAD;AADL,MAEFc,cAAc,EAFlB;AAIA,sBACElK,eAAC,UAAD;AACE,IAAA,GAAG,EAAEgvB,IAAI,CAACvD,QADZ;AAEE,IAAA,OAAO,EAAC,mBAFV;AAGE,IAAA,OAAO,EAAE,MAAMriB,IAAI,CAAC;AAACC,MAAAA,MAAM,EAAE/Z,UAAU,CAACE,OAApB;AAA6BtL,MAAAA,OAAO,EAAE,CAAC;AAAvC,KAAD;AAHrB,IADF;AAOD,CAZD;;ACAA,MAAM4wC,aAAa,GAAG,MAAM;AAC1B,QAAM;AACJpvB,IAAAA,OAAO,EAAE;AAAC0D,MAAAA;AAAD;AADL,MAEFc,cAAc,EAFlB;AAIA,sBACElK,eAAC,UAAD;AACE,IAAA,GAAG,EAAEgvB,IAAI,CAACxD,SADZ;AAEE,IAAA,OAAO,EAAC,oBAFV;AAGE,IAAA,OAAO,EAAE,MAAMpiB,IAAI,CAAC;AAACC,MAAAA,MAAM,EAAE/Z,UAAU,CAACE,OAApB;AAA6BtL,MAAAA,OAAO,EAAE;AAAtC,KAAD;AAHrB,IADF;AAOD,CAZD;;ACDA,MAAMm6C,qBAAqB,GAAG,MAAM;AAClC,QAAM;AACJ34B,IAAAA,OAAO,EAAE;AAACC,MAAAA,WAAD;AAAc/P,MAAAA;AAAd;AADL,MAEFsU,cAAc,EAFlB;AAIA,SACEvE,WAAW,mBACT3F,eAAC,UAAD;AACE,IAAA,GAAG,EAAEgvB,IAAI,CAACnD,eADZ;AAEE,IAAA,OAAO,EAAC,qBAFV;AAGE,IAAA,OAAO,EAAEj2B;AAHX,IAFJ;AASD,CAdD;;ACAA,MAAM6lC,iBAAiB,GAAG,MAAM;AAC9B,QAAM;AACJ/1B,IAAAA,OAAO,EAAE;AAACE,MAAAA,OAAD;AAAUlQ,MAAAA;AAAV;AADL,MAEFwU,cAAc,EAFlB;AAIA,SACEtE,OAAO,mBACL5F,eAAC,UAAD;AACE,IAAA,GAAG,EAAEgvB,IAAI,CAAClD,WADZ;AAEE,IAAA,OAAO,EAAC,iBAFV;AAGE,IAAA,OAAO,EAAEp2B;AAHX,IAFJ;AASD,CAdD;;ACJA;AAoBA,MAAMi3B,KAAK,GAAG;AACZ3X,EAAAA,QAAQ,EAAE,OADE;AAEZkY,EAAAA,MAAM,EAAE,GAFI;AAGZN,EAAAA,MAAM,EAAE,GAHI;AAIZ3nC,EAAAA,KAAK,EAAE,MAJK;AAKZM,EAAAA,MAAM,EAAE,MALI;AAMZo5B,EAAAA,UAAU,EAAE,QANA;AAOZE,EAAAA,eAAe,EAAE,wBAPL;AAQZI,EAAAA,KAAK,EAAE,MARK;AASZ,SAAO;AACLwQ,IAAAA,IAAI,EAAE;AADD;AATK,CAAd;AAcA,MAAMwgB,YAAY,GAAG;AACnB3wB,EAAAA,OAAO,EAAE,YADU;AAEnB,SAAO;AACL6T,IAAAA,MAAM,EAAE;AADH,GAFY;AAKnB,uBAAqB;AACnB;AACAA,IAAAA,MAAM,EAAE;AAFW;AALF,CAArB;AAWA,MAAM+c,YAAY,GAAG;AACnBzgB,EAAAA,IAAI,EAAE,GADa;AAEnB6f,EAAAA,QAAQ,EAAE,GAFS;AAGnBtwB,EAAAA,SAAS,EAAE,QAHQ;AAInBD,EAAAA,UAAU,EAAE,QAJO;AAKnB2Q,EAAAA,QAAQ,EAAE,QALS;AAMnB2P,EAAAA,YAAY,EAAE;AANK,CAArB;AASA,MAAM8Q,aAAa,GAAG;AACpB1gB,EAAAA,IAAI,EAAE,GADc;AAEpBhR,EAAAA,OAAO,EAAE,MAFW;AAGpBE,EAAAA,UAAU,EAAE,QAHQ;AAIpBD,EAAAA,cAAc,EAAE,UAJI;AAKpBr0B,EAAAA,CAAC,EAAE;AACDo0B,IAAAA,OAAO,EAAE,OADR;AAEDigB,IAAAA,cAAc,EAAE,WAFf;AAGD,iBAAa;AACXzf,MAAAA,KAAK,EAAE;AADI;AAHZ,GALiB;AAYpBE,EAAAA,MAAM,EAAE;AACNgU,IAAAA,MAAM,EAAE,UADF;AAEN7T,IAAAA,OAAO,EAAE,eAFH;AAGNr6B,IAAAA,KAAK,EAAE,MAHD;AAIN+R,IAAAA,MAAM,EAAE,oCAJF;AAKNg8B,IAAAA,QAAQ,EAAE;AALJ;AAZY,CAAtB;AAqBA,MAAMod,iBAAiB,GAAG;AACxB,GAAC3gD,SAAS,CAACE,SAAX,GAAuB,4BADC;AAExB,GAACF,SAAS,CAACI,aAAX,GAA2B;AAFH,CAA1B;;AAKA,MAAMwgD,WAAW,GAAG,MAAM;AACxB,QAAM;AAAC5yB,IAAAA;AAAD,MAAcpd,gBAAU,CAACw7B,IAAI,CAACh7B,OAAN,CAA9B;AACA,QAAM;AACJ/f,IAAAA,KAAK,EAAE;AACL4S,MAAAA,SADK;AAELyR,MAAAA,UAFK;AAGLC,MAAAA,UAHK;AAIL/C,MAAAA,WAJK;AAKLmD,MAAAA,UALK;AAMLuC,MAAAA,cANK;AAOLM,MAAAA,gBAPK;AAQLC,MAAAA,aARK;AASLJ,MAAAA;AATK,KADH;AAYJxC,IAAAA,OAAO,EAAE;AAAC8D,MAAAA;AAAD;AAZL,MAaFU,cAAc,EAblB;AAcA,QAAMomC,aAAa,GAAGxtD,IAAI,CAAC4nC,IAAL,CAAUpiB,aAAa,GAAGD,gBAA1B,CAAtB;AACA,QAAMkoC,MAAM,GACV78C,SAAS,KAAK,WAAd,KAA8B,CAAC2O,WAAD,IAAgBA,WAAW,KAAK,MAA9D,CADF;AAEA,QAAMmuC,eAAe,GAAG;AACtB/xB,IAAAA,OAAO,EAAE/qB,SAAS,KAAK,WAAd,GAA4B,MAA5B,GAAqC;AADxB,GAAxB;AAGA,QAAM+8C,iBAAiB,GAAG;AACxBC,IAAAA,KAAK,EAAEtrC,UADiB;AAExBurC,IAAAA,UAAU,EAAExrC;AAFY,GAA1B;AAIA,QAAMyrC,gBAAgB,GAAGnzB,SAAS,CAAC,qBAAD,EAAwBgzB,iBAAxB,CAAlC;AACA,QAAMI,cAAc,GAAGpzB,SAAS,CAAC,iBAAD,EAAoBgzB,iBAApB,CAAhC;AAEA,SACEzwC;AACE,IAAA,SAAS,EAAEyuB,8BAAU,CAAC,sBAAD,EAAyB;AAC5C,oCAA8B/6B,SAAS,KAAK;AADA,KAAzB,CADvB;AAIE,IAAA,GAAG,GAAG88C,eAAH,EAAoB7jB,KAApB,6pMAJL;AAAA,cAMG4jB,MAAM,GACLvwC,iBAAC,OAAD;AAAS,MAAA,YAAY,MAArB;AAAsB,MAAA,KAAK,EAAE4wC,gBAA7B;AAAA,gBACE5wC;AAAK,QAAA,SAAS,EAAC,iCAAf;AAAiD,QAAA,GAAG,EAAEkwC,YAAtD;AAAA,kBACGU;AADH;AADF,MADK,GAOL5iB,kBAAC,WAAD;AAAa,MAAA,KAAK,EAAEiiB,YAApB;AAAA,iBACG,CAACloC,cAAD,IAAmB/H,iBAAC,OAAD,KADtB,EAEEA,iBAAC,qBAAD,KAFF,EAGEA,iBAAC,UAAD,KAHF,EAIEA,iBAAC8wC,iBAAD,KAJF,EAKG/oC,cAAc,GACbimB;AAAK,QAAA,GAAG,EAAEmiB,aAAV;AAAA,mBACEnwC;AAAG,UAAA,IAAI,EAAEkI,eAAT;AAA0B,UAAA,GAAG,EAAC,UAA9B;AAAyC,UAAA,MAAM,EAAC,QAAhD;AAAA,oBACElI,iBAAC,IAAD,CAAM,OAAN;AAAc,YAAA,IAAI,EAAC,qBAAnB;AAAyC,YAAA,IAAI,EAAE;AAA/C;AADF,UADF,EAIGsI,aAAa,GAAG,CAAhB,IACCtI,iBAAC,UAAD;AAAY,UAAA,aAAa,EAAEswC,aAA3B;AAA0C,UAAA,OAAO,EAAE9mC;AAAnD,UALJ;AAAA,QADa,GAUbwkB;AAAA,mBACGxoB,UAAU,KAAK,MAAf,IAAyBxF,iBAAC,YAAD,KAD5B,EAEGwF,UAAU,KAAK,MAAf,IAAyBxF,iBAAC,aAAD,KAF5B,EAGEA,iBAAC,OAAD;AAAS,UAAA,YAAY,MAArB;AAAsB,UAAA,KAAK,EAAE6wC,cAA7B;AAAA,oBACE7wC;AAAK,YAAA,GAAG,EAAEkwC,YAAV;AAAA,sBAAyBW;AAAzB;AADF,UAHF;AAAA,QAfJ,EAuBE7wC,iBAAC+0B,eAAD;AAAe,QAAA,aAAa,MAA5B;AAA6B,QAAA,cAAc,EAAE1qB;AAA7C,QAvBF,EAwBErK,iBAAC,OAAD;AACE,QAAA,KAAK,EAAEyd,SAAS,CAAC2yB,iBAAiB,CAAC18C,SAAD,CAAlB,CADlB;AAEE,QAAA,MAAM,EAAC,MAFT;AAAA,kBAIEsM,iBAAC86B,eAAD;AAJF,QAxBF;AAAA;AAbJ,IADF;AAgDD,CA7ED;;MC1EMiW,UAAU,GAAG,CAAC;AAACx/C,EAAAA,IAAD;AAAO4rB,EAAAA,cAAP;AAAuBvd,EAAAA,QAAvB;AAAiC,KAAG22B;AAApC,CAAD,kBACjBv2B,eAAC,YAAD;AAAc,EAAA,IAAI,EAAEzO,IAApB;AAAA,KAA8BglC,KAA9B;AAAA,yBACEvI,gBAAC,IAAD,CAAM,QAAN;AAAe,IAAA,IAAI,EAAEz8B,IAArB;AAA2B,IAAA,cAAc,EAAE4rB,cAA3C;AAAA,eACGvd,QADH,eAEEI,eAAC,WAAD,KAFF;AAAA;AADF;;AAQF+wC,UAAU,CAAC9wC,SAAX,GAAuB;AACrB6F,EAAAA,KAAK,EAAE5V,SAAS,CAACG,MADI;AAErB9H,EAAAA,IAAI,EAAE2H,SAAS,CAACG,MAFK;AAGrB0V,EAAAA,WAAW,EAAE7V,SAAS,CAACG,MAHF;AAIrB2V,EAAAA,QAAQ,EAAE9V,SAAS,CAACG,MAJC;AAKrBkB,EAAAA,IAAI,EAAE0Y,KAAK,CAACtd,YALS;AAMrBwwB,EAAAA,cAAc,EAAEjtB,SAAS,CAAC3O,MANL;AAOrB8kB,EAAAA,aAAa,EAAEnW,SAAS,CAAC3O,MAPJ;AAQrB2kB,EAAAA,WAAW,EAAEhW,SAAS,CAACpO,IARF;AASrBqkB,EAAAA,SAAS,EAAEjW,SAAS,CAACpO,IATA;AAUrBskB,EAAAA,OAAO,EAAElW,SAAS,CAACpO,IAVE;AAWrB8d,EAAAA,QAAQ,EAAE1P,SAAS,CAACgQ;AAXC,CAAvB;;ACbA;AACA;AACA;AACA;AACA;AACA;;MACM8wC,gCAAgC,GAAG,CAAC;AAACC,EAAAA,eAAe,GAAG;AAAnB,IAAwB,EAAzB,KAAgC;AACvE,QAAMl1C,KAAK,GAAGgH,QAAQ,CAAC0Z,aAAT,CAAuB,OAAvB,CAAd;;AACA,MAAI1gB,KAAK,IAAIse,KAAK,GAAGl5B,IAAR,KAAiB,KAA9B,EAAqC;AACnC,QAAI+vD,SAAS,GAAG;AAACvkC,MAAAA,OAAO,EAAE;AAAV,KAAhB;;AACA,UAAMwkC,SAAS,GAAG,CAAC;AAACxkC,MAAAA,OAAO,GAAGukC,SAAS,CAACvkC;AAArB,QAAgC,EAAjC,KAAwC;AACxDukC,MAAAA,SAAS,GAAG;AACVvkC,QAAAA,OADU;AAEV,YAAIA,OAAO,IAAI;AAACykC,UAAAA,cAAc,EAAEpuD,IAAI,CAACC,GAAL;AAAjB,SAAf;AAFU,OAAZ;AAID,KALD;;AAMA8Y,IAAAA,KAAK,CAACf,gBAAN,CAAuB,OAAvB,EAAgC,MAAM;AACpCk2C,MAAAA,SAAS,GAAG;AAACvkC,QAAAA,OAAO,EAAE;AAAV,OAAZ;AACD,KAFD;AAGA5Q,IAAAA,KAAK,CAACf,gBAAN,CAAuB,SAAvB,EAAkC,MAAM;AACtCk2C,MAAAA,SAAS,GAAG;AAACvkC,QAAAA,OAAO,EAAE;AAAV,OAAZ;AACD,KAFD;AAGA5Q,IAAAA,KAAK,CAACf,gBAAN,CAAuB,SAAvB,EAAkC,MAAM;AACtCk2C,MAAAA,SAAS,GAAG;AAACvkC,QAAAA,OAAO,EAAE;AAAV,OAAZ;AACD,KAFD;AAGA5Q,IAAAA,KAAK,CAACf,gBAAN,CAAuB,+BAAvB,EAAwD,MAAM;AAC5Dk2C,MAAAA,SAAS,GAAG;AACVvkC,QAAAA,OAAO,EAAE,KADC;AAEV0kC,QAAAA,cAAc,EAAEruD,IAAI,CAACC,GAAL,KAAa;AAFnB,OAAZ;AAID,KALD;AAMA8Y,IAAAA,KAAK,CAACf,gBAAN,CAAuB,YAAvB,EAAqC,MAAM;AACzC,UAAI,CAACe,KAAK,CAAC6Q,MAAX,EAAmB;AACjB,cAAM0kC,KAAK,GAAGtuD,IAAI,CAACC,GAAL,KAAaiuD,SAAS,CAACE,cAArC;AACAF,QAAAA,SAAS,CAACE,cAAV,GAA2BpuD,IAAI,CAACC,GAAL,EAA3B;;AACA,YAAIquD,KAAK,GAAG,CAAR,IAAaA,KAAK,GAAG,IAAzB,EAA+B;AAC7BJ,UAAAA,SAAS,CAACvkC,OAAV,GAAoB,IAApB;AACD;AACF;;AACDwkC,MAAAA,SAAS,CAAC;AAACxkC,QAAAA,OAAO,EAAE,CAAC5Q,KAAK,CAAC6Q;AAAjB,OAAD,CAAT;AACD,KATD;AAUA7Q,IAAAA,KAAK,CAACf,gBAAN,CAAuB,YAAvB,EAAqCm2C,SAArC;AACA13C,IAAAA,WAAW,CAAC,MAAM;AAChB,UACEsC,KAAK,CAAC6Q,MAAN,IACA,CAACskC,SAAS,CAACvkC,OADX,IAEAukC,SAAS,CAACG,cAAV,IAA4BruD,IAAI,CAACC,GAAL,EAH9B,EAIE;AACA;AACD;;AACD,YAAMsuD,YAAY,GAAG,CAACvuD,IAAI,CAACC,GAAL,KAAaiuD,SAAS,CAACE,cAAxB,IAA0C,IAA/D;;AACA,UAAIG,YAAY,IAAIN,eAApB,EAAqC;AACnCr9C,QAAAA,OAAO,CAACwsB,GAAR,CACE,oEADF;AAGArkB,QAAAA,KAAK,CAACmN,KAAN;AACD;AACF,KAfU,EAeR,GAfQ,CAAX;AAgBD;AACF;;MChDY;AAAC5oB,EAAAA;AAAD,IAAuBgI;;;;;;;;;;;;;"}